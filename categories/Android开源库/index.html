<!DOCTYPE html>
<html lang="zh">
<head><meta name="generator" content="Hexo 3.8.0">
    <meta charset="utf-8">
<title>分类: Android开源库 - onlyloveyd</title>
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">



    <meta name="description" content="小码过河，人人喊累">
<meta name="keywords" content="onlyloveyd">
<meta property="og:type" content="website">
<meta property="og:title" content="onlyloveyd">
<meta property="og:url" content="http://yoursite.com/categories/Android开源库/index.html">
<meta property="og:site_name" content="onlyloveyd">
<meta property="og:description" content="小码过河，人人喊累">
<meta property="og:locale" content="zh-CN">
<meta property="og:image" content="http://yoursite.com/images/og_image.png">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="onlyloveyd">
<meta name="twitter:description" content="小码过河，人人喊累">
<meta name="twitter:image" content="http://yoursite.com/images/og_image.png">







<link rel="icon" href="/images/favicon.svg">


<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bulma@0.7.2/css/bulma.css">
<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.4.1/css/all.css">
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Ubuntu:400,600|Source+Code+Pro">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/highlight.js@9.12.0/styles/atom-one-light.css">


    
    
    
    <style>body>.footer,body>.navbar,body>.section{opacity:0}</style>
    

    
    
    
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/lightgallery@1.6.8/dist/css/lightgallery.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/justifiedGallery@3.7.0/dist/css/justifiedGallery.min.css">
    

    
    

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/outdatedbrowser@1.1.5/outdatedbrowser/outdatedbrowser.min.css">


    
    
    
    

<link rel="stylesheet" href="/css/back-to-top.css">


    
    

    
    
    
    

    
    
<link rel="stylesheet" href="/css/progressbar.css">
<script src="https://cdn.jsdelivr.net/npm/pace-js@1.0.2/pace.min.js"></script>

    
    
    

    
    
    


<link rel="stylesheet" href="/css/style.css">
</head>
<body class="is-3-column">
    <nav class="navbar navbar-main">
    <div class="container">
        <div class="navbar-brand is-flex-center">
            <a class="navbar-item navbar-logo" href="/">
            
                <img src="/images/logo.svg" alt="onlyloveyd" height="28">
            
            </a>
        </div>
        <div class="navbar-menu">
            
            <div class="navbar-start">
                
                <a class="navbar-item" href="/">Home</a>
                
                <a class="navbar-item" href="/archives">Archives</a>
                
                <a class="navbar-item" href="/categories">Categories</a>
                
                <a class="navbar-item" href="/tags">Tags</a>
                
                <a class="navbar-item" href="/about">About</a>
                
            </div>
            
            <div class="navbar-end">
                
                    
                    
                    <a class="navbar-item" target="_blank" title="Download on GitHub" href="https://github.com/ppoffice/hexo-theme-icarus">
                        
                        <i class="fab fa-github"></i>
                        
                    </a>
                    
                
                
                
                <a class="navbar-item search" title="搜索" href="javascript:;">
                    <i class="fas fa-search"></i>
                </a>
                
            </div>
        </div>
    </div>
</nav>
    
    <section class="section">
        <div class="container">
            <div class="columns">
                <div class="column is-8-tablet is-8-desktop is-6-widescreen has-order-2 column-main"><div class="card">
    <div class="card-content">
        <nav class="breadcrumb" aria-label="breadcrumbs">
        <ul>
            <li><a href="/categories">分类</a></li>
            
            <li class="is-active"><a href="#" aria-current="page">Android开源库</a></li>
        </ul>
        </nav>
    </div>
</div>

    <div class="card">
    
    <div class="card-content article ">
        
        <div class="level article-meta is-size-7 is-uppercase is-mobile is-overflow-x-auto">
            <div class="level-left">
                <time class="level-item has-text-grey" datetime="2018-01-27T14:41:49.000Z">2018-01-27</time>
                
                <div class="level-item">
                <a class="has-link-grey -link" href="/categories/Android开源库/">Android开源库</a>
                </div>
                
                
                <span class="level-item has-text-grey">
                    
                    
                    8 分钟 读完 (大约 1204 个字)
                </span>
                
                
            </div>
        </div>
        
        <h1 class="title is-size-3 is-size-4-mobile has-text-weight-normal">
            
                <a class="has-link-black-ter" href="/2018/01/27/《Android开源库》 Retrofit & WebService/">《Android开源库》 Retrofit &amp; WebService</a>
            
        </h1>
        <div class="content">
            <p> 版权声明：本文为博主原创文章，未经博主允许不得转载。 <a href="https://blog.csdn.net/poorkick/article/details/79183920" target="_blank" rel="noopener">https://blog.csdn.net/poorkick/article/details/79183920</a>   </p>
<h2 id="1-前言"><a href="#1-前言" class="headerlink" title="1. 前言"></a><a href></a>1. 前言</h2><p> 最近工作中需要使用到WebService接口，个人比较喜欢Restful的接口风格，对WebService不是很了解。</p>
<blockquote>
<p>Web Service也叫XML Web Service WebService是一种可以接收从Internet或者Intranet上的其它系统中传递过来的请求，轻量级的独立的通讯技术。是:通过SOAP在Web上提供的软件服务，使用WSDL文件进行说明，并通过UDDI进行注册。</p>
<p> 而对于我们移动开发人员而言，它就是一种数据交互的通道。我们需要了解他的请求结构体和响应结构体。</p>
</blockquote>
<h2 id="2-WebService调试工具SoapUI"><a href="#2-WebService调试工具SoapUI" class="headerlink" title="2. WebService调试工具SoapUI"></a><a href></a>2. WebService调试工具SoapUI</h2><p> SoapUI是一个开源测试工具，通过soap/http来检查、调用、实现Web Service的功能/负载/符合性测试。该工具既可作为一个单独的测试软件使用，也可利用插件集成到Eclipse，maven2.X，Netbeans 和intellij中使用。SoapUI Pro是SoapUI的商业非开源版本，实现的功能较开源的SoapUI更多。<br> (找不到资源的可以在文章下方留言)<br> <img src="https://img-blog.csdn.net/20180127220625998?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvcG9vcmtpY2s=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="这里写图片描述"></p>
<h2 id="3-接口分析（以getMobileCodeInfo为例）"><a href="#3-接口分析（以getMobileCodeInfo为例）" class="headerlink" title="3. 接口分析（以getMobileCodeInfo为例）"></a><a href></a>3. 接口分析（以getMobileCodeInfo为例）</h2><p> 以 <a href="http://ws.webxml.com.cn/WebServices/MobileCodeWS.asmx?wsdl" target="_blank" rel="noopener">http://ws.webxml.com.cn/WebServices/MobileCodeWS.asmx?wsdl</a> 为测试例子</p>
<p> <img src="https://img-blog.csdn.net/20180127220823070?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvcG9vcmtpY2s=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="这里写图片描述"><br> <img src="https://img-blog.csdn.net/20180127220831236?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvcG9vcmtpY2s=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="这里写图片描述"></p>
<p> 从上面两个图可以看到我们得请求体和响应体的结构和内容，以XML格式作为数据交互的结构类型。</p>
<h2 id="4-程序设计"><a href="#4-程序设计" class="headerlink" title="4. 程序设计"></a><a href></a>4. 程序设计</h2><h3 id="4-1-添加依赖"><a href="#4-1-添加依赖" class="headerlink" title="4.1 添加依赖"></a><a href></a>4.1 添加依赖</h3><figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">implementation &apos;com.squareup.okhttp3:okhttp:3.8.0&apos;</span><br><span class="line">implementation &apos;com.parkingwang:okhttp3-loginterceptor:0.5&apos;</span><br><span class="line">implementation &apos;com.squareup.retrofit2:retrofit:2.3.0&apos;</span><br><span class="line">implementation &apos;com.squareup.retrofit2:adapter-rxjava2:2.3.0&apos;</span><br><span class="line">implementation(&apos;com.squareup.retrofit2:converter-simplexml:2.3.0&apos;) &#123;</span><br><span class="line">    exclude module: &apos;stax&apos;</span><br><span class="line">    exclude module: &apos;stax-api&apos;</span><br><span class="line">    exclude module: &apos;xpp3&apos;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


<h3 id="4-2-请求体设计"><a href="#4-2-请求体设计" class="headerlink" title="4.2 请求体设计"></a><a href></a>4.2 请求体设计</h3><p> 从请求体XML结构而言</p>
<figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">&lt;soap:Envelope xmlns:soap=&quot;http://www.w3.org/2003/05/soap-envelope&quot; xmlns:web=&quot;http://WebXml.com.cn/&quot;&gt;</span><br><span class="line">   &lt;soap:Header/&gt;</span><br><span class="line">   &lt;soap:Body&gt;</span><br><span class="line">      &lt;web:getMobileCodeInfo&gt;</span><br><span class="line">         &lt;!--Optional:--&gt;</span><br><span class="line">         </span><br><span class="line">         &lt;!--Optional:--&gt;</span><br><span class="line">         &lt;web:mobileCode&gt;18507152743&lt;/web:mobileCode&gt;</span><br><span class="line">      &lt;/web:getMobileCodeInfo&gt;</span><br><span class="line">   &lt;/soap:Body&gt;</span><br><span class="line">&lt;/soap:Envelope&gt;</span><br></pre></td></tr></table></figure>

<p> 最外层soap:Envelope<br> 其次soap:Body<br> 最后web:getMobileCodeInfo，而web:getMobileCodeInfo中有一个mobileCode我们可以用变量表示，所以创建如下三个类：<br> MobileCodeRequestEnvelope.java</p>
<figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">@Root(name = &quot;soap:Envelope&quot;)</span><br><span class="line">@NamespaceList(&#123;</span><br><span class="line">        @Namespace(prefix = &quot;xsi&quot;, reference = &quot;http://www.w3.org/2001/XMLSchema-instance&quot;),</span><br><span class="line">        @Namespace(prefix = &quot;xsd&quot;, reference = &quot;http://www.w3.org/2001/XMLSchema&quot;),</span><br><span class="line">        @Namespace(prefix = &quot;soap&quot;, reference = &quot;http://www.w3.org/2003/05/soap-envelope&quot;)</span><br><span class="line">&#125;)</span><br><span class="line">public class MobileCodeRequestEnvelope &#123;</span><br><span class="line"></span><br><span class="line">    @Element(name = &quot;soap:Body&quot;, required = false)</span><br><span class="line">    private MobileCodeRequestBody body;</span><br><span class="line"></span><br><span class="line">    public MobileCodeRequestBody getBody() &#123;</span><br><span class="line">        return body;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public void setBody(MobileCodeRequestBody body) &#123;</span><br><span class="line">        this.body = body;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p> MobileCodeRequestBody.java</p>
<figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">@Root(name = &quot;soap:Body&quot;, strict = false)</span><br><span class="line">public class MobileCodeRequestBody &#123;</span><br><span class="line">    @Element(name = &quot;getMobileCodeInfo&quot;, required = false)</span><br><span class="line">    private MobileCodeRequestData mMobileCodeRequestData;</span><br><span class="line"></span><br><span class="line">    public MobileCodeRequestData getMobileCodeRequestData() &#123;</span><br><span class="line">        return mMobileCodeRequestData;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public void setMobileCodeRequestData(</span><br><span class="line">            MobileCodeRequestData mobileCodeRequestData) &#123;</span><br><span class="line">        mMobileCodeRequestData = mobileCodeRequestData;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p> MobileCodeRequestData.java</p>
<figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">@Root(name = &quot;getMobileCodeInfo&quot;, strict = false)</span><br><span class="line">@Namespace(reference = &quot;http://WebXml.com.cn/&quot;)</span><br><span class="line">public class MobileCodeRequestData &#123;</span><br><span class="line">    @Element(name = &quot;mobileCode&quot;, required = false)</span><br><span class="line">    private String mobileCode;</span><br><span class="line"></span><br><span class="line">    public String getMobileCode() &#123;</span><br><span class="line">        return mobileCode;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public void setMobileCode(String mobileCode) &#123;</span><br><span class="line">        this.mobileCode = mobileCode;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


<h3 id="4-3-响应体设计"><a href="#4-3-响应体设计" class="headerlink" title="4.3 响应体设计"></a><a href></a>4.3 响应体设计</h3><p> 从响应体XML而言</p>
<figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&lt;soap:Envelope xmlns:soap=&quot;http://www.w3.org/2003/05/soap-envelope&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xmlns:xsd=&quot;http://www.w3.org/2001/XMLSchema&quot;&gt;</span><br><span class="line">   &lt;soap:Body&gt;</span><br><span class="line">      &lt;getMobileCodeInfoResponse xmlns=&quot;http://WebXml.com.cn/&quot;&gt;</span><br><span class="line">         &lt;getMobileCodeInfoResult&gt;18507152743：湖北 武汉 湖北联通GSM卡&lt;/getMobileCodeInfoResult&gt;</span><br><span class="line">      &lt;/getMobileCodeInfoResponse&gt;</span><br><span class="line">   &lt;/soap:Body&gt;</span><br><span class="line">&lt;/soap:Envelope&gt;</span><br></pre></td></tr></table></figure>

<p> 最外层soap:Envelope<br> 其次soap:Body<br> 然后getMobileCodeInfoResponse，最后getMobileCodeInfoResult，我们可以用变量表示，所以创建如下三个类：</p>
<p> MobileCodeResponseEnvelope.java</p>
<figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">@Root(name = &quot;soap:Envelope&quot;)</span><br><span class="line">@NamespaceList(&#123;</span><br><span class="line">        @Namespace( prefix = &quot;xsi&quot;, reference = &quot;http://www.w3.org/2001/XMLSchema-instance&quot;),</span><br><span class="line">        @Namespace( prefix = &quot;xsd&quot;, reference = &quot;http://www.w3.org/2001/XMLSchema&quot;),</span><br><span class="line">        @Namespace( prefix = &quot;soap&quot;, reference = &quot;http://www.w3.org/2003/05/soap-envelope&quot;)</span><br><span class="line">&#125;)</span><br><span class="line">public class MobileCodeResponseEnvelope &#123;</span><br><span class="line">    @Element(name = &quot;Body&quot;, required = false)</span><br><span class="line">    private MobileCodeResponseBody mMobildCodeResponseBody;</span><br><span class="line"></span><br><span class="line">    public MobileCodeResponseBody getMobildCodeResponseBody() &#123;</span><br><span class="line">        return mMobildCodeResponseBody;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public void setMobildCodeResponseBody(</span><br><span class="line">            MobileCodeResponseBody mobildCodeResponseBody) &#123;</span><br><span class="line">        mMobildCodeResponseBody = mobildCodeResponseBody;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p> MobileCodeResponseBody.java</p>
<figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">@Root(name = &quot;Body&quot;)</span><br><span class="line">public class MobileCodeResponseBody &#123;</span><br><span class="line">    public MobileCodeResponseInfo getMobileCodeResponseInfo() &#123;</span><br><span class="line">        return mMobileCodeResponseInfo;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public void setMobileCodeResponseInfo(</span><br><span class="line">            MobileCodeResponseInfo mobileCodeResponseInfo) &#123;</span><br><span class="line">        mMobileCodeResponseInfo = mobileCodeResponseInfo;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    @Element(name = &quot;getMobileCodeInfoResponse&quot;, required = false)</span><br><span class="line">    private MobileCodeResponseInfo mMobileCodeResponseInfo;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p> MobileCodeResponseInfo.java</p>
<figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">@Root(name = &quot;getMobileCodeInfoResponse&quot;,strict = false)</span><br><span class="line">public class MobileCodeResponseInfo &#123;</span><br><span class="line"></span><br><span class="line">    public String getMobileCodeResult() &#123;</span><br><span class="line">        return MobileCodeResult;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public void setMobileCodeResult(String mobileCodeResult) &#123;</span><br><span class="line">        MobileCodeResult = mobileCodeResult;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    @Element(name = &quot;getMobileCodeInfoResult&quot;, required = false)</span><br><span class="line">    private String MobileCodeResult;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


<h3 id="4-4-接口设计"><a href="#4-4-接口设计" class="headerlink" title="4.4 接口设计"></a><a href></a>4.4 接口设计</h3><figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">public interface mobileCodeApi &#123;</span><br><span class="line">    @Headers(&#123;</span><br><span class="line">            &quot;Content-Type: text/xml&quot;,</span><br><span class="line">            &quot;Accept-Charset: utf-8&quot;</span><br><span class="line">    &#125;)</span><br><span class="line">    @POST(&quot;MobileCodeWS.asmx&quot;)</span><br><span class="line">    Call&lt;MobileCodeResponseEnvelope&gt; getMobileCodeInfo(</span><br><span class="line">            @Body MobileCodeRequestEnvelope requestEnvelope);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


<h3 id="4-5-Retrofit创建"><a href="#4-5-Retrofit创建" class="headerlink" title="4.5 Retrofit创建"></a><a href></a>4.5 Retrofit创建</h3><figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line">public class Retrofitance &#123;</span><br><span class="line">    private static Strategy strategy = new AnnotationStrategy();</span><br><span class="line">    private static Serializer serializer = new Persister(strategy);</span><br><span class="line"></span><br><span class="line">    private static OkHttpClient.Builder okHttpClient = new OkHttpClient.Builder();</span><br><span class="line"></span><br><span class="line">    private static Retrofit.Builder retrofitBuilder = new Retrofit.Builder()</span><br><span class="line">            .addConverterFactory(SimpleXmlConverterFactory.create(serializer))</span><br><span class="line">            .baseUrl(Constant.BASE_URL);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    public static &lt;T&gt; T createMobileCodeService(Class&lt;T&gt; serviceClass) &#123;</span><br><span class="line">        okHttpClient.interceptors().add(new Interceptor() &#123;</span><br><span class="line">            @Override</span><br><span class="line">            public okhttp3.Response intercept(Interceptor.Chain chain) throws IOException &#123;</span><br><span class="line">                Request original = chain.request();</span><br><span class="line"></span><br><span class="line">                Request.Builder requestBuilder = original.newBuilder()</span><br><span class="line">                        .header(&quot;Content-Type&quot;, &quot;text/xml;charset=UTF-8&quot;)</span><br><span class="line">                        .method(original.method(), original.body());</span><br><span class="line"></span><br><span class="line">                Request request = requestBuilder.build();</span><br><span class="line">                return chain.proceed(request);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br><span class="line"></span><br><span class="line">        OkHttpClient client = okHttpClient.connectTimeout(1, TimeUnit.MINUTES)</span><br><span class="line">                .addInterceptor(new LogInterceptor())</span><br><span class="line">                .writeTimeout(1, TimeUnit.MINUTES)</span><br><span class="line">                .readTimeout(1, TimeUnit.MINUTES)</span><br><span class="line">                .build();</span><br><span class="line">        Retrofit retrofit = retrofitBuilder.client(client).build();</span><br><span class="line">        return retrofit.create(serviceClass);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


<h3 id="4-6-请求数据"><a href="#4-6-请求数据" class="headerlink" title="4.6 请求数据"></a><a href></a>4.6 请求数据</h3><figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line">mobileCodeApi apiService = Retrofitance.createMobileCodeService(mobileCodeApi.class);</span><br><span class="line">MobileCodeRequestEnvelope requestEnvelope = new MobileCodeRequestEnvelope();</span><br><span class="line">MobileCodeRequestBody requestBody = new MobileCodeRequestBody();</span><br><span class="line">MobileCodeRequestData requestData = new MobileCodeRequestData();</span><br><span class="line"></span><br><span class="line">requestData.setMobileCode(&quot;18507152743&quot;);</span><br><span class="line">requestBody.setMobileCodeRequestData(requestData);</span><br><span class="line">requestEnvelope.setBody(requestBody);</span><br><span class="line"></span><br><span class="line">Call&lt;MobileCodeResponseEnvelope&gt; call = apiService.getMobileCodeInfo(requestEnvelope);</span><br><span class="line">call.enqueue(new Callback&lt;MobileCodeResponseEnvelope&gt;() &#123;</span><br><span class="line">    @Override</span><br><span class="line">    public void onResponse(Call&lt;MobileCodeResponseEnvelope&gt; call,</span><br><span class="line">            Response&lt;MobileCodeResponseEnvelope&gt; response) &#123;</span><br><span class="line">        MobileCodeResponseEnvelope mobileCodeResponseEnvelope = response.body();</span><br><span class="line">        if (mobileCodeResponseEnvelope != null) &#123;</span><br><span class="line">            Toast.makeText(MainActivity.this, &quot;请求成功&quot;, Toast.LENGTH_SHORT).show();</span><br><span class="line">            String result =</span><br><span class="line">                    mobileCodeResponseEnvelope.getMobildCodeResponseBody()</span><br><span class="line">                            .getMobileCodeResponseInfo().getMobileCodeResult();</span><br><span class="line">            mTvMobileResult.setText(result);</span><br><span class="line">            System.err.println(&quot;yidong -- result = &quot; + result);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    @Override</span><br><span class="line">    public void onFailure(Call&lt;MobileCodeResponseEnvelope&gt; call, Throwable t) &#123;</span><br><span class="line">        System.err.println(&quot;yidong -- onFailure&quot;);</span><br><span class="line">        Toast.makeText(MainActivity.this, &quot;请求失败&quot;, Toast.LENGTH_SHORT).show();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>


<h3 id="4-7-效果"><a href="#4-7-效果" class="headerlink" title="4.7 效果"></a><a href></a>4.7 效果</h3><p> <img src="https://img-blog.csdn.net/20180127222506868?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvcG9vcmtpY2s=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="这里写图片描述"></p>
<h2 id="5-源码地址"><a href="#5-源码地址" class="headerlink" title="5. 源码地址"></a><a href></a>5. 源码地址</h2><p> <a href="https://github.com/onlyloveyd/RetrofitWebService" target="_blank" rel="noopener">RetrofitWebService</a></p>

        </div>
        
        
        
    </div>
</div>








    <div class="card">
    
    <div class="card-content article ">
        
        <div class="level article-meta is-size-7 is-uppercase is-mobile is-overflow-x-auto">
            <div class="level-left">
                <time class="level-item has-text-grey" datetime="2018-01-08T13:00:11.000Z">2018-01-08</time>
                
                <div class="level-item">
                <a class="has-link-grey -link" href="/categories/Android开源库/">Android开源库</a>
                </div>
                
                
                <span class="level-item has-text-grey">
                    
                    
                    5 分钟 读完 (大约 790 个字)
                </span>
                
                
            </div>
        </div>
        
        <h1 class="title is-size-3 is-size-4-mobile has-text-weight-normal">
            
                <a class="has-link-black-ter" href="/2018/01/08/RxJava2小白手册（3）- map/">RxJava2-map</a>
            
        </h1>
        <div class="content">
            <h2 id="介绍"><a href="#介绍" class="headerlink" title="介绍"></a>介绍</h2><p> 操作符map，字面理解一下，就是映射，那么这个操作符如何使用呢？</p>
<h2 id="举个栗子"><a href="#举个栗子" class="headerlink" title="举个栗子"></a>举个栗子</h2><h3 id="1-代码示例"><a href="#1-代码示例" class="headerlink" title="1. 代码示例"></a>1. 代码示例</h3><figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line">Observable&lt;Integer&gt; observable = Observable.create(new ObservableOnSubscribe&lt;Integer&gt;() &#123;</span><br><span class="line">    @Override</span><br><span class="line">    public void subscribe(ObservableEmitter&lt;Integer&gt; e) throws Exception &#123;</span><br><span class="line">        Logger(&quot;Emit 1&quot;);</span><br><span class="line">        e.onNext(1);</span><br><span class="line">        Logger(&quot;Emit 2&quot;);</span><br><span class="line">        e.onNext(2);</span><br><span class="line">        e.onComplete();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">Observer&lt;String&gt; observer = new Observer&lt;String&gt;() &#123;</span><br><span class="line">    @Override</span><br><span class="line">    public void onSubscribe(Disposable d) &#123;</span><br><span class="line">        Logger(&quot;onSubscribe&quot;);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    @Override</span><br><span class="line">    public void onNext(String object) &#123;</span><br><span class="line">           Logger(&quot; onNext &quot; +  object);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    @Override</span><br><span class="line">    public void onError(Throwable e) &#123;</span><br><span class="line">        Logger(&quot;onError e = &quot; + e.getMessage());</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    @Override</span><br><span class="line">    public void onComplete() &#123;</span><br><span class="line">        Logger(&quot;onComplete&quot;);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line">observable.subscribeOn(Schedulers.io())</span><br><span class="line">        .map(new Function&lt;Integer, String&gt;() &#123;</span><br><span class="line">            @Override</span><br><span class="line">            public String apply(Integer integer) throws Exception &#123;</span><br><span class="line">                return &quot;i am &quot; + integer;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;)</span><br><span class="line">        .observeOn(AndroidSchedulers.mainThread())</span><br><span class="line">        .subscribe(observer);</span><br></pre></td></tr></table></figure>


<h3 id="2-运行结果"><a href="#2-运行结果" class="headerlink" title="2. 运行结果"></a>2. 运行结果</h3><p> <img src="https://img-blog.csdn.net/20180108203405819" alt="这里写图片描述"></p>
<p> 可以看到首先执行的是onSubscribe方法，然后发射两个onNext事件，两个Integer参数经过转换之后成为String类型，然后传递给Observer作出动作，这就是Map的作用。</p>
<h3 id="3-源码浅析"><a href="#3-源码浅析" class="headerlink" title="3. 源码浅析"></a>3. 源码浅析</h3><p> 下面是map操作符的源码。</p>
<figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">//观察map中Function的两个参数，一个是T也就是变化前的类型，R为变化后的类型，最后返回的是R类型的Observerable(姑且这么说)</span><br><span class="line">public final &lt;R&gt; Observable&lt;R&gt; map(Function&lt;? super T, ? extends R&gt; mapper) &#123;</span><br><span class="line">    //常规非空检查</span><br><span class="line">    ObjectHelper.requireNonNull(mapper, &quot;mapper is null&quot;);</span><br><span class="line">    //又是onAssembly,不重要，关注ObservableMap</span><br><span class="line">    return RxJavaPlugins.onAssembly(new ObservableMap&lt;T, R&gt;(this, mapper));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p> 看下ObservableMap的构造方法，传入的参数，source为转换前的Observable&lt; T &gt;, 第二个参数就是我们得function。<br> ObservableMap继承AbstractObservableWithUpstream，而后者继承Observable，可以看出来，经过map转换后的Observable对象就是ObservableMap类型。</p>
<figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">public ObservableMap(ObservableSource&lt;T&gt; source, Function&lt;? super T, ? extends U&gt; function) &#123;</span><br><span class="line">    super(source);</span><br><span class="line">    this.function = function;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p> 既然转换后是ObservableMap类型，那么必然存在subscribeActual方法，果然</p>
<figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">public void subscribeActual(Observer&lt;? super U&gt; t) &#123;</span><br><span class="line">    source.subscribe(new MapObserver&lt;T, U&gt;(t, function));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p> 看看MapObserver是个什么东西？</p>
<figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line">//MapObserver继承BasicFuseableObserver，而后者实现了Observer接口</span><br><span class="line">static final class MapObserver&lt;T, U&gt; extends BasicFuseableObserver&lt;T, U&gt; &#123;</span><br><span class="line">     //map操作符中的function</span><br><span class="line">     final Function&lt;? super T, ? extends U&gt; mapper;</span><br><span class="line">     //actual是栗子中我们后面subscribe的Observer</span><br><span class="line">     MapObserver(Observer&lt;? super U&gt; actual, Function&lt;? super T, ? extends U&gt; mapper) &#123;</span><br><span class="line">         super(actual);</span><br><span class="line">         this.mapper = mapper;</span><br><span class="line">     &#125;</span><br><span class="line"></span><br><span class="line">     @Override</span><br><span class="line">     public void onNext(T t) &#123;</span><br><span class="line">         //done在执行了onError或者onComplete之后为true,具体查看父类BasicFuseableObserver。done为true时，不做处理。</span><br><span class="line">         if (done) &#123;</span><br><span class="line">             return;</span><br><span class="line">         &#125;</span><br><span class="line"></span><br><span class="line">         if (sourceMode != NONE) &#123;</span><br><span class="line">             actual.onNext(null);</span><br><span class="line">             return;</span><br><span class="line">         &#125;</span><br><span class="line"></span><br><span class="line">         //U类型，转换后的类型，栗子中为String</span><br><span class="line">         U v;</span><br><span class="line"></span><br><span class="line">         try &#123;</span><br><span class="line">             //常规非空检查，但是里面有个apply的操作，这个apply的操作就是我们上面栗子中把Integer转成String的操作。v就是转换后的String类型</span><br><span class="line">             v = ObjectHelper.requireNonNull(mapper.apply(t), &quot;The mapper function returned a null value.&quot;);</span><br><span class="line">         &#125; catch (Throwable ex) &#123;</span><br><span class="line">             fail(ex);</span><br><span class="line">             return;</span><br><span class="line">         &#125;</span><br><span class="line">         //Observer执行onNext操作，v为转换后的类型，如栗子中的String</span><br><span class="line">         actual.onNext(v);</span><br><span class="line">     &#125;</span><br><span class="line"></span><br><span class="line">     @Override</span><br><span class="line">     public int requestFusion(int mode) &#123;</span><br><span class="line">         return transitiveBoundaryFusion(mode);</span><br><span class="line">     &#125;</span><br><span class="line"></span><br><span class="line">     @Nullable</span><br><span class="line">     @Override</span><br><span class="line">     public U poll() throws Exception &#123;</span><br><span class="line">         T t = qs.poll();</span><br><span class="line">         return t != null ? ObjectHelper.&lt;U&gt;requireNonNull(mapper.apply(t), &quot;The mapper function returned a null value.&quot;) : null;</span><br><span class="line">     &#125;</span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure>

<p> 中间pass掉了一部分内容，不影响我们分析主要流程，有兴趣的朋友可以把poll的部分分析一下，然后留言告诉我。<br> 可能会有朋友产生疑问：<br> 为什么发射之后Observer的onNext没有立刻执行，因为我栗子中subscribeOn和observeOn所在的线程不一样。</p>

        </div>
        
        
        
    </div>
</div>








    <div class="card">
    
    <div class="card-content article ">
        
        <div class="level article-meta is-size-7 is-uppercase is-mobile is-overflow-x-auto">
            <div class="level-left">
                <time class="level-item has-text-grey" datetime="2018-01-06T03:13:08.000Z">2018-01-06</time>
                
                <div class="level-item">
                <a class="has-link-grey -link" href="/categories/Android开源库/">Android开源库</a>
                </div>
                
                
                <span class="level-item has-text-grey">
                    
                    
                    7 分钟 读完 (大约 1080 个字)
                </span>
                
                
            </div>
        </div>
        
        <h1 class="title is-size-3 is-size-4-mobile has-text-weight-normal">
            
                <a class="has-link-black-ter" href="/2018/01/06/RxJava2小白手册（1）- 基础使用/">RxJava2-基础使用</a>
            
        </h1>
        <div class="content">
            <h2 id="介绍"><a href="#介绍" class="headerlink" title="介绍"></a>介绍</h2><p> RxJava，响应式编程，告别AsyncTask，与Retrofit组成了日常开发经典组合。之前，好读书不求甚解得态度，让我对其印象并不深刻，知识层面比较浅薄。为了加深印象，重新学习。</p>
<h2 id="添加依赖"><a href="#添加依赖" class="headerlink" title="添加依赖"></a>添加依赖</h2><figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">implementation &apos;io.reactivex.rxjava2:rxandroid:2.0.1&apos;</span><br><span class="line">implementation &apos;io.reactivex.rxjava2:rxjava:2.1.7&apos;</span><br></pre></td></tr></table></figure>


<h2 id="举个栗子"><a href="#举个栗子" class="headerlink" title="举个栗子"></a>举个栗子</h2><h4 id="1-上游和下游（被观察者和观察者）"><a href="#1-上游和下游（被观察者和观察者）" class="headerlink" title="1. 上游和下游（被观察者和观察者）"></a>1. 上游和下游（被观察者和观察者）</h4><figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line">Observable&lt;Integer&gt; observable = Observable.create(new ObservableOnSubscribe&lt;Integer&gt;() &#123;</span><br><span class="line">    @Override</span><br><span class="line">    public void subscribe(ObservableEmitter&lt;Integer&gt; e) throws Exception &#123;</span><br><span class="line">        e.onNext(111);</span><br><span class="line">        e.onNext(222);</span><br><span class="line">        e.onComplete();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">Observer&lt;Integer&gt; observer = new Observer&lt;Integer&gt;() &#123;</span><br><span class="line">    @Override</span><br><span class="line">    public void onSubscribe(Disposable d) &#123;</span><br><span class="line">        Logger(&quot;onSubscribe&quot;);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    @Override</span><br><span class="line">    public void onNext(Integer integer) &#123;</span><br><span class="line">        Logger(&quot;onNext integer = &quot; + integer);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    @Override</span><br><span class="line">    public void onError(Throwable e) &#123;</span><br><span class="line">        Logger(&quot;onError e = &quot; + e.getMessage());</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    @Override</span><br><span class="line">    public void onComplete() &#123;</span><br><span class="line">        Logger(&quot;onComplete&quot;);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line">observable.subscribe(observer);</span><br></pre></td></tr></table></figure>


<h4 id="2-运行结果"><a href="#2-运行结果" class="headerlink" title="2. 运行结果"></a>2. 运行结果</h4><p> <img src="https://img-blog.csdn.net/20180105222144717" alt="这里写图片描述"></p>
<h4 id="3-流程"><a href="#3-流程" class="headerlink" title="3. 流程"></a>3. 流程</h4><ol>
<li><p>创建Observable </p>
</li>
<li><p>创建Observer </p>
</li>
<li><p>Observerable订阅（subscribe）Observer  </p>
<h4 id="4-Observable"><a href="#4-Observable" class="headerlink" title="4. Observable"></a>4. Observable</h4><p>Observable是一个抽象类，实现ObservableSource接口</p>
</li>
</ol>
<figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">public abstract class Observable&lt;T&gt; implements ObservableSource&lt;T&gt;</span><br></pre></td></tr></table></figure>

<p> 而ObservableSource接口中只有一个订阅方法</p>
<figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">public interface ObservableSource&lt;T&gt; &#123;</span><br><span class="line"></span><br><span class="line">    /**</span><br><span class="line">     * Subscribes the given Observer to this ObservableSource instance.</span><br><span class="line">     * @param observer the Observer, not null</span><br><span class="line">     * @throws NullPointerException if &#123;@code observer&#125; is null</span><br><span class="line">     */</span><br><span class="line">    void subscribe(@NonNull Observer&lt;? super T&gt; observer);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p> 通过create方法创建Observable，稍微追下源码，帮助理解</p>
<figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">public static &lt;T&gt; Observable&lt;T&gt; create(ObservableOnSubscribe&lt;T&gt; source) &#123;</span><br><span class="line">    ObjectHelper.requireNonNull(source, &quot;source is null&quot;);</span><br><span class="line">    return RxJavaPlugins.onAssembly(new ObservableCreate&lt;T&gt;(source));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p> 参数类型为ObservableOnSubscribe接口</p>
<figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">public interface ObservableOnSubscribe&lt;T&gt; &#123;</span><br><span class="line"></span><br><span class="line">    /**</span><br><span class="line">     * Called for each Observer that subscribes.</span><br><span class="line">     * @param e the safe emitter instance, never null</span><br><span class="line">     * @throws Exception on error</span><br><span class="line">     */</span><br><span class="line">    void subscribe(@NonNull ObservableEmitter&lt;T&gt; e) throws Exception;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p> ObservableEmitter可以理解成发射器，看下它的源码。它继承Emitter。而Emitter中才是我们最基础最常用的功能。</p>
<figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">public interface ObservableEmitter&lt;T&gt; extends Emitter&lt;T&gt; &#123;</span><br><span class="line">    void setDisposable(@Nullable Disposable d);</span><br><span class="line">    void setCancellable(@Nullable Cancellable c);</span><br><span class="line">    boolean isDisposed();</span><br><span class="line">    ObservableEmitter&lt;T&gt; serialize();</span><br><span class="line">    @Experimental</span><br><span class="line">    boolean tryOnError(@NonNull Throwable t);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p> 上面这部分代码，删除了部分注释，可在源码中查阅。</p>
<figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">public interface Emitter&lt;T&gt; &#123;</span><br><span class="line"></span><br><span class="line">    /**</span><br><span class="line">     * Signal a normal value.</span><br><span class="line">     * @param value the value to signal, not null</span><br><span class="line">     */</span><br><span class="line">    void onNext(@NonNull T value);</span><br><span class="line"></span><br><span class="line">    /**</span><br><span class="line">     * Signal a Throwable exception.</span><br><span class="line">     * @param error the Throwable to signal, not null</span><br><span class="line">     */</span><br><span class="line">    void onError(@NonNull Throwable error);</span><br><span class="line"></span><br><span class="line">    /**</span><br><span class="line">     * Signal a completion.</span><br><span class="line">     */</span><br><span class="line">    void onComplete();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p> 从上面Emitter的代码可以看出，我们可以发射三种消息：<br> onNext, onComplete, onError。从语义上就很容易看出他们的作用。<br> 针对三个事件，做一些说明：   </p>
<ol>
<li>发射器可以发送无限个onNext, Observer也可以接收无限个onNext。   </li>
<li>发射器发送一个onComplete后, onComplete之后的事件将会继续发送, 而Observer收到第一个onComplete事件之后将不再继续接收事件。   </li>
<li>发射器发送了一个onError后, onError之后的事件将继续发送, 而Observer收到onError事件之后将不再继续接收事件.   </li>
<li>发射器可以不发送onComplete或onError。   </li>
<li>发射器不能同时发出onComplete和onError。   </li>
<li>不允许发出多个onError或者onComplete</li>
</ol>
<h4 id="5-Observer"><a href="#5-Observer" class="headerlink" title="5. Observer"></a>5. Observer</h4><p> 相对于Observable而言，Observer就简单很多，我们只需要针对我们感兴趣的事件作出相应的处理即可。</p>
<figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">public interface Observer&lt;T&gt; &#123;</span><br><span class="line">    void onSubscribe(@NonNull Disposable d);</span><br><span class="line">    void onNext(@NonNull T t);</span><br><span class="line">    void onError(@NonNull Throwable e);</span><br><span class="line">    void onComplete();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p> 这里有一个新内容Disposable，先看代码，“象征一个一次性资源”，从注释上看是这个意思。但是如何理解？</p>
<figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">/**</span><br><span class="line"> * Represents a disposable resource.</span><br><span class="line"> */</span><br><span class="line">public interface Disposable &#123;</span><br><span class="line">    /**</span><br><span class="line">     * Dispose the resource, the operation should be idempotent.</span><br><span class="line">     */</span><br><span class="line">    void dispose();</span><br><span class="line"></span><br><span class="line">    /**</span><br><span class="line">     * Returns true if this resource has been disposed.</span><br><span class="line">     * @return true if this resource has been disposed</span><br><span class="line">     */</span><br><span class="line">    boolean isDisposed();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p> 看个栗子：</p>
<figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line">Observable&lt;Integer&gt; observable = Observable.create(new ObservableOnSubscribe&lt;Integer&gt;() &#123;</span><br><span class="line">    @Override</span><br><span class="line">    public void subscribe(ObservableEmitter&lt;Integer&gt; e) throws Exception &#123;</span><br><span class="line">        e.onNext(111);</span><br><span class="line">        e.onNext(222);</span><br><span class="line">        e.onNext(333);</span><br><span class="line">        e.onComplete();</span><br><span class="line">        e.onNext(444);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">Observer&lt;Integer&gt; observer = new Observer&lt;Integer&gt;() &#123;</span><br><span class="line"></span><br><span class="line">    Disposable mDisposable;</span><br><span class="line">    @Override</span><br><span class="line">    public void onSubscribe(Disposable d) &#123;</span><br><span class="line">        Logger(&quot;onSubscribe&quot;);</span><br><span class="line">        mDisposable = d;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    @Override</span><br><span class="line">    public void onNext(Integer integer) &#123;</span><br><span class="line">        Logger(&quot;onNext integer = &quot; + integer);</span><br><span class="line">        if(integer== 222 &amp;&amp; !mDisposable.isDisposed()) &#123;</span><br><span class="line">            mDisposable.dispose();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    @Override</span><br><span class="line">    public void onError(Throwable e) &#123;</span><br><span class="line">        Logger(&quot;onError e = &quot; + e.getMessage());</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    @Override</span><br><span class="line">    public void onComplete() &#123;</span><br><span class="line">        Logger(&quot;onComplete&quot;);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line">observable.subscribe(observer);</span><br></pre></td></tr></table></figure>

<p> 运行结果：<br> <img src="https://img-blog.csdn.net/20180105225934723" alt="这里写图片描述"><br> 可以看到发射器发送了222之后，剩下的事件Observer并没有处理，那么剩下的事件发射器有没有发送呢？在发射器发射事件之前添加log。<br> <img src="https://img-blog.csdn.net/20180105230231952" alt="这里写图片描述"><br> 可以看到发射器的事件并没有受到Disposable影响，只是Observer没有接收到222之后的事件而已。<br> Disposable的作用应该是，截断发射器与Observer之间的事件通道。</p>
<h2 id="最后"><a href="#最后" class="headerlink" title="最后"></a>最后</h2><p> 【码道长】，一周一更，内容充实。<br> <img src="https://img-blog.csdn.net/20180106111243528?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvcG9vcmtpY2s=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="这里写图片描述"></p>

        </div>
        
        
        
    </div>
</div>








    <div class="card">
    
    <div class="card-content article ">
        
        <div class="level article-meta is-size-7 is-uppercase is-mobile is-overflow-x-auto">
            <div class="level-left">
                <time class="level-item has-text-grey" datetime="2017-10-08T06:59:53.000Z">2017-10-08</time>
                
                <div class="level-item">
                <a class="has-link-grey -link" href="/categories/Android开源库/">Android开源库</a>
                </div>
                
                
                <span class="level-item has-text-grey">
                    
                    
                    30 分钟 读完 (大约 4539 个字)
                </span>
                
                
            </div>
        </div>
        
        <h1 class="title is-size-3 is-size-4-mobile has-text-weight-normal">
            
                <a class="has-link-black-ter" href="/2017/10/08/《Android开源库》Picasso/">《Android开源库》Picasso</a>
            
        </h1>
        <div class="content">
            <p> 版权声明：本文为博主原创文章，未经博主允许不得转载。 <a href="https://blog.csdn.net/poorkick/article/details/78175020" target="_blank" rel="noopener">https://blog.csdn.net/poorkick/article/details/78175020</a>   </p>
<h2 id="1-前言"><a href="#1-前言" class="headerlink" title="1. 前言"></a><a href></a>1. 前言</h2><p> 最近项目开发中使用到来Picasso，并且碰到了一个部分图片无法加载的问题，使用Glide可以正常加载，使用最新的Picasso3.0.0-SNAPSHOT版本也没有问题，最后使用Picasso自带的异常监听获取堆栈，并且在Github中找到的同样的问题，具体查阅：</p>
<p> <a href="https://github.com/square/picasso/issues/1514" target="_blank" rel="noopener">https://github.com/square/picasso/issues/1514</a></p>
<p> 所以，想详细的看看Picasso的详细用法和master分支上的源代码。</p>
<h2 id="2-基本介绍"><a href="#2-基本介绍" class="headerlink" title="2. 基本介绍"></a><a href></a>2. 基本介绍</h2><p> Picasso 是Square 公司开源的Android 端的图片加载和缓存框架。图片的加载是一个令人很头疼的问题，因为涉及的内容比较多，比如网络请求，本地存储，图片缓存，图片回收等等，处理不好可能会出现图片变形内存泄漏等令开发者焦头烂额的问题，但是Picasso帮我们做了很多事情，比如：</p>
<ul>
<li><p>处理Adapter 中ImageView的回收和取消下载。 </p>
</li>
<li><p>使用最小的内存 来做复杂的图片变换。比如高斯模糊，圆角、圆形等处理。 </p>
</li>
<li><p>自动帮我们缓存图片。内存和磁盘缓存  </p>
<h2 id="3-基本使用"><a href="#3-基本使用" class="headerlink" title="3. 基本使用"></a><a href></a>3. 基本使用</h2><p>以Android Studio为开发环境，以Gradle为构建工具，其他的本文不做介绍。</p>
</li>
</ul>
<h3 id="3-1-添加依赖"><a href="#3-1-添加依赖" class="headerlink" title="3.1 添加依赖"></a><a href></a>3.1 添加依赖</h3><figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">compile &apos;com.squareup.picasso:picasso:2.5.2&apos;</span><br></pre></td></tr></table></figure>


<h3 id="3-2-混淆"><a href="#3-2-混淆" class="headerlink" title="3.2 混淆"></a><a href></a>3.2 混淆</h3><figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">-dontwarn com.squareup.okhttp.**</span><br></pre></td></tr></table></figure>


<h3 id="3-3-加载图片"><a href="#3-3-加载图片" class="headerlink" title="3.3 加载图片"></a><a href></a>3.3 加载图片</h3><figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">/* 网络图片 */</span><br><span class="line">Picasso.with(context).load(&quot;http://i.imgur.com/DvpvklR.png&quot;).into(imageView);</span><br><span class="line"></span><br><span class="line">/* 图片资源 */</span><br><span class="line">Picasso.with(context).load(R.drawable.landing_screen).into(imageView1);</span><br><span class="line"></span><br><span class="line">/* 本地图片*/</span><br><span class="line">Picasso.with(context).load(&quot;file:///android_asset/DvpvklR.png&quot;).into(imageView2);</span><br><span class="line"></span><br><span class="line">/* 本地图片文件 */</span><br><span class="line">Picasso.with(context).load(new File(...)).into(imageView3);</span><br></pre></td></tr></table></figure>


<h4 id="3-3-1-Picasso-with-Context-context"><a href="#3-3-1-Picasso-with-Context-context" class="headerlink" title="3.3.1 Picasso.with(Context context)"></a><a href></a>3.3.1 Picasso.with(Context context)</h4><figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">/**</span><br><span class="line"> * The global default &#123;@link Picasso&#125; instance.</span><br><span class="line"> * &lt;p&gt;</span><br><span class="line"> * This instance is automatically initialized with defaults that are suitable to most</span><br><span class="line"> * implementations.</span><br><span class="line"> * &lt;ul&gt;</span><br><span class="line"> * &lt;li&gt;LRU memory cache of 15% the available application RAM&lt;/li&gt;</span><br><span class="line"> * &lt;li&gt;Disk cache of 2% storage space up to 50MB but no less than 5MB. (Note: this is only</span><br><span class="line"> * available on API 14+ &lt;em&gt;or&lt;/em&gt; if you are using a standalone library that provides a disk</span><br><span class="line"> * cache on all API levels like OkHttp)&lt;/li&gt;</span><br><span class="line"> * &lt;li&gt;Three download threads for disk and network access.&lt;/li&gt;</span><br><span class="line"> * &lt;/ul&gt;</span><br><span class="line"> * &lt;p&gt;</span><br><span class="line"> * If these settings do not meet the requirements of your application you can construct your own</span><br><span class="line"> * with full control over the configuration by using &#123;@link Picasso.Builder&#125; to create a</span><br><span class="line"> * &#123;@link Picasso&#125; instance. You can either use this directly or by setting it as the global</span><br><span class="line"> * instance with &#123;@link #setSingletonInstance&#125;.</span><br><span class="line"> */</span><br><span class="line">public static Picasso with(Context context) &#123;</span><br><span class="line">  if (singleton == null) &#123;</span><br><span class="line">    synchronized (Picasso.class) &#123;</span><br><span class="line">      if (singleton == null) &#123;</span><br><span class="line">        singleton = new Builder(context).build();</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  return singleton;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p> 构造一个默认的Picasso单例，如果注释中的一些基本配置需求无法满足你，你可以使用Picasso.Builder来构造自己的Picasso实例。</p>
<h4 id="3-3-2-load"><a href="#3-3-2-load" class="headerlink" title="3.3.2 load()"></a><a href></a>3.3.2 load()</h4><p> <img src="https://img-blog.csdn.net/20171008123438173?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvcG9vcmtpY2s=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="这里写图片描述"><br> 很显然，四个load方法，不同的入参，相同类型的返回值。针对不同的图片来源，执行不同的加载方式。</p>
<figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br></pre></td><td class="code"><pre><span class="line">/**</span><br><span class="line">   * Start an image request using the specified URI.</span><br><span class="line">   * &lt;p&gt;</span><br><span class="line">   * Passing &#123;@code null&#125; as a &#123;@code uri&#125; will not trigger any request but will set a placeholder,</span><br><span class="line">   * if one is specified.</span><br><span class="line">   *</span><br><span class="line">   * @see #load(File)</span><br><span class="line">   * @see #load(String)</span><br><span class="line">   * @see #load(int)</span><br><span class="line">   */</span><br><span class="line">  public RequestCreator load(Uri uri) &#123;</span><br><span class="line">    return new RequestCreator(this, uri, 0);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  /**</span><br><span class="line">   * Start an image request using the specified path. This is a convenience method for calling</span><br><span class="line">   * &#123;@link #load(Uri)&#125;.</span><br><span class="line">   * &lt;p&gt;</span><br><span class="line">   * This path may be a remote URL, file resource (prefixed with &#123;@code file:&#125;), content resource</span><br><span class="line">   * (prefixed with &#123;@code content:&#125;), or android resource (prefixed with &#123;@code</span><br><span class="line">   * android.resource:&#125;.</span><br><span class="line">   * &lt;p&gt;</span><br><span class="line">   * Passing &#123;@code null&#125; as a &#123;@code path&#125; will not trigger any request but will set a</span><br><span class="line">   * placeholder, if one is specified.</span><br><span class="line">   *</span><br><span class="line">   * @see #load(Uri)</span><br><span class="line">   * @see #load(File)</span><br><span class="line">   * @see #load(int)</span><br><span class="line">   * @throws IllegalArgumentException if &#123;@code path&#125; is empty or blank string.</span><br><span class="line">   */</span><br><span class="line">  public RequestCreator load(String path) &#123;</span><br><span class="line">    if (path == null) &#123;</span><br><span class="line">      return new RequestCreator(this, null, 0);</span><br><span class="line">    &#125;</span><br><span class="line">    if (path.trim().length() == 0) &#123;</span><br><span class="line">      throw new IllegalArgumentException(&quot;Path must not be empty.&quot;);</span><br><span class="line">    &#125;</span><br><span class="line">    return load(Uri.parse(path));</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  /**</span><br><span class="line">   * Start an image request using the specified image file. This is a convenience method for</span><br><span class="line">   * calling &#123;@link #load(Uri)&#125;.</span><br><span class="line">   * &lt;p&gt;</span><br><span class="line">   * Passing &#123;@code null&#125; as a &#123;@code file&#125; will not trigger any request but will set a</span><br><span class="line">   * placeholder, if one is specified.</span><br><span class="line">   * &lt;p&gt;</span><br><span class="line">   * Equivalent to calling &#123;@link #load(Uri) load(Uri.fromFile(file))&#125;.</span><br><span class="line">   *</span><br><span class="line">   * @see #load(Uri)</span><br><span class="line">   * @see #load(String)</span><br><span class="line">   * @see #load(int)</span><br><span class="line">   */</span><br><span class="line">  public RequestCreator load(File file) &#123;</span><br><span class="line">    if (file == null) &#123;</span><br><span class="line">      return new RequestCreator(this, null, 0);</span><br><span class="line">    &#125;</span><br><span class="line">    return load(Uri.fromFile(file));</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  /**</span><br><span class="line">   * Start an image request using the specified drawable resource ID.</span><br><span class="line">   *</span><br><span class="line">   * @see #load(Uri)</span><br><span class="line">   * @see #load(String)</span><br><span class="line">   * @see #load(File)</span><br><span class="line">   */</span><br><span class="line">  public RequestCreator load(int resourceId) &#123;</span><br><span class="line">    if (resourceId == 0) &#123;</span><br><span class="line">      throw new IllegalArgumentException(&quot;Resource ID must not be zero.&quot;);</span><br><span class="line">    &#125;</span><br><span class="line">    return new RequestCreator(this, null, resourceId);</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure>

<p> 每一个load()方法都是创建一个RequestCreator实例，load(File file)和load(String path)最后都是通过转换成load(Uri uri)的方式实现加载。而RequestCreator的构造方法中三个参数，第一个是Picasso实例，一个是uri，一个是resourceId，通过后两个参数覆盖所有的加载场景。</p>
<figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">RequestCreator(Picasso picasso, Uri uri, int resourceId) &#123;</span><br><span class="line">  if (picasso.shutdown) &#123;</span><br><span class="line">    throw new IllegalStateException(</span><br><span class="line">        &quot;Picasso instance already shut down. Cannot submit new requests.&quot;);</span><br><span class="line">  &#125;</span><br><span class="line">  this.picasso = picasso;</span><br><span class="line">  this.data = new Request.Builder(uri, resourceId, picasso.defaultBitmapConfig);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


<h4 id="3-3-3-into"><a href="#3-3-3-into" class="headerlink" title="3.3.3 into()"></a><a href></a>3.3.3 into()</h4><p> RequestCreator中很多方法都是我们经常会用到的。先看into()方法<br> <img src="https://img-blog.csdn.net/20171008125754024?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvcG9vcmtpY2s=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="这里写图片描述"></p>
<figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br></pre></td><td class="code"><pre><span class="line">/**</span><br><span class="line"> * Asynchronously fulfills the request into the specified &#123;@link Target&#125;. In most cases, you</span><br><span class="line"> * should use this when you are dealing with a custom &#123;@link android.view.View View&#125; or view</span><br><span class="line"> * holder which should implement the &#123;@link Target&#125; interface.</span><br><span class="line"> * &lt;p&gt;</span><br><span class="line"> * Implementing on a &#123;@link android.view.View View&#125;:</span><br><span class="line"> * &lt;blockquote&gt;&lt;pre&gt;</span><br><span class="line"> * public class ProfileView extends FrameLayout implements Target &#123;</span><br><span class="line"> *   &#123;@literal @&#125;Override public void onBitmapLoaded(Bitmap bitmap, LoadedFrom from) &#123;</span><br><span class="line"> *     setBackgroundDrawable(new BitmapDrawable(bitmap));</span><br><span class="line"> *   &#125;</span><br><span class="line"> *</span><br><span class="line"> *   &#123;@literal @&#125;Override public void onBitmapFailed() &#123;</span><br><span class="line"> *     setBackgroundResource(R.drawable.profile_error);</span><br><span class="line"> *   &#125;</span><br><span class="line"> *</span><br><span class="line"> *   &#123;@literal @&#125;Override public void onPrepareLoad(Drawable placeHolderDrawable) &#123;</span><br><span class="line"> *     frame.setBackgroundDrawable(placeHolderDrawable);</span><br><span class="line"> *   &#125;</span><br><span class="line"> * &#125;</span><br><span class="line"> * &lt;/pre&gt;&lt;/blockquote&gt;</span><br><span class="line"> * Implementing on a view holder object for use inside of an adapter:</span><br><span class="line"> * &lt;blockquote&gt;&lt;pre&gt;</span><br><span class="line"> * public class ViewHolder implements Target &#123;</span><br><span class="line"> *   public FrameLayout frame;</span><br><span class="line"> *   public TextView name;</span><br><span class="line"> *</span><br><span class="line"> *   &#123;@literal @&#125;Override public void onBitmapLoaded(Bitmap bitmap, LoadedFrom from) &#123;</span><br><span class="line"> *     frame.setBackgroundDrawable(new BitmapDrawable(bitmap));</span><br><span class="line"> *   &#125;</span><br><span class="line"> *</span><br><span class="line"> *   &#123;@literal @&#125;Override public void onBitmapFailed() &#123;</span><br><span class="line"> *     frame.setBackgroundResource(R.drawable.profile_error);</span><br><span class="line"> *   &#125;</span><br><span class="line"> *</span><br><span class="line"> *   &#123;@literal @&#125;Override public void onPrepareLoad(Drawable placeHolderDrawable) &#123;</span><br><span class="line"> *     frame.setBackgroundDrawable(placeHolderDrawable);</span><br><span class="line"> *   &#125;</span><br><span class="line"> * &#125;</span><br><span class="line"> * &lt;/pre&gt;&lt;/blockquote&gt;</span><br><span class="line"> * &lt;p&gt;</span><br><span class="line"> * &lt;em&gt;Note:&lt;/em&gt; This method keeps a weak reference to the &#123;@link Target&#125; instance and will be</span><br><span class="line"> * garbage collected if you do not keep a strong reference to it. To receive callbacks when an</span><br><span class="line"> * image is loaded use &#123;@link #into(android.widget.ImageView, Callback)&#125;.</span><br><span class="line"> */</span><br><span class="line">public void into(Target target) &#123;</span><br><span class="line">  long started = System.nanoTime();</span><br><span class="line">  checkMain();</span><br><span class="line"></span><br><span class="line">  if (target == null) &#123;</span><br><span class="line">    throw new IllegalArgumentException(&quot;Target must not be null.&quot;);</span><br><span class="line">  &#125;</span><br><span class="line">  if (deferred) &#123;</span><br><span class="line">    throw new IllegalStateException(&quot;Fit cannot be used with a Target.&quot;);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  if (!data.hasImage()) &#123;</span><br><span class="line">    picasso.cancelRequest(target);</span><br><span class="line">    target.onPrepareLoad(setPlaceholder ? getPlaceholderDrawable() : null);</span><br><span class="line">    return;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  Request request = createRequest(started);</span><br><span class="line">  String requestKey = createKey(request);</span><br><span class="line"></span><br><span class="line">  if (shouldReadFromMemoryCache(memoryPolicy)) &#123;</span><br><span class="line">    Bitmap bitmap = picasso.quickMemoryCacheCheck(requestKey);</span><br><span class="line">    if (bitmap != null) &#123;</span><br><span class="line">      picasso.cancelRequest(target);</span><br><span class="line">      target.onBitmapLoaded(bitmap, MEMORY);</span><br><span class="line">      return;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  target.onPrepareLoad(setPlaceholder ? getPlaceholderDrawable() : null);</span><br><span class="line"></span><br><span class="line">  Action action =</span><br><span class="line">      new TargetAction(picasso, target, request, memoryPolicy, networkPolicy, errorDrawable,</span><br><span class="line">          requestKey, tag, errorResId);</span><br><span class="line">  picasso.enqueueAndSubmit(action);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">/**</span><br><span class="line"> * Asynchronously fulfills the request into the specified &#123;@link RemoteViews&#125; object with the</span><br><span class="line"> * given &#123;@code viewId&#125;. This is used for loading bitmaps into a &#123;@link Notification&#125;.</span><br><span class="line"> */</span><br><span class="line">public void into(RemoteViews remoteViews, int viewId, int notificationId,</span><br><span class="line">    Notification notification) &#123;</span><br><span class="line">  long started = System.nanoTime();</span><br><span class="line"></span><br><span class="line">  if (remoteViews == null) &#123;</span><br><span class="line">    throw new IllegalArgumentException(&quot;RemoteViews must not be null.&quot;);</span><br><span class="line">  &#125;</span><br><span class="line">  if (notification == null) &#123;</span><br><span class="line">    throw new IllegalArgumentException(&quot;Notification must not be null.&quot;);</span><br><span class="line">  &#125;</span><br><span class="line">  if (deferred) &#123;</span><br><span class="line">    throw new IllegalStateException(&quot;Fit cannot be used with RemoteViews.&quot;);</span><br><span class="line">  &#125;</span><br><span class="line">  if (placeholderDrawable != null || placeholderResId != 0 || errorDrawable != null) &#123;</span><br><span class="line">    throw new IllegalArgumentException(</span><br><span class="line">        &quot;Cannot use placeholder or error drawables with remote views.&quot;);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  Request request = createRequest(started);</span><br><span class="line">  String key = createKey(request, new StringBuilder()); // Non-main thread needs own builder.</span><br><span class="line"></span><br><span class="line">  RemoteViewsAction action =</span><br><span class="line">      new NotificationAction(picasso, request, remoteViews, viewId, notificationId, notification,</span><br><span class="line">          memoryPolicy, networkPolicy, key, tag, errorResId);</span><br><span class="line"></span><br><span class="line">  performRemoteViewInto(action);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">/**</span><br><span class="line"> * Asynchronously fulfills the request into the specified &#123;@link RemoteViews&#125; object with the</span><br><span class="line"> * given &#123;@code viewId&#125;. This is used for loading bitmaps into all instances of a widget.</span><br><span class="line"> */</span><br><span class="line">public void into(RemoteViews remoteViews, int viewId, int[] appWidgetIds) &#123;</span><br><span class="line">  long started = System.nanoTime();</span><br><span class="line"></span><br><span class="line">  if (remoteViews == null) &#123;</span><br><span class="line">    throw new IllegalArgumentException(&quot;remoteViews must not be null.&quot;);</span><br><span class="line">  &#125;</span><br><span class="line">  if (appWidgetIds == null) &#123;</span><br><span class="line">    throw new IllegalArgumentException(&quot;appWidgetIds must not be null.&quot;);</span><br><span class="line">  &#125;</span><br><span class="line">  if (deferred) &#123;</span><br><span class="line">    throw new IllegalStateException(&quot;Fit cannot be used with remote views.&quot;);</span><br><span class="line">  &#125;</span><br><span class="line">  if (placeholderDrawable != null || placeholderResId != 0 || errorDrawable != null) &#123;</span><br><span class="line">    throw new IllegalArgumentException(</span><br><span class="line">        &quot;Cannot use placeholder or error drawables with remote views.&quot;);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  Request request = createRequest(started);</span><br><span class="line">  String key = createKey(request, new StringBuilder()); // Non-main thread needs own builder.</span><br><span class="line"></span><br><span class="line">  RemoteViewsAction action =</span><br><span class="line">      new AppWidgetAction(picasso, request, remoteViews, viewId, appWidgetIds, memoryPolicy,</span><br><span class="line">          networkPolicy, key, tag, errorResId);</span><br><span class="line"></span><br><span class="line">  performRemoteViewInto(action);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">/**</span><br><span class="line"> * Asynchronously fulfills the request into the specified &#123;@link ImageView&#125;.</span><br><span class="line"> * &lt;p&gt;</span><br><span class="line"> * &lt;em&gt;Note:&lt;/em&gt; This method keeps a weak reference to the &#123;@link ImageView&#125; instance and will</span><br><span class="line"> * automatically support object recycling.</span><br><span class="line"> */</span><br><span class="line">public void into(ImageView target) &#123;</span><br><span class="line">  into(target, null);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">/**</span><br><span class="line"> * Asynchronously fulfills the request into the specified &#123;@link ImageView&#125; and invokes the</span><br><span class="line"> * target &#123;@link Callback&#125; if it&apos;s not &#123;@code null&#125;.</span><br><span class="line"> * &lt;p&gt;</span><br><span class="line"> * &lt;em&gt;Note:&lt;/em&gt; The &#123;@link Callback&#125; param is a strong reference and will prevent your</span><br><span class="line"> * &#123;@link android.app.Activity&#125; or &#123;@link android.app.Fragment&#125; from being garbage collected. If</span><br><span class="line"> * you use this method, it is &lt;b&gt;strongly&lt;/b&gt; recommended you invoke an adjacent</span><br><span class="line"> * &#123;@link Picasso#cancelRequest(android.widget.ImageView)&#125; call to prevent temporary leaking.</span><br><span class="line"> */</span><br><span class="line">public void into(ImageView target, Callback callback) &#123;</span><br><span class="line">  long started = System.nanoTime();</span><br><span class="line">  checkMain();</span><br><span class="line"></span><br><span class="line">  if (target == null) &#123;</span><br><span class="line">    throw new IllegalArgumentException(&quot;Target must not be null.&quot;);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  if (!data.hasImage()) &#123;</span><br><span class="line">    picasso.cancelRequest(target);</span><br><span class="line">    if (setPlaceholder) &#123;</span><br><span class="line">      setPlaceholder(target, getPlaceholderDrawable());</span><br><span class="line">    &#125;</span><br><span class="line">    return;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  if (deferred) &#123;</span><br><span class="line">    if (data.hasSize()) &#123;</span><br><span class="line">      throw new IllegalStateException(&quot;Fit cannot be used with resize.&quot;);</span><br><span class="line">    &#125;</span><br><span class="line">    int width = target.getWidth();</span><br><span class="line">    int height = target.getHeight();</span><br><span class="line">    if (width == 0 || height == 0) &#123;</span><br><span class="line">      if (setPlaceholder) &#123;</span><br><span class="line">        setPlaceholder(target, getPlaceholderDrawable());</span><br><span class="line">      &#125;</span><br><span class="line">      picasso.defer(target, new DeferredRequestCreator(this, target, callback));</span><br><span class="line">      return;</span><br><span class="line">    &#125;</span><br><span class="line">    data.resize(width, height);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  Request request = createRequest(started);</span><br><span class="line">  String requestKey = createKey(request);</span><br><span class="line"></span><br><span class="line">  if (shouldReadFromMemoryCache(memoryPolicy)) &#123;</span><br><span class="line">    Bitmap bitmap = picasso.quickMemoryCacheCheck(requestKey);</span><br><span class="line">    if (bitmap != null) &#123;</span><br><span class="line">      picasso.cancelRequest(target);</span><br><span class="line">      setBitmap(target, picasso.context, bitmap, MEMORY, noFade, picasso.indicatorsEnabled);</span><br><span class="line">      if (picasso.loggingEnabled) &#123;</span><br><span class="line">        log(OWNER_MAIN, VERB_COMPLETED, request.plainId(), &quot;from &quot; + MEMORY);</span><br><span class="line">      &#125;</span><br><span class="line">      if (callback != null) &#123;</span><br><span class="line">        callback.onSuccess();</span><br><span class="line">      &#125;</span><br><span class="line">      return;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  if (setPlaceholder) &#123;</span><br><span class="line">    setPlaceholder(target, getPlaceholderDrawable());</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  Action action =</span><br><span class="line">      new ImageViewAction(picasso, target, request, memoryPolicy, networkPolicy, errorResId,</span><br><span class="line">          errorDrawable, requestKey, tag, callback, noFade);</span><br><span class="line"></span><br><span class="line">  picasso.enqueueAndSubmit(action);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p> 可以看到5个into()方法，可以看到Picasso常用的是直接往ImageView，但是它的功能远远不止如此，我们可以通过实现Target接口来实现自定义的图片处理，可以用来设背景，可以用来填充布局，可扩展性很强，也支持RemoteView。而我们常用的</p>
<figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">public void into(ImageView target) &#123;</span><br><span class="line">  into(target, null);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p> 转到有Callback的执行方法。我们可以通过使用带有回调的into方法来执行图片加载成功或者失败后的事件处理。</p>
<figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">public interface Callback &#123;</span><br><span class="line">  void onSuccess();</span><br><span class="line"></span><br><span class="line">  void onError();</span><br><span class="line"></span><br><span class="line">  public static class EmptyCallback implements Callback &#123;</span><br><span class="line"></span><br><span class="line">    @Override public void onSuccess() &#123;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    @Override public void onError() &#123;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p> 看下public void into(ImageView target, Callback callback)这个方法：</p>
<ol>
<li>checkMain() 判断是否为主进程 </li>
<li>非空检查。判断target是否为空，uri 或者 resourceId是否为空； </li>
<li>deferred是否为true。这个和是否调用fit方法有关。由于fit方法是让图片适应ImageView的大小，所以需要ImageView大小明确之后才执行请求，所以需要延迟执行。 </li>
<li>创建Request和requestKey </li>
<li>是否在Cache查找该图片，通过requestKey，这个Key的构建过程和很多内容有关系。 </li>
<li>设置占位图片 </li>
<li>构建Action并提交  以上就是图片加载的主要过程。</li>
</ol>
<h2 id="4-进阶用法-链式使用"><a href="#4-进阶用法-链式使用" class="headerlink" title="4. 进阶用法(链式使用)"></a><a href></a>4. 进阶用法(链式使用)</h2><p> 主要介绍一下Picasso的其他用法</p>
<h3 id="4-1-noPlaceholder"><a href="#4-1-noPlaceholder" class="headerlink" title="4.1 noPlaceholder()"></a><a href></a>4.1 noPlaceholder()</h3><p> 不设置占位图片，不能于placeHolder同时使用</p>
<figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">/**</span><br><span class="line"> * Explicitly opt-out to having a placeholder set when calling &#123;@code into&#125;.</span><br><span class="line"> * &lt;p&gt;</span><br><span class="line"> * By default, Picasso will either set a supplied placeholder or clear the target</span><br><span class="line"> * &#123;@link ImageView&#125; in order to ensure behavior in situations where views are recycled. This</span><br><span class="line"> * method will prevent that behavior and retain any already set image.</span><br><span class="line"> */</span><br><span class="line">public RequestCreator noPlaceholder() &#123;</span><br><span class="line">  if (placeholderResId != 0) &#123;</span><br><span class="line">    throw new IllegalStateException(&quot;Placeholder resource already set.&quot;);</span><br><span class="line">  &#125;</span><br><span class="line">  if (placeholderDrawable != null) &#123;</span><br><span class="line">    throw new IllegalStateException(&quot;Placeholder image already set.&quot;);</span><br><span class="line">  &#125;</span><br><span class="line">  setPlaceholder = false;</span><br><span class="line">  return this;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


<h3 id="4-2-placeholder"><a href="#4-2-placeholder" class="headerlink" title="4.2 placeholder()"></a><a href></a>4.2 placeholder()</h3><p> 设置占位图片</p>
<figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">/**</span><br><span class="line"> * A placeholder drawable to be used while the image is being loaded. If the requested image is</span><br><span class="line"> * not immediately available in the memory cache then this resource will be set on the target</span><br><span class="line"> * &#123;@link ImageView&#125;.</span><br><span class="line"> */</span><br><span class="line">public RequestCreator placeholder(int placeholderResId) &#123;</span><br><span class="line">  if (!setPlaceholder) &#123;</span><br><span class="line">    throw new IllegalStateException(&quot;Already explicitly declared as no placeholder.&quot;);</span><br><span class="line">  &#125;</span><br><span class="line">  if (placeholderResId == 0) &#123;</span><br><span class="line">    throw new IllegalArgumentException(&quot;Placeholder image resource invalid.&quot;);</span><br><span class="line">  &#125;</span><br><span class="line">  if (placeholderDrawable != null) &#123;</span><br><span class="line">    throw new IllegalStateException(&quot;Placeholder image already set.&quot;);</span><br><span class="line">  &#125;</span><br><span class="line">  this.placeholderResId = placeholderResId;</span><br><span class="line">  return this;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


<h3 id="4-3-error"><a href="#4-3-error" class="headerlink" title="4.3 error()"></a><a href></a>4.3 error()</h3><p> 设置加载出错时的图片</p>
<figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">/** An error drawable to be used if the request image could not be loaded. */</span><br><span class="line">public RequestCreator error(int errorResId) &#123;</span><br><span class="line">  if (errorResId == 0) &#123;</span><br><span class="line">    throw new IllegalArgumentException(&quot;Error image resource invalid.&quot;);</span><br><span class="line">  &#125;</span><br><span class="line">  if (errorDrawable != null) &#123;</span><br><span class="line">    throw new IllegalStateException(&quot;Error image already set.&quot;);</span><br><span class="line">  &#125;</span><br><span class="line">  this.errorResId = errorResId;</span><br><span class="line">  return this;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">/** An error drawable to be used if the request image could not be loaded. */</span><br><span class="line">public RequestCreator error(Drawable errorDrawable) &#123;</span><br><span class="line">  if (errorDrawable == null) &#123;</span><br><span class="line">    throw new IllegalArgumentException(&quot;Error image may not be null.&quot;);</span><br><span class="line">  &#125;</span><br><span class="line">  if (errorResId != 0) &#123;</span><br><span class="line">    throw new IllegalStateException(&quot;Error image already set.&quot;);</span><br><span class="line">  &#125;</span><br><span class="line">  this.errorDrawable = errorDrawable;</span><br><span class="line">  return this;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


<h3 id="4-4-tag"><a href="#4-4-tag" class="headerlink" title="4.4 tag()"></a><a href></a>4.4 tag()</h3><p> 设置tag，方便后续pause，cancel，或者resume。这个应该用的比较少，有可能通过tag来cancel一下。</p>
<figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">/**</span><br><span class="line"> * Assign a tag to this request. Tags are an easy way to logically associate</span><br><span class="line"> * related requests that can be managed together e.g. paused, resumed,</span><br><span class="line"> * or canceled.</span><br><span class="line"> * &lt;p&gt;</span><br><span class="line"> * You can either use simple &#123;@link String&#125; tags or objects that naturally</span><br><span class="line"> * define the scope of your requests within your app such as a</span><br><span class="line"> * &#123;@link android.content.Context&#125;, an &#123;@link android.app.Activity&#125;, or a</span><br><span class="line"> * &#123;@link android.app.Fragment&#125;.</span><br><span class="line"> *</span><br><span class="line"> * &lt;strong&gt;WARNING:&lt;/strong&gt;: Picasso will keep a reference to the tag for</span><br><span class="line"> * as long as this tag is paused and/or has active requests. Look out for</span><br><span class="line"> * potential leaks.</span><br><span class="line"> *</span><br><span class="line"> * @see Picasso#cancelTag(Object)</span><br><span class="line"> * @see Picasso#pauseTag(Object)</span><br><span class="line"> * @see Picasso#resumeTag(Object)</span><br><span class="line"> */</span><br><span class="line">public RequestCreator tag(Object tag) &#123;</span><br><span class="line">  if (tag == null) &#123;</span><br><span class="line">    throw new IllegalArgumentException(&quot;Tag invalid.&quot;);</span><br><span class="line">  &#125;</span><br><span class="line">  if (this.tag != null) &#123;</span><br><span class="line">    throw new IllegalStateException(&quot;Tag already set.&quot;);</span><br><span class="line">  &#125;</span><br><span class="line">  this.tag = tag;</span><br><span class="line">  return this;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


<h3 id="4-5-fit-amp-unfit"><a href="#4-5-fit-amp-unfit" class="headerlink" title="4.5 fit() &amp; unfit()"></a><a href></a>4.5 fit() &amp; unfit()</h3><p> 调整图片大小来适配target的边界，这个会导致图片的加载过程在ImageView布局确定之后进行。</p>
<figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">/**</span><br><span class="line"> * Attempt to resize the image to fit exactly into the target &#123;@link ImageView&#125;&apos;s bounds. This</span><br><span class="line"> * will result in delayed execution of the request until the &#123;@link ImageView&#125; has been laid out.</span><br><span class="line"> * &lt;p&gt;</span><br><span class="line"> * &lt;em&gt;Note:&lt;/em&gt; This method works only when your target is an &#123;@link ImageView&#125;.</span><br><span class="line"> */</span><br><span class="line">public RequestCreator fit() &#123;</span><br><span class="line">  deferred = true;</span><br><span class="line">  return this;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">/** Internal use only. Used by &#123;@link DeferredRequestCreator&#125;. */</span><br><span class="line">RequestCreator unfit() &#123;</span><br><span class="line">  deferred = false;</span><br><span class="line">  return this;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


<h3 id="4-6-resizeDimen-amp-resize"><a href="#4-6-resizeDimen-amp-resize" class="headerlink" title="4.6 resizeDimen() &amp; resize()"></a><a href></a>4.6 resizeDimen() &amp; resize()</h3><p> 调整图片大小。</p>
<figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">/** Resize the image to the specified dimension size. */</span><br><span class="line">public RequestCreator resizeDimen(int targetWidthResId, int targetHeightResId) &#123;</span><br><span class="line">  Resources resources = picasso.context.getResources();</span><br><span class="line">  int targetWidth = resources.getDimensionPixelSize(targetWidthResId);</span><br><span class="line">  int targetHeight = resources.getDimensionPixelSize(targetHeightResId);</span><br><span class="line">  return resize(targetWidth, targetHeight);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">/** Resize the image to the specified size in pixels. */</span><br><span class="line">public RequestCreator resize(int targetWidth, int targetHeight) &#123;</span><br><span class="line">  data.resize(targetWidth, targetHeight);</span><br><span class="line">  return this;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


<h3 id="4-7-centerCrop-amp-centerInside"><a href="#4-7-centerCrop-amp-centerInside" class="headerlink" title="4.7 centerCrop() &amp; centerInside()"></a><a href></a>4.7 centerCrop() &amp; centerInside()</h3><p> centerCrop：充满ImageView居中裁剪<br> centerInside： 完整显示图片但是可能无法充满ImageView</p>
<figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">/**</span><br><span class="line"> * Crops an image inside of the bounds specified by &#123;@link #resize(int, int)&#125; rather than</span><br><span class="line"> * distorting the aspect ratio. This cropping technique scales the image so that it fills the</span><br><span class="line"> * requested bounds and then crops the extra.</span><br><span class="line"> */</span><br><span class="line">public RequestCreator centerCrop() &#123;</span><br><span class="line">  data.centerCrop();</span><br><span class="line">  return this;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">/**</span><br><span class="line"> * Centers an image inside of the bounds specified by &#123;@link #resize(int, int)&#125;. This scales</span><br><span class="line"> * the image so that both dimensions are equal to or less than the requested bounds.</span><br><span class="line"> */</span><br><span class="line">public RequestCreator centerInside() &#123;</span><br><span class="line">  data.centerInside();</span><br><span class="line">  return this;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


<h3 id="4-8-onlyScaleDown"><a href="#4-8-onlyScaleDown" class="headerlink" title="4.8 onlyScaleDown()"></a><a href></a>4.8 onlyScaleDown()</h3><p> 当调用了resize 方法重新设置图片尺寸的时候，调用onlyScaleDown 方法，只有当原始图片的尺寸大于我们指定的尺寸时，resize才起作用。</p>
<figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">/**</span><br><span class="line"> * Only resize an image if the original image size is bigger than the target size</span><br><span class="line"> * specified by &#123;@link #resize(int, int)&#125;.</span><br><span class="line"> */</span><br><span class="line">public RequestCreator onlyScaleDown() &#123;</span><br><span class="line">  data.onlyScaleDown();</span><br><span class="line">  return this;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


<h3 id="4-9-rotate"><a href="#4-9-rotate" class="headerlink" title="4.9 rotate()"></a><a href></a>4.9 rotate()</h3><p> 旋转图片角度，可指定旋转中心点</p>
<figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">/** Rotate the image by the specified degrees. */</span><br><span class="line">public RequestCreator rotate(float degrees) &#123;</span><br><span class="line">  data.rotate(degrees);</span><br><span class="line">  return this;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">/** Rotate the image by the specified degrees around a pivot point. */</span><br><span class="line">public RequestCreator rotate(float degrees, float pivotX, float pivotY) &#123;</span><br><span class="line">  data.rotate(degrees, pivotX, pivotY);</span><br><span class="line">  return this;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


<h3 id="4-10-config"><a href="#4-10-config" class="headerlink" title="4.10 config()"></a><a href></a>4.10 config()</h3><p> 设置图片Bitmap格式，如<br> ALPHA_8，ARGB_4444，ARGB_8888，HARDWARE，RGBA_F16，RGB_565等等。</p>
<figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">/**</span><br><span class="line"> * Attempt to decode the image using the specified config.</span><br><span class="line"> * &lt;p&gt;</span><br><span class="line"> * Note: This value may be ignored by &#123;@link BitmapFactory&#125;. See</span><br><span class="line"> * &#123;@link BitmapFactory.Options#inPreferredConfig its documentation&#125; for more details.</span><br><span class="line"> */</span><br><span class="line">public RequestCreator config(Bitmap.Config config) &#123;</span><br><span class="line">  data.config(config);</span><br><span class="line">  return this;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


<h3 id="4-11-stableKey"><a href="#4-11-stableKey" class="headerlink" title="4.11 stableKey()"></a><a href></a>4.11 stableKey()</h3><p> 设置固定Key</p>
<figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">/**</span><br><span class="line"> * Sets the stable key for this request to be used instead of the URI or resource ID when</span><br><span class="line"> * caching. Two requests with the same value are considered to be for the same resource.</span><br><span class="line"> */</span><br><span class="line">public RequestCreator stableKey(String stableKey) &#123;</span><br><span class="line">  data.stableKey(stableKey);</span><br><span class="line">  return this;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


<h3 id="4-12-priority"><a href="#4-12-priority" class="headerlink" title="4.12 priority()"></a><a href></a>4.12 priority()</h3><p> 设置优先级，这个对图片请求的执行顺序有影响，默认的优先级均为NORMAL</p>
<figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">/**</span><br><span class="line"> * Set the priority of this request.</span><br><span class="line"> * &lt;p&gt;</span><br><span class="line"> * This will affect the order in which the requests execute but does not guarantee it.</span><br><span class="line"> * By default, all requests have &#123;@link Priority#NORMAL&#125; priority, except for</span><br><span class="line"> * &#123;@link #fetch()&#125; requests, which have &#123;@link Priority#LOW&#125; priority by default.</span><br><span class="line"> */</span><br><span class="line">public RequestCreator priority(Priority priority) &#123;</span><br><span class="line">  data.priority(priority);</span><br><span class="line">  return this;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


<h3 id="4-13-transform"><a href="#4-13-transform" class="headerlink" title="4.13 transform()"></a><a href></a>4.13 transform()</h3><p> 添加自定义Transformation，方便执行图形转换。<br> 更多transformation请移步<a href="https://github.com/wasabeef/picasso-transformations" target="_blank" rel="noopener">picasso-transformations</a></p>
<figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">/**</span><br><span class="line"> * Add a custom transformation to be applied to the image.</span><br><span class="line"> * &lt;p&gt;</span><br><span class="line"> * Custom transformations will always be run after the built-in transformations.</span><br><span class="line"> */</span><br><span class="line">// TODO show example of calling resize after a transform in the javadoc</span><br><span class="line">public RequestCreator transform(Transformation transformation) &#123;</span><br><span class="line">  data.transform(transformation);</span><br><span class="line">  return this;</span><br><span class="line">&#125;</span><br><span class="line">/**</span><br><span class="line"> * Add a list of custom transformations to be applied to the image.</span><br><span class="line"> * &lt;p&gt;</span><br><span class="line"> * Custom transformations will always be run after the built-in transformations.</span><br><span class="line"> */</span><br><span class="line">public RequestCreator transform(List&lt;? extends Transformation&gt; transformations) &#123;</span><br><span class="line">  data.transform(transformations);</span><br><span class="line">  return this;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


<h3 id="4-14-memoryPolicy"><a href="#4-14-memoryPolicy" class="headerlink" title="4.14 memoryPolicy()"></a><a href></a>4.14 memoryPolicy()</h3><p> 指定memoryPolicy。NO_CACHE，NO_STORE<br> NO_CACHE：表示处理请求的时候跳过检查内存缓存<br> NO_STORE: 表示请求成功之后，结果不存到内存。</p>
<figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">/**</span><br><span class="line"> * Specifies the &#123;@link MemoryPolicy&#125; to use for this request. You may specify additional policy</span><br><span class="line"> * options using the varargs parameter.</span><br><span class="line"> */</span><br><span class="line">public RequestCreator memoryPolicy(MemoryPolicy policy, MemoryPolicy... additional) &#123;</span><br><span class="line">  if (policy == null) &#123;</span><br><span class="line">    throw new IllegalArgumentException(&quot;Memory policy cannot be null.&quot;);</span><br><span class="line">  &#125;</span><br><span class="line">  this.memoryPolicy |= policy.index;</span><br><span class="line">  if (additional == null) &#123;</span><br><span class="line">    throw new IllegalArgumentException(&quot;Memory policy cannot be null.&quot;);</span><br><span class="line">  &#125;</span><br><span class="line">  if (additional.length &gt; 0) &#123;</span><br><span class="line">    for (MemoryPolicy memoryPolicy : additional) &#123;</span><br><span class="line">      if (memoryPolicy == null) &#123;</span><br><span class="line">        throw new IllegalArgumentException(&quot;Memory policy cannot be null.&quot;);</span><br><span class="line">      &#125;</span><br><span class="line">      this.memoryPolicy |= memoryPolicy.index;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  return this;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


<h3 id="4-15-networkPolicy"><a href="#4-15-networkPolicy" class="headerlink" title="4.15 networkPolicy()"></a><a href></a>4.15 networkPolicy()</h3><p> 指定NetworkPolicy。NO_CACHE，NO_STORE，OFFLINE<br> NO_CACHE: 表示处理请求的时候跳过处理磁盘缓存<br> NO_STORE: 表示请求成功后，结果不缓存到Disk。<br> OFFLINE: 强制这次请求从缓存中获取结果，不会发起网络请求，不管缓存中能否获取到结果。</p>
<figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">/**</span><br><span class="line"> * Specifies the &#123;@link NetworkPolicy&#125; to use for this request. You may specify additional policy</span><br><span class="line"> * options using the varargs parameter.</span><br><span class="line"> */</span><br><span class="line">public RequestCreator networkPolicy(NetworkPolicy policy, NetworkPolicy... additional) &#123;</span><br><span class="line">  if (policy == null) &#123;</span><br><span class="line">    throw new IllegalArgumentException(&quot;Network policy cannot be null.&quot;);</span><br><span class="line">  &#125;</span><br><span class="line">  this.networkPolicy |= policy.index;</span><br><span class="line">  if (additional == null) &#123;</span><br><span class="line">    throw new IllegalArgumentException(&quot;Network policy cannot be null.&quot;);</span><br><span class="line">  &#125;</span><br><span class="line">  if (additional.length &gt; 0) &#123;</span><br><span class="line">    for (NetworkPolicy networkPolicy : additional) &#123;</span><br><span class="line">      if (networkPolicy == null) &#123;</span><br><span class="line">        throw new IllegalArgumentException(&quot;Network policy cannot be null.&quot;);</span><br><span class="line">      &#125;</span><br><span class="line">      this.networkPolicy |= networkPolicy.index;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">  return this;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


<h3 id="4-16-noFade"><a href="#4-16-noFade" class="headerlink" title="4.16 noFade()"></a><a href></a>4.16 noFade()</h3><p> 去掉默认的图片加载过程中的渐入效果</p>
<figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">/** Disable brief fade in of images loaded from the disk cache or network. */</span><br><span class="line">public RequestCreator noFade() &#123;</span><br><span class="line">  noFade = true;</span><br><span class="line">  return this;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


<h2 id="5-其他用法"><a href="#5-其他用法" class="headerlink" title="5. 其他用法"></a><a href></a>5. 其他用法</h2><p> <img src="https://img-blog.csdn.net/20171008163018068?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvcG9vcmtpY2s=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="这里写图片描述"></p>
<h3 id="5-1-get"><a href="#5-1-get" class="headerlink" title="5.1 get()"></a><a href></a>5.1 get()</h3><p> 同步方法，获取Bitmap。所以不要在主线程执行此操作<br> 用法：</p>
<figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">try &#123;</span><br><span class="line">   Bitmap bitmap =  Picasso.with(this).load(URL).get();</span><br><span class="line">&#125; catch (IOException e) &#123;</span><br><span class="line">    e.printStackTrace();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p> 源码实现：</p>
<figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">/**</span><br><span class="line">  * Synchronously fulfill this request. Must not be called from the main thread.</span><br><span class="line">  * &lt;p&gt;</span><br><span class="line">  * &lt;em&gt;Note&lt;/em&gt;: The result of this operation is not cached in memory because the underlying</span><br><span class="line">  * &#123;@link Cache&#125; implementation is not guaranteed to be thread-safe.</span><br><span class="line">  */</span><br><span class="line"> public Bitmap get() throws IOException &#123;</span><br><span class="line">   long started = System.nanoTime();</span><br><span class="line">   checkNotMain();</span><br><span class="line"></span><br><span class="line">   if (deferred) &#123;</span><br><span class="line">     throw new IllegalStateException(&quot;Fit cannot be used with get.&quot;);</span><br><span class="line">   &#125;</span><br><span class="line">   if (!data.hasImage()) &#123;</span><br><span class="line">     return null;</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   Request finalData = createRequest(started);</span><br><span class="line">   String key = createKey(finalData, new StringBuilder());</span><br><span class="line"></span><br><span class="line">   Action action = new GetAction(picasso, finalData, memoryPolicy, networkPolicy, tag, key);</span><br><span class="line">   return forRequest(picasso, picasso.dispatcher, picasso.cache, picasso.stats, action).hunt();</span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure>


<h3 id="5-2-fetch"><a href="#5-2-fetch" class="headerlink" title="5.2 fetch()"></a><a href></a>5.2 fetch()</h3><p> 毫无结果的获取图片，也没有目标，也没有返回bitmap，难道只是为了暖场？考虑到Picasso有缓存机制，这个方法还是有一点价值的，提前加载放到缓存，后面加载速度会更快。</p>
<figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line">/**</span><br><span class="line"> * Asynchronously fulfills the request without a &#123;@link ImageView&#125; or &#123;@link Target&#125;,</span><br><span class="line"> * and invokes the target &#123;@link Callback&#125; with the result. This is useful when you want to warm</span><br><span class="line"> * up the cache with an image.</span><br><span class="line"> * &lt;p&gt;</span><br><span class="line"> * &lt;em&gt;Note:&lt;/em&gt; The &#123;@link Callback&#125; param is a strong reference and will prevent your</span><br><span class="line"> * &#123;@link android.app.Activity&#125; or &#123;@link android.app.Fragment&#125; from being garbage collected</span><br><span class="line"> * until the request is completed.</span><br><span class="line"> */</span><br><span class="line">public void fetch(Callback callback) &#123;</span><br><span class="line">  long started = System.nanoTime();</span><br><span class="line"></span><br><span class="line">  if (deferred) &#123;</span><br><span class="line">    throw new IllegalStateException(&quot;Fit cannot be used with fetch.&quot;);</span><br><span class="line">  &#125;</span><br><span class="line">  if (data.hasImage()) &#123;</span><br><span class="line">    // Fetch requests have lower priority by default.</span><br><span class="line">    if (!data.hasPriority()) &#123;</span><br><span class="line">      data.priority(Priority.LOW);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    Request request = createRequest(started);</span><br><span class="line">    String key = createKey(request, new StringBuilder());</span><br><span class="line">    Bitmap bitmap = picasso.quickMemoryCacheCheck(key);</span><br><span class="line"></span><br><span class="line">    if (bitmap != null) &#123;</span><br><span class="line">      if (picasso.loggingEnabled) &#123;</span><br><span class="line">        log(OWNER_MAIN, VERB_COMPLETED, request.plainId(), &quot;from &quot; + MEMORY);</span><br><span class="line">      &#125;</span><br><span class="line">      if (callback != null) &#123;</span><br><span class="line">        callback.onSuccess();</span><br><span class="line">      &#125;</span><br><span class="line">    &#125; else &#123;</span><br><span class="line">      Action action =</span><br><span class="line">          new FetchAction(picasso, request, memoryPolicy, networkPolicy, tag, key, callback);</span><br><span class="line">      picasso.submit(action);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


<h2 id="6-自定义Picasso"><a href="#6-自定义Picasso" class="headerlink" title="6. 自定义Picasso"></a><a href></a>6. 自定义Picasso</h2><p> 默认使用Picasso.with(context)可以快速的构建Picasso实例，但是Picasso支持扩展自定义Picasso，也就是一些默认的配置，我们可以自己来调控。<br> <img src="https://img-blog.csdn.net/20171008164157411?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvcG9vcmtpY2s=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="这里写图片描述"></p>
<p> 可以看到Picasso.Builder方法存在很多可配置的内容，downloader, executor, memoryCache,listener等等都是可以自己设置的，配置完成后调用<br> builder()方法即可返回Picasso实例。<br> 还可以通过如下方法设置全局Picasso实例。</p>
<figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">/**</span><br><span class="line"> * Set the global instance returned from &#123;@link #with&#125;.</span><br><span class="line"> * &lt;p&gt;</span><br><span class="line"> * This method must be called before any calls to &#123;@link #with&#125; and may only be called once.</span><br><span class="line"> */</span><br><span class="line">public static void setSingletonInstance(Picasso picasso) &#123;</span><br><span class="line">  synchronized (Picasso.class) &#123;</span><br><span class="line">    if (singleton != null) &#123;</span><br><span class="line">      throw new IllegalStateException(&quot;Singleton instance already exists.&quot;);</span><br><span class="line">    &#125;</span><br><span class="line">    singleton = picasso;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


<h2 id="7-类图"><a href="#7-类图" class="headerlink" title="7. 类图"></a><a href></a>7. 类图</h2><p> 请适当放大后查看。<br> <img src="https://img-blog.csdn.net/20171009162242016?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvcG9vcmtpY2s=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="这里写图片描述"></p>
<h2 id="8-主要流程图"><a href="#8-主要流程图" class="headerlink" title="8. 主要流程图"></a><a href></a>8. 主要流程图</h2><p> 请适当放大后查看。<br> <img src="https://img-blog.csdn.net/20171009162305890?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvcG9vcmtpY2s=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="这里写图片描述"></p>

        </div>
        
        
        
    </div>
</div>








    <div class="card">
    
    <div class="card-content article ">
        
        <div class="level article-meta is-size-7 is-uppercase is-mobile is-overflow-x-auto">
            <div class="level-left">
                <time class="level-item has-text-grey" datetime="2017-06-17T13:44:09.000Z">2017-06-17</time>
                
                <div class="level-item">
                <a class="has-link-grey -link" href="/categories/Android开源库/">Android开源库</a>
                </div>
                
                
                <span class="level-item has-text-grey">
                    
                    
                    14 分钟 读完 (大约 2031 个字)
                </span>
                
                
            </div>
        </div>
        
        <h1 class="title is-size-3 is-size-4-mobile has-text-weight-normal">
            
                <a class="has-link-black-ter" href="/2017/06/17/《Android开源库》 MPAndroidChart Wiki(译文)～Part 4/">《Android开源库》 MPAndroidChart Wiki(译文)～Part 4</a>
            
        </h1>
        <div class="content">
            <h2 id="16-动画"><a href="#16-动画" class="headerlink" title="16. 动画"></a><a href></a>16. 动画</h2><p> <strong>注意：本章的动画效果只会在API 11（Android3.0.x）及以上的Android版本上生效</strong><br> 在低于上述的Android版本中，动画将不会被执行，并不会导致程序崩溃。</p>
<p> 所有类型的图标都可以用一种看上去比较炫酷的动画效果来进行构建。<br> 三种不同的动画方法来让我们在X轴，Y轴或则两个轴同时显示动画效果。</p>
<pre><code>方法                                      | 使用                             
--------------------------------------- | ------------------------------- 
animateX(int durationMillis)            | X水平轴的图表值动画，这意味着在指定的时间内从左到右 建立图表
animateY(int durationMillis)            | 垂直轴的图表值动画，这意味着在指定的时间内从下到上 建立图表。
animateXY(int xDuration, int yDuration) | 两个轴的图表值动画，从左到右，从下到上 建立图表。      </code></pre><figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">mChart.animateX(3000); // animate horizontal 3000 milliseconds</span><br><span class="line">// or:</span><br><span class="line">mChart.animateY(3000); // animate vertical 3000 milliseconds</span><br><span class="line">// or:</span><br><span class="line">mChart.animateXY(3000, 3000); // animate horizontal and vertical 3000 milliseconds</span><br></pre></td></tr></table></figure>

<p> 任意一种 animate(…) 动画方法被调用后，无需再调用 invalidate() 方法。</p>
<h3 id="16-1-缓动动画"><a href="#16-1-缓动动画" class="headerlink" title="16.1 缓动动画"></a><a href></a>16.1 缓动动画</h3><p> 这个库可以让你对动画应用”缓动函数”。<br> 你可以选择以下预定义的静态 Easing.EasingOption :</p>
<figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line">public enum EasingOption &#123;</span><br><span class="line">    Linear,</span><br><span class="line">    EaseInQuad,</span><br><span class="line">    EaseOutQuad,</span><br><span class="line">    EaseInOutQuad,</span><br><span class="line">    EaseInCubic,</span><br><span class="line">    EaseOutCubic,</span><br><span class="line">    EaseInOutCubic,</span><br><span class="line">    EaseInQuart,</span><br><span class="line">    EaseOutQuart,</span><br><span class="line">    EaseInOutQuart,</span><br><span class="line">    EaseInSine,</span><br><span class="line">    EaseOutSine,</span><br><span class="line">    EaseInOutSine,</span><br><span class="line">    EaseInExpo,</span><br><span class="line">    EaseOutExpo,</span><br><span class="line">    EaseInOutExpo,</span><br><span class="line">    EaseInCirc,</span><br><span class="line">    EaseOutCirc,</span><br><span class="line">    EaseInOutCirc,</span><br><span class="line">    EaseInElastic,</span><br><span class="line">    EaseOutElastic,</span><br><span class="line">    EaseInOutElastic,</span><br><span class="line">    EaseInBack,</span><br><span class="line">    EaseOutBack,</span><br><span class="line">    EaseInOutBack,</span><br><span class="line">    EaseInBounce,</span><br><span class="line">    EaseOutBounce,</span><br><span class="line">    EaseInOutBounce,</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p> 基本上，有以下两种方式进行 easing 你的动画。</p>
<ol start="2">
<li><p>预定义的缓动选项：（下面代码可在所有 Android 版本运行）  </p>
<figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">public void animateY(int durationmillis, Easing.EasingOption option);</span><br></pre></td></tr></table></figure>

<p>例如，调用带有预定义缓动选项的动画方法</p>
</li>
</ol>
<figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">// animate both axes with easing</span><br><span class="line">mChart.animateY(3000, Easing.EasingOption.EaseOutBack);</span><br></pre></td></tr></table></figure>

<p> 当你想代码运行在 Android 3.0 (API 11) 以下时，要使用 Easing.EasingOption 。  </p>
<ol start="2">
<li>自定义缓动函数（在 Android 3.0 自定义缓动函数会使应用 crash）：</li>
</ol>
<figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">public void animateY(int durationmillis, EasingFunction function);</span><br></pre></td></tr></table></figure>

<p> 通过创建你自己的easing-function类并且实现EasingFunction接口，你可以实现你自己的easing功能</p>
<figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">/**</span><br><span class="line"> * Interface for creating custom made easing functions. </span><br><span class="line"> */</span><br><span class="line"> public interface EasingFunction &#123;</span><br><span class="line">    /**</span><br><span class="line">     * Called everytime the animation is updated.</span><br><span class="line">     * @param input - the time passed since the animation started (value between 0 and 1)</span><br><span class="line">     */</span><br><span class="line">     public float getInterpolation(float input);</span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure>

<p> 然后，按照如下方式使用(注意，这个不能在小于Android3.0的版本上使用，将会导致程序崩溃)</p>
<figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">// animate both axes with easing</span><br><span class="line">mChart.animateY(3000, new MyEasingFunction());</span><br></pre></td></tr></table></figure>


<hr>
<h2 id="17-IMarker接口"><a href="#17-IMarker接口" class="headerlink" title="17. IMarker接口"></a><a href></a>17. IMarker接口</h2><p> 自<a href="https://github.com/PhilJay/MPAndroidChart/releases" target="_blank" rel="noopener">版本v3.0.0</a>以来，图表中的标记（弹出窗口）由IMarker接口表示。</p>
<h3 id="17-1-IMarker接口"><a href="#17-1-IMarker接口" class="headerlink" title="17.1 IMarker接口"></a><a href></a>17.1 IMarker接口</h3><p> 这个接口可以帮助你实现在图表中条目高亮的时候显示自定义的Marker窗口。这个接口给我们提供了如下需要实现的方法：</p>
<figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line">public interface IMarker &#123;</span><br><span class="line"></span><br><span class="line">    /**</span><br><span class="line">     * @return The desired (general) offset you wish the IMarker to have on the x- and y-axis.</span><br><span class="line">     *         By returning x: -(width / 2) you will center the IMarker horizontally.</span><br><span class="line">     *         By returning y: -(height / 2) you will center the IMarker vertically.</span><br><span class="line">     */</span><br><span class="line">    MPPointF getOffset();</span><br><span class="line"></span><br><span class="line">    /**</span><br><span class="line">     * @return The offset for drawing at the specific `point`. This allows conditional adjusting of the Marker position.</span><br><span class="line">     *         If you have no adjustments to make, return getOffset().</span><br><span class="line">     *</span><br><span class="line">     * @param posX This is the X position at which the marker wants to be drawn.</span><br><span class="line">     *             You can adjust the offset conditionally based on this argument.</span><br><span class="line">     * @param posY This is the X position at which the marker wants to be drawn.</span><br><span class="line">     *             You can adjust the offset conditionally based on this argument.</span><br><span class="line">     */</span><br><span class="line">    MPPointF getOffsetForDrawingAtPos(float posX, float posY);</span><br><span class="line"></span><br><span class="line">    /**</span><br><span class="line">     * This method enables a specified custom IMarker to update it&apos;s content every time the IMarker is redrawn.</span><br><span class="line">     *</span><br><span class="line">     * @param e         The Entry the IMarker belongs to. This can also be any subclass of Entry, like BarEntry or</span><br><span class="line">     *                  CandleEntry, simply cast it at runtime.</span><br><span class="line">     * @param highlight The highlight object contains information about the highlighted value such as it&apos;s dataset-index, the</span><br><span class="line">     *                  selected range or stack-index (only stacked bar entries).</span><br><span class="line">     */</span><br><span class="line">    void refreshContent(Entry e, Highlight highlight);</span><br><span class="line"></span><br><span class="line">    /**</span><br><span class="line">     * Draws the IMarker on the given position on the screen with the given Canvas object.</span><br><span class="line">     *</span><br><span class="line">     * @param canvas</span><br><span class="line">     * @param posX</span><br><span class="line">     * @param posY</span><br><span class="line">     */</span><br><span class="line">    void draw(Canvas canvas, float posX, float posY);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


<hr>
<h3 id="17-2-创建一个标记视图"><a href="#17-2-创建一个标记视图" class="headerlink" title="17.2 创建一个标记视图"></a><a href></a>17.2 创建一个标记视图</h3><p> 为了创建一个自定义的标记视图，你需要创建一个实现了IMarker接口的类：</p>
<figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">public class YourMarkerView implements IMarker &#123; ... &#125;</span><br></pre></td></tr></table></figure>

<p> 实现IMarker接口时返回什么样的值，完全取决于你自己的需求。所以，看看上面关于每个方法的介绍是很有必要的。</p>
<p> 除了通过实现IMarker接口来创建自己的标记视图，我们还可以通过继承下面提到的一个类来达到同样的目的。这个方法比较简单，并且我们也不需要实现IMarker接口中的所有方法。只有几个特定的方法需要我们复写和自定义。最重要的是复写refreshContent（…）方法来调整标记视图中的数据。一个简单的示例如下：</p>
<figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line">public class YourMarkerView extends MarkerView &#123;</span><br><span class="line"></span><br><span class="line">    private TextView tvContent;</span><br><span class="line"></span><br><span class="line">    public MyMarkerView(Context context, int layoutResource) &#123;</span><br><span class="line">        super(context, layoutResource);</span><br><span class="line"></span><br><span class="line">        // find your layout components</span><br><span class="line">        tvContent = (TextView) findViewById(R.id.tvContent);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    // callbacks everytime the MarkerView is redrawn, can be used to update the</span><br><span class="line">    // content (user-interface)</span><br><span class="line">    @Override</span><br><span class="line">    public void refreshContent(Entry e, Highlight highlight) &#123;</span><br><span class="line"></span><br><span class="line">        tvContent.setText(&quot;&quot; + e.getY());</span><br><span class="line"></span><br><span class="line">        // this will perform necessary layouting</span><br><span class="line">        super.refreshContent(e, highlight);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    private MPPointF mOffset; </span><br><span class="line"></span><br><span class="line">    @Override</span><br><span class="line">    public MPPointF getOffset() &#123;</span><br><span class="line"></span><br><span class="line">        if(mOffset == null) &#123;</span><br><span class="line">           // center the marker horizontally and vertically</span><br><span class="line">           mOffset = new MPPointF(-(getWidth() / 2), -getHeight());</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        return mOffset;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


<hr>
<h3 id="17-3-获取／设置Marker"><a href="#17-3-获取／设置Marker" class="headerlink" title="17.3 获取／设置Marker"></a><a href></a>17.3 获取／设置Marker</h3><p> 给图表设置一个Marker，使用setMarker(…)方法：</p>
<figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">IMarker marker = new YourMarkerView();</span><br><span class="line">chart.setMarker(marker);</span><br></pre></td></tr></table></figure>

<p> 要访问图表上的一个Marker，使用getMarker()方法：</p>
<figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">IMarker marker = chart.getMarker();</span><br></pre></td></tr></table></figure>


<hr>
<h3 id="17-4-预定义Markers"><a href="#17-4-预定义Markers" class="headerlink" title="17.4 预定义Markers"></a><a href></a>17.4 预定义Markers</h3><p> 除了你自定义的MarkerView，开源库中也给我们提供了几个预定义的markers以供方便快捷的使用。其中包括：</p>
<ul>
<li><a href="https://github.com/PhilJay/MPAndroidChart/blob/master/MPChartLib/src/main/java/com/github/mikephil/charting/components/MarkerView.java" target="_blank" rel="noopener">MarkerView</a> :基本marker。允许提供布局文件作为图表上呈现的标记。继承这个类并且复写refreshContent(…)方法来调整标记视图中的内容。 </li>
<li><a href="https://github.com/PhilJay/MPAndroidChart/blob/master/MPChartLib/src/main/java/com/github/mikephil/charting/components/MarkerImage.java" target="_blank" rel="noopener">MarkerImage</a>:一种绘制图片的标记视图。允许提供一个图片资源作为图表上的标记视图。继承这个类并且复写refreshContent(…)方法来调整标记视图中的内容。  </li>
</ul>
<hr>
<h3 id="17-5-旧版MarkerView"><a href="#17-5-旧版MarkerView" class="headerlink" title="17.5 旧版MarkerView"></a><a href></a>17.5 旧版MarkerView</h3><p> <a href="https://github.com/PhilJay/MPAndroidChart/releases" target="_blank" rel="noopener">版本v3.0.0</a> 之前，MarkerView类负责在图表高亮部分绘制标记视图。详情请查阅老版的the old <a href="https://github.com/PhilJay/MPAndroidChart/wiki/MarkerView" target="_blank" rel="noopener">MarkerView wiki page</a>.</p>
<hr>
<h2 id="18-ChartData类"><a href="#18-ChartData类" class="headerlink" title="18. ChartData类"></a><a href></a>18. ChartData类</h2><p> 本章旨在让你更深入的了解MPAndroidChart中的数据模型。</p>
<p> ChartData类是像LineData，BarData等等这些数据类的父类。setData()方法可以将数据设置到图表中。</p>
<figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">public class LineData extends ChartData &#123; ...&#125;</span><br></pre></td></tr></table></figure>

<p> 下面介绍一些ChartData类中的方法，可以直接在它的子类中使用。</p>
<h3 id="18-1-数据样式"><a href="#18-1-数据样式" class="headerlink" title="18.1 数据样式"></a><a href></a>18.1 数据样式</h3><pre><code>方法                                  | 使用                                                               
----------------------------------- | ----------------------------------------------------------------- 
setValueTextColor(int color)        | 设置 DataSets 数据对象包含的数据的值文本的颜色                                     
setValueTextColors(List colors)     | 设置一个颜色列表用于显示值                                                    
setValueTextSize(float size)        | 设置 DataSets 数据对象包含的数据的值文本的大小（单位是dp）                              
setValueTypeface(Typeface tf)       | 设置 DataSets 数据对象包含的数据的值文本的字体                                     
setValueFormatter(ValueFormatter f) | 为DataSets 数据对象包含的数据设置自定义的 ValueFormatter。更多关于ValueFormatter，请查阅此处
setDrawValues(boolean enabled)      | 启用/禁用 绘制所有 DataSets 数据对象包含的数据的值文本                                </code></pre><hr>
<h3 id="18-2-Getter方法"><a href="#18-2-Getter方法" class="headerlink" title="18.2 Getter方法"></a><a href></a>18.2 Getter方法</h3><pre><code>方法                           | 使用                                              
---------------------------- | ------------------------------------------------ 
getDataSetByIndex(int index) | 返回目标 DataSet 列表中给定索引的数据对象。                      
contains(Entry entry)        | 检查此数据对象是否包含指定的Entry 。 注：这个相当影响性能，性能严峻情况下，不要过度使用。
contains(T dataSet)          | 如果数据中包含指定dataSet,返回true否则返回false                </code></pre><hr>
<h3 id="18-3-清除"><a href="#18-3-清除" class="headerlink" title="18.3 清除"></a><a href></a>18.3 清除</h3><pre><code>方法            | 使用                                                
------------- | -------------------------------------------------- 
clearValues() | 清除所有 DataSet 对象和所有 Entries 的数据 。 不会删除所提供的 x-values</code></pre><hr>
<h3 id="18-4-选中高亮"><a href="#18-4-选中高亮" class="headerlink" title="18.4 选中高亮"></a><a href></a>18.4 选中高亮</h3><pre><code>方法                                                   | 使用                                        
---------------------------------------------------- | ------------------------------------------ 
setHighlightEnabled(boolean enabled)                 | 设置为true，允许通过点击高亮突出 ChartData 对象和其 DataSets
setDrawVerticalHighlightIndicator(boolean enabled)   | 启用／即用纵向选中高亮指示线。如果禁用，指示线将不会被绘制             
setDrawHorizontalHighlightIndicator(boolean enabled) | 用／即用横向选中高亮指示线。如果禁用，指示线将不会被绘制              </code></pre><hr>
<h3 id="18-5-动态数据"><a href="#18-5-动态数据" class="headerlink" title="18.5 动态数据"></a><a href></a>18.5 动态数据</h3><pre><code>方法                  | 使用                        
------------------- | -------------------------- 
notifyDataChanged() | 通知数据对象，底层数据发生变化，候执行所有必需的计算</code></pre><p>想了解如何在数据对象上增加或者移除数据，请查阅<a href="https://github.com/PhilJay/MPAndroidChart/wiki/Dynamic-&amp;-Realtime-Data" target="_blank" rel="noopener">dynamic &amp; realtime data</a>章节</p>

        </div>
        
        
        
    </div>
</div>








    <div class="card">
    
    <div class="card-content article ">
        
        <div class="level article-meta is-size-7 is-uppercase is-mobile is-overflow-x-auto">
            <div class="level-left">
                <time class="level-item has-text-grey" datetime="2017-06-10T14:29:20.000Z">2017-06-10</time>
                
                <div class="level-item">
                <a class="has-link-grey -link" href="/categories/Android开源库/">Android开源库</a>
                </div>
                
                
                <span class="level-item has-text-grey">
                    
                    
                    29 分钟 读完 (大约 4365 个字)
                </span>
                
                
            </div>
        </div>
        
        <h1 class="title is-size-3 is-size-4-mobile has-text-weight-normal">
            
                <a class="has-link-black-ter" href="/2017/06/10/《Android开源库》 MPAndroidChart Wiki(译文)～Part 1/">《Android开源库》 MPAndroidChart Wiki(译文)～Part 1</a>
            
        </h1>
        <div class="content">
            <h2 id="1-基础入门"><a href="#1-基础入门" class="headerlink" title="1. 基础入门"></a><a href></a>1. 基础入门</h2><h3 id="1-1-添加依赖"><a href="#1-1-添加依赖" class="headerlink" title="1.1 添加依赖"></a><a href></a>1.1 添加依赖</h3><p> <strong>Gradle 工程添加依赖 (推荐使用)</strong><br> 项目级build.gradle中添加:</p>
<figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">allprojects &#123;</span><br><span class="line">	repositories &#123;</span><br><span class="line">		maven &#123; url &quot;https://jitpack.io&quot; &#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p> App下的 build.gradle中添加:</p>
<figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">dependencies &#123;</span><br><span class="line">	compile &apos;com.github.PhilJay:MPAndroidChart:v3.0.2&apos;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p> <strong>Maven</strong><br> pom.xml中添加如下repositories:</p>
<figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&lt;repository&gt;</span><br><span class="line">       &lt;id&gt;jitpack.io&lt;/id&gt;</span><br><span class="line">       &lt;url&gt;https://jitpack.io&lt;/url&gt;</span><br><span class="line">&lt;/repository&gt;</span><br></pre></td></tr></table></figure>

<p> pom.xml中添加如下dependencies</p>
<figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;dependency&gt;</span><br><span class="line">       &lt;groupId&gt;com.github.PhilJay&lt;/groupId&gt;</span><br><span class="line">       &lt;artifactId&gt;MPAndroidChart&lt;/artifactId&gt;</span><br><span class="line">       &lt;version&gt;v3.0.2&lt;/version&gt;</span><br><span class="line">&lt;/dependency&gt;</span><br></pre></td></tr></table></figure>

<p> <strong>直接使用Jar包文件</strong><br> 下载<a href="https://github.com/PhilJay/MPAndroidChart/releases" target="_blank" rel="noopener">最新的.jar</a>包，拷贝下载的文件到你的Android项目libs文件夹下然后开始使用这个开源库。<br> <strong>拷贝整个工程</strong><br> 使用git clone <a href="https://github.com/PhilJay/MPAndroidChart.git" target="_blank" rel="noopener">https://github.com/PhilJay/MPAndroidChart.git</a> 命令下载整个工程，这个工程包含sample和MPChartLib库，然后你可以将这个库引入到你的Android Studio工程或者是Eclipse工程。</p>
<hr>
<h2 id="1-2-创建View"><a href="#1-2-创建View" class="headerlink" title="1.2 创建View"></a><a href></a>1.2 创建View</h2><p> 要使用LineChart, BarChart, ScatterChart, CandleStickChart, PieChart, BubbleChart 或者 RadarChart，我们可以首先在布局XML文件中定义它 ：</p>
<figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&lt;com.github.mikephil.charting.charts.LineChart</span><br><span class="line">    android:id=&quot;@+id/chart&quot;</span><br><span class="line">    android:layout_width=&quot;match_parent&quot;</span><br><span class="line">    android:layout_height=&quot;match_parent&quot; /&gt;</span><br></pre></td></tr></table></figure>

<p> 然后我们可以在Fragment，Activity或者其他能拿到它的地方取到对象：</p>
<figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">// in this example, a LineChart is initialized from xml</span><br><span class="line">    LineChart chart = (LineChart) findViewById(R.id.chart);</span><br></pre></td></tr></table></figure>

<p> 或者我们直接在代码中创建Chart然后把它添加到布局中去：</p>
<figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">// programmatically create a LineChart</span><br><span class="line">    LineChart chart = new LineChart(Context);</span><br><span class="line"></span><br><span class="line">    // get a layout defined in xml</span><br><span class="line">    RelativeLayout rl = (RelativeLayout) findViewById(R.id.relativeLayout);</span><br><span class="line">    rl.add(chart); // add the programmatically created chart</span><br></pre></td></tr></table></figure>


<hr>
<h3 id="1-3-添加数据"><a href="#1-3-添加数据" class="headerlink" title="1.3 添加数据"></a><a href></a>1.3 添加数据</h3><p> 当你创建了一个chart实例后，你可以生成一些数据然后把它加入到图表中去。下面的例子中我们以LineChart为例，对LineChart而言，Entry类代表有X和Y值的图表中的一个条目。对于其他的Chart类型，如BarChart，你可以使用BarEntry作为数据条目。<br> 为了给你的图表添加数据，你需要想下面这样将你的数据封装成Entry：</p>
<figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">YourData[] dataObjects = ...;</span><br><span class="line"></span><br><span class="line">List&lt;Entry&gt; entries = new ArrayList&lt;Entry&gt;();</span><br><span class="line"></span><br><span class="line">for (YourData data : dataObjects) &#123;</span><br><span class="line"></span><br><span class="line">    // turn your data into Entry objects</span><br><span class="line">    entries.add(new Entry(data.getValueX(), data.getValueY())); </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p> 下一步，你需要将List&lt; Entry&gt;添加到LineDataSet对象中。DataSet对象包含属于一组的数据，并且每个数据有自己独立的风格。如下“Label”只有描述目的如果设置enabled的话，它将会在Legend中显示出来。</p>
<figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">LineDataSet dataSet = new LineDataSet(entries, &quot;Label&quot;); // add entries to dataset</span><br><span class="line">dataSet.setColor(...);</span><br><span class="line">dataSet.setValueTextColor(...); // styling, ...</span><br></pre></td></tr></table></figure>

<p> 最后一步，添加LineDataSet到LineData中，LineData包含对应Chart中的所有数据，并且我们可以更深入的定制数据的显示风格。在创建了数据之后我们将其加入到chart中然后刷新一下。</p>
<figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">LineData lineData = new LineData(dataSet);</span><br><span class="line">chart.setData(lineData);</span><br><span class="line">chart.invalidate(); // refresh</span><br></pre></td></tr></table></figure>

<p> 上面这些都是很基本的设置和使用。更细节的介绍请查阅<a href="https://github.com/PhilJay/MPAndroidChart/wiki/Setting-Data" target="_blank" rel="noopener">setting Data</a>章节—- 结合示例的为你讲解如何给各式各样的图表添加数据。</p>
<hr>
<h3 id="1-4-样式"><a href="#1-4-样式" class="headerlink" title="1.4 样式"></a><a href></a>1.4 样式</h3><p> 想要了解chart和数据的设置和样式，请查阅<a href="https://github.com/PhilJay/MPAndroidChart/wiki/General-Chart-Settings-&amp;-Styling" target="_blank" rel="noopener">settings &amp; styling</a>章节。对于各种类型的数据和样式，请查阅<a href="https://github.com/PhilJay/MPAndroidChart/wiki/Specific-chart-settings" target="_blank" rel="noopener">specific settings &amp; styling </a>wiki页面。</p>
<hr>
<h2 id="2-Chart交互"><a href="#2-Chart交互" class="headerlink" title="2. Chart交互"></a><a href></a>2. Chart交互</h2><p> MPAndroidChart允许用户完成自定义于Chart View的触摸或者是手势事件，并且通过回调方法响应交互。</p>
<h3 id="2-1-启用／禁用交互"><a href="#2-1-启用／禁用交互" class="headerlink" title="2.1 启用／禁用交互"></a><a href></a>2.1 启用／禁用交互</h3><pre><code>方法                                         | 作用                           
------------------------------------------ | ----------------------------- 
setTouchEnabled(boolean enabled)           | 启用或者禁用触摸交互                   
setDragEnabled(boolean enabled)            | 启用或者禁用拖拽交互                   
setScaleEnabled(boolean enabled)           | 启用或者禁用缩放交互（X轴和Y轴）            
setScaleXEnabled(boolean enabled)          | 启用或者禁用X轴缩放交互                 
setScaleYEnabled(boolean enabled)          | 启用或者禁用Y轴缩放交互                 
setPinchZoom(boolean enabled)              | 设置为true，则可以使用捏缩放，否则X轴Y轴将会分开缩放
setDoubleTapToZoomEnabled(boolean enabled) | 设置为false，双击放大功能将会被禁用         </code></pre><hr>
<h3 id="2-2-图表Fling和减速（针对滑动操作）"><a href="#2-2-图表Fling和减速（针对滑动操作）" class="headerlink" title="2.2 图表Fling和减速（针对滑动操作）"></a><a href></a>2.2 图表Fling和减速（针对滑动操作）</h3><pre><code>方法                                          | 作用                                                                 
------------------------------------------- | ------------------------------------------------------------------- 
setDragDecelerationEnabled(boolean enabled) | 如果设置为true，滑动操作完成后图表还会继续滚动。默认值为true                                 
setDragDecelerationFrictionCoef(float coef) | 减速摩擦系数在[0; 1]间隔，较高的值表示速度将缓慢降低，例如，如果设置为0，它将立即停止。 1是无效值，将自动转换为0.9999。</code></pre><hr>
<h3 id="2-3-高亮值"><a href="#2-3-高亮值" class="headerlink" title="2.3 高亮值"></a><a href></a>2.3 高亮值</h3><p> 如何通过点击手势高亮数据条目，请查阅<a href="https://github.com/PhilJay/MPAndroidChart/wiki/Highlighting" target="_blank" rel="noopener">highlighting section</a></p>
<hr>
<h3 id="2-4-手势回调"><a href="#2-4-手势回调" class="headerlink" title="2.4 手势回调"></a><a href></a>2.4 手势回调</h3><p> OnChartGestureListener接口可以让我们定义手势响应事件</p>
<figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br></pre></td><td class="code"><pre><span class="line">public interface OnChartGestureListener &#123;</span><br><span class="line"></span><br><span class="line">    /**</span><br><span class="line">     * Callbacks when a touch-gesture has started on the chart (ACTION_DOWN)</span><br><span class="line">     *</span><br><span class="line">     * @param me</span><br><span class="line">     * @param lastPerformedGesture</span><br><span class="line">     */</span><br><span class="line">    void onChartGestureStart(MotionEvent me, ChartTouchListener.ChartGesture lastPerformedGesture);</span><br><span class="line"></span><br><span class="line">    /**</span><br><span class="line">     * Callbacks when a touch-gesture has ended on the chart (ACTION_UP, ACTION_CANCEL)</span><br><span class="line">     *</span><br><span class="line">     * @param me</span><br><span class="line">     * @param lastPerformedGesture</span><br><span class="line">     */</span><br><span class="line">    void onChartGestureEnd(MotionEvent me, ChartTouchListener.ChartGesture lastPerformedGesture);</span><br><span class="line"></span><br><span class="line">    /**</span><br><span class="line">     * Callbacks when the chart is longpressed.</span><br><span class="line">     * </span><br><span class="line">     * @param me</span><br><span class="line">     */</span><br><span class="line">    public void onChartLongPressed(MotionEvent me);</span><br><span class="line"></span><br><span class="line">    /**</span><br><span class="line">     * Callbacks when the chart is double-tapped.</span><br><span class="line">     * </span><br><span class="line">     * @param me</span><br><span class="line">     */</span><br><span class="line">    public void onChartDoubleTapped(MotionEvent me);</span><br><span class="line"></span><br><span class="line">    /**</span><br><span class="line">     * Callbacks when the chart is single-tapped.</span><br><span class="line">     * </span><br><span class="line">     * @param me</span><br><span class="line">     */</span><br><span class="line">    public void onChartSingleTapped(MotionEvent me);</span><br><span class="line"></span><br><span class="line">    /**</span><br><span class="line">     * Callbacks then a fling gesture is made on the chart.</span><br><span class="line">     * </span><br><span class="line">     * @param me1</span><br><span class="line">     * @param me2</span><br><span class="line">     * @param velocityX</span><br><span class="line">     * @param velocityY</span><br><span class="line">     */</span><br><span class="line">    public void onChartFling(MotionEvent me1, MotionEvent me2, float velocityX, float velocityY);</span><br><span class="line"></span><br><span class="line">   /**</span><br><span class="line">     * Callbacks when the chart is scaled / zoomed via pinch zoom gesture.</span><br><span class="line">     * </span><br><span class="line">     * @param me</span><br><span class="line">     * @param scaleX scalefactor on the x-axis</span><br><span class="line">     * @param scaleY scalefactor on the y-axis</span><br><span class="line">     */</span><br><span class="line">    public void onChartScale(MotionEvent me, float scaleX, float scaleY);</span><br><span class="line"></span><br><span class="line">   /**</span><br><span class="line">    * Callbacks when the chart is moved / translated via drag gesture.</span><br><span class="line">    *</span><br><span class="line">    * @param me</span><br><span class="line">    * @param dX translation distance on the x-axis</span><br><span class="line">    * @param dY translation distance on the y-axis</span><br><span class="line">    */</span><br><span class="line">    public void onChartTranslate(MotionEvent me, float dX, float dY);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p> 简单地在类中实现上面这个接口，然后设置到对应的chart对象</p>
<figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">chart.setOnChartGestureListener(this);</span><br></pre></td></tr></table></figure>


<hr>
<h2 id="3-高亮"><a href="#3-高亮" class="headerlink" title="3. 高亮"></a><a href></a>3. 高亮</h2><p> 本节重点介绍通过点击手势和基于版本v3.0.0以编程方式突出显示图表中的条目的主题。</p>
<h3 id="3-1-启用／禁用高亮"><a href="#3-1-启用／禁用高亮" class="headerlink" title="3.1 启用／禁用高亮"></a><a href></a>3.1 启用／禁用高亮</h3><pre><code>方法                                          | 作用                                                       
------------------------------------------- | --------------------------------------------------------- 
setHighlightPerDragEnabled(boolean enabled) | 在图表上将其设置为true，以便在完全缩小时在图表上拖动时突出显示。 默认值：true              
setHighlightPerTapEnabled(boolean enabled)  | 在图表上将其设置为false可防止点击手势突出显示值。 仍然可以通过拖动或以编程方式突出显示值。 默认值：true
setMaxHighlightDistance(float distanceDp)   | 设置最大高亮距离(dp)。 图表上条目大于这个距离不会触发高亮。 默认值：500dp               </code></pre><p>除此之外，单独的DataSet也能配置高亮：</p>
<figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">dataSet.setHighlightEnabled(true); // allow highlighting for DataSet</span><br><span class="line"></span><br><span class="line">// set this to false to disable the drawing of highlight indicator (lines)</span><br><span class="line">dataSet.setDrawHighlightIndicators(true); </span><br><span class="line">dataSet.setHighlightColor(Color.BLACK); // color for highlight indicator</span><br><span class="line">// and more...</span><br></pre></td></tr></table></figure>


<hr>
<h3 id="3-2-代码实现高亮"><a href="#3-2-代码实现高亮" class="headerlink" title="3.2 代码实现高亮"></a><a href></a>3.2 代码实现高亮</h3><pre><code>方法                                                              | 作用                                                                      
--------------------------------------------------------------- | ------------------------------------------------------------------------ 
highlightValue(float x, int dataSetIndex, boolean callListener) | 突出显示给定DataSet中指定x位置的值。 dataSetIndex为-1时撤消所有高亮。 callListener决定了是否调用选择监听器。
highlightValue(Highlight high, boolean callListener)            | 突出显示由提供的高光对象表示的值。 提供null以撤销所有突出显示。 callListener决定了是否调用选择监听器。            
highlightValues(Highlight[] highs)                              | 突出显示highs代表的高光对象表示的值。提供null或者是空数组取消所有高亮                                 
getHighlighted()                                                | 以highlight[]的形式返回包含所有高光条目信息，X坐标，DateSet索引                               </code></pre><hr>
<h3 id="3-3-选择回调"><a href="#3-3-选择回调" class="headerlink" title="3.3 选择回调"></a><a href></a>3.3 选择回调</h3><p> 开源库提供了大量用来处理交互的监听器。OnChartValueSelectedListener是其中一个，用来处理通过触摸高亮数据条目时处理回调：</p>
<figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">public interface OnChartValueSelectedListener &#123;</span><br><span class="line">    /**</span><br><span class="line">    * Called when a value has been selected inside the chart.</span><br><span class="line">    *</span><br><span class="line">    * @param e The selected Entry.</span><br><span class="line">    * @param h The corresponding highlight object that contains information</span><br><span class="line">    * about the highlighted position</span><br><span class="line">    */</span><br><span class="line">    public void onValueSelected(Entry e, Highlight h);</span><br><span class="line">    /**</span><br><span class="line">    * Called when nothing has been selected or an &quot;un-select&quot; has been made.</span><br><span class="line">    */</span><br><span class="line">    public void onNothingSelected();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p> 在需要接受回调的类中实现上面这个接口，然后将监听器设置到Chart即可</p>
<figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">chart.setOnChartValueSelectedListener(this);</span><br></pre></td></tr></table></figure>


<hr>
<h3 id="3-4-Highlight类"><a href="#3-4-Highlight类" class="headerlink" title="3.4 Highlight类"></a><a href></a>3.4 Highlight类</h3><p> Hightlight类代表一个高亮条目的所有数据，如高亮条目本身，它的DataSet，它在界面上的绘制位置等等。这个类可以用来得到当前高亮条目的信息，或者用来告诉Chart，需要高亮哪些条目。为了实现这些目的，Highlight类提供了两个构造方法：</p>
<figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">/** constructor for standard highlight */</span><br><span class="line">public Highlight(float x, int dataSetIndex) &#123; ... &#125;</span><br><span class="line"></span><br><span class="line">/** constructor for stacked BarEntry highlight */</span><br><span class="line">public Highlight(float x, int dataSetIndex, int stackIndex) &#123; ... &#125;</span><br></pre></td></tr></table></figure>

<p> 通过构造函数你可以创建Hightlight对象，然后通过代码的方式实现高亮：</p>
<figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">// highlight the entry and x-position 50 in the first (0) DataSet</span><br><span class="line">Highlight highlight = new Highlight(50f, 0); </span><br><span class="line"></span><br><span class="line">chart.highlightValue(highlight, false); // highlight this value, don&apos;t call listener</span><br></pre></td></tr></table></figure>


<hr>
<h3 id="3-5-自定义高亮器"><a href="#3-5-自定义高亮器" class="headerlink" title="3.5 自定义高亮器"></a><a href></a>3.5 自定义高亮器</h3><p> 所有以高亮手势形式显示的用户输入都由默认的ChartHighlighter类进行内部处理。 使用以下方法可以用自定义实现替换默认的highligher：</p>
<pre><code>方法                                           | 作用                                                   
-------------------------------------------- | ----------------------------------------------------- 
setHighlighter(ChartHighlighter highlighter) | 设置一个自定义高亮器来处理所有图表上的高亮事件。你的自定义高亮器必须继承ChartHighlighter类</code></pre><hr>
<h2 id="4-轴"><a href="#4-轴" class="headerlink" title="4. 轴"></a><a href></a>4. 轴</h2><p> 该wiki页面重点介绍AxisBase类，XAxis（<a href="https://github.com/PhilJay/MPAndroidChart/wiki/XAxis" target="_blank" rel="noopener">XAxis</a>）和YAxis（<a href="https://github.com/PhilJay/MPAndroidChart/wiki/YAxis" target="_blank" rel="noopener">YAxis</a>）的基础类。 在v2.0.0中引入<br> 下面提到的以下方法都可以应用于两个轴。</p>
<ul>
<li>轴类允许特定的样式，包括以下组件/部件（可以包括）：<br> 标签（以垂直（y轴）或水平（x轴）对齐绘制），其中包含轴描述值 </li>
<li>所谓的“轴线”被直接绘制在标签附近并与标签平行 </li>
<li>“网格线”，各自源自水平方向的轴标签 </li>
<li>限制线，允许呈现特殊信息，如边界或约束  <h3 id="4-1-控制轴线绘制（哪些部分需要绘制）"><a href="#4-1-控制轴线绘制（哪些部分需要绘制）" class="headerlink" title="4.1 控制轴线绘制（哪些部分需要绘制）"></a><a href></a>4.1 控制轴线绘制（哪些部分需要绘制）</h3></li>
</ul>
<pre><code>方法                                | 作用                                   
--------------------------------- | ------------------------------------- 
setEnabled(boolean enabled)       | 设置轴启用或禁用。 如果禁用，无论任何其他设置如何，都不会绘制轴的任何部分
setDrawLabels(boolean enabled)    | 将其设置为true可以绘制轴的标签。                   
setDrawAxisLine(boolean enabled)  | 如果沿着轴（轴线）的线应该被绘制，则将其设置为true。         
setDrawGridLines(boolean enabled) | 将其设置为true可以绘制轴的网格线。                  </code></pre><hr>
<h3 id="4-2-自定义轴的范围（最小值／最大值）"><a href="#4-2-自定义轴的范围（最小值／最大值）" class="headerlink" title="4.2 自定义轴的范围（最小值／最大值）"></a><a href></a>4.2 自定义轴的范围（最小值／最大值）</h3><pre><code>方法                                      | 作用                                                                                           
--------------------------------------- | --------------------------------------------------------------------------------------------- 
setAxisMaximum(float max)               | 设置此轴的自定义最大值。 如果设置，此值将不会根据提供的数据自动计算.                                                          
resetAxisMaximum()                      | 调用此方法来撤销先前设置的最大值。 通过这样做，你将再次允许轴自动计算它的最大值。                                                    
setAxisMinimum(float min)               | 设置此轴的自定义最小值。 如果设置，此值将不会根据提供的数据自动计算                                                           
resetAxisMinimum()                      | 调用此方法来撤销先前设置的最小值。 通过这样做，你将再次允许轴自动计算它的最小值。                                                    
setStartAtZero(boolean enabled)         | 已弃用 - 请使用setAxisMinValue（…）或setAxisMaxValue（…）                                               
setInverted(boolean enabled)            | 如果设置为true，则该轴将被反转，这意味着最高值将在底部，最低值在顶部                                                         
setSpaceTop(float percent)              | 设置图表中最高值的顶部间距（以总轴的百分比表示）与轴上的最高值相比较                                                           
setSpaceBottom(float percent)           | 设置图表中最低值的底部间距（以总轴范围的百分比表示）与轴上的最低值相比较.                                                        
setShowOnlyMinMax(boolean enabled)      | 如果启用，该轴将仅显示其最小值和最大值。 这将忽略/覆盖定义的标签计数（如果不强制）.                                                  
setLabelCount(int count, boolean force) | 设置y轴的标签数量。 请注意，这个数字不是固定的（如果force == false），并且只能近似。 如果强制启用（true），则绘制精确的指定标签计数 - 这可能导致轴上的数字不均匀。
setPosition(YAxisLabelPosition pos)     | 设置绘制轴标签的位置。 INSIDE_CHART或OUTSIDE_CHART。                                                      
setGranularity(float gran)              | 设置y轴值之间的最小间隔。 这可以用于在放大到为轴设置的小数位数不再允许区分两个轴值的点时避免重复值。                                          
setGranularityEnabled(boolean enabled)  | 启用在放大时限制y轴间隔的粒度特征。默认值：false                                                                  </code></pre><hr>
<h3 id="4-3-样式-修改轴"><a href="#4-3-样式-修改轴" class="headerlink" title="4.3 样式/修改轴"></a><a href></a>4.3 样式/修改轴</h3><pre><code>方法                                                                     | 作用                                                                                
---------------------------------------------------------------------- | ---------------------------------------------------------------------------------- 
setTextColor(int color)                                                | 设置轴标签的文字颜色.                                                                       
setTextSize(float size)                                                | 设置轴标签的文字大小(dp)                                                                    
setTypeface(Typeface tf)                                               | 设置轴标签的字体                                                                          
setGridColor(int color)                                                | 设置轴网格线的颜色                                                                         
setGridLineWidth(float width)                                          | 设置轴网格线的宽度                                                                         
setAxisLineColor(int color)                                            | 设置轴线的颜色                                                                           
setAxisLineWidth(float width)                                          | 设置轴线的宽度                                                                           
enableGridDashedLine(float lineLength, float spaceLength, float phase) | 使网格线以虚线模式绘制，例如”- - - - - -”。 “lineLength”控制线段的长度，“spaceLength”控制线间的空间，“phase”控制起点。</code></pre><hr>
<h3 id="4-4-格式化轴值"><a href="#4-4-格式化轴值" class="headerlink" title="4.4 格式化轴值"></a><a href></a>4.4 格式化轴值</h3><p> 对于格式化轴值，可以使用IAxisValueFormatter接口，你可以使用axis.setValueFormatter(IAxisValueFormatter formatter)方法将自定义格式设置到轴，具体请查阅<a href="https://github.com/PhilJay/MPAndroidChart/wiki/The-AxisValueFormatter-interface" target="_blank" rel="noopener">here</a></p>
<hr>
<h3 id="4-5-限制值"><a href="#4-5-限制值" class="headerlink" title="4.5 限制值"></a><a href></a>4.5 限制值</h3><p> 两个轴都支持所谓的LimitLine，允许提供特殊信息，如边界或约束。 添加到YAxis的LimitLines在水平方向绘制，并且在添加到XAxis时在垂直方向绘制。 下面介绍如何从轴中添加和删除LimitLines：</p>
<pre><code>方法                                           | 作用                                                                          
-------------------------------------------- | ---------------------------------------------------------------------------- 
addLimitLine(LimitLine l)                    | 给轴添加一条LimitLine                                                             
removeLimitLine(LimitLine l)                 | 移除轴上一条指定的LimitLine                                                          
                                             | 还有很多添加／移除的方法                                                                
setDrawLimitLinesBehindData(boolean enabled) | 允许控制LimitLines和实际数据之间的z顺序。 如果将此设置为true，则LimitLine将在实际数据之后绘制，否则在顶部。 默认值：false</code></pre><p>限制线（LimitLine类）（正如名称可能指示的），可以使用简单线条为用户提供附加信息。</p>
<p> 例如，你的图表可能会显示用户使用应用程序记录的各种血压测量结果。 为了通知用户超过140 mmHg的收缩压被认为是健康风险，您可以在140处添加LimitLine来提供该信息。</p>
<hr>
<h3 id="4-6-示例代码"><a href="#4-6-示例代码" class="headerlink" title="4.6 示例代码"></a><a href></a>4.6 示例代码</h3><figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">YAxis leftAxis = chart.getAxisLeft();</span><br><span class="line"></span><br><span class="line">LimitLine ll = new LimitLine(140f, &quot;Critical Blood Pressure&quot;);</span><br><span class="line">ll.setLineColor(Color.RED);</span><br><span class="line">ll.setLineWidth(4f);</span><br><span class="line">ll.setTextColor(Color.BLACK);</span><br><span class="line">ll.setTextSize(12f);</span><br><span class="line">// .. and more styling options</span><br><span class="line"></span><br><span class="line">leftAxis.addLimitLine(ll);</span><br></pre></td></tr></table></figure>


<hr>
<h2 id="5-X轴"><a href="#5-X轴" class="headerlink" title="5. X轴"></a><a href></a>5. X轴</h2><p> XAxis是<a href="https://github.com/PhilJay/MPAndroidChart/wiki/The-Axis" target="_blank" rel="noopener">AxisBase</a>的子类，它继承了许多样式和方法。<br> XAxis类（在2.0.0之前的版本中称为 XLabels），是与横轴有关的所有数据和信息容器。 每个Line-，Bar-，Scatter-，CandleStick-和RadarChart都有一个XAxis对象。<br> XAxis类允许特定的样式，包括以下组件（可以包括）以下组件/部件：</p>
<ul>
<li>所谓的“轴线”被直接绘制在标签附近并与标签平行 </li>
<li>“网格线”，各自源于垂直方向的轴标签  通过如下方式获取XAxis实例：</li>
</ul>
<figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">XAxis xAxis = chart.getXAxis();</span><br></pre></td></tr></table></figure>


<h3 id="5-1-自定义XAxis"><a href="#5-1-自定义XAxis" class="headerlink" title="5.1 自定义XAxis"></a><a href></a>5.1 自定义XAxis</h3><pre><code>方法                                 | 作用                                                              
---------------------------------- | ---------------------------------------------------------------- 
setLabelRotationAngle(float angle) | 设置绘制x轴标签的角度（以度为单位）                                              
setPosition(XAxisPosition pos)     | 设置XAxis位置。 在TOP，BOTTOM，BOTH_SIDED，TOP_INSIDE或BOTTOM_INSIDE之间进行选择</code></pre><hr>
<h3 id="5-2-示例代码"><a href="#5-2-示例代码" class="headerlink" title="5.2 示例代码"></a><a href></a>5.2 示例代码</h3><figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">XAxis xAxis = chart.getXAxis();</span><br><span class="line">xAxis.setPosition(XAxisPosition.BOTTOM);</span><br><span class="line">xAxis.setTextSize(10f);</span><br><span class="line">xAxis.setTextColor(Color.RED);</span><br><span class="line">xAxis.setDrawAxisLine(true);</span><br><span class="line">xAxis.setDrawGridLines(false);</span><br><span class="line">// set a custom value formatter</span><br><span class="line">xAxis.setValueFormatter(new MyCustomFormatter()); </span><br><span class="line">// and more...</span><br></pre></td></tr></table></figure>


<hr>
<h2 id="6-YAxis"><a href="#6-YAxis" class="headerlink" title="6. YAxis"></a><a href></a>6. YAxis</h2><p> YAxis是<a href="https://github.com/PhilJay/MPAndroidChart/wiki/The-Axis" target="_blank" rel="noopener">AxisBase</a>的子类。 这个wiki只描述了YAxis，而不是父类。</p>
<p> YAxis类（在2.0.0版本的中称为YLabels），是与垂直轴相关的所有数据和信息容器。 每个Line-，Bar-，Scatter或CandleStickChart都有一个左和右YAxis对象，分别负责左轴或右轴。 RadarChart只有一个YAxis。 默认情况下，图表的两个轴都被启用，并将被绘制。<br> 通过如下方式获取YAxis实例：</p>
<figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">YAxis leftAxis = chart.getAxisLeft();</span><br><span class="line">YAxis rightAxis = chart.getAxisRight();</span><br><span class="line"></span><br><span class="line">YAxis leftAxis = chart.getAxis(AxisDependency.LEFT);</span><br><span class="line"></span><br><span class="line">YAxis yAxis = radarChart.getYAxis(); // this method radarchart only</span><br></pre></td></tr></table></figure>

<p> 在运行时，使用public AxisDependency getAxisDependency（）来确定此轴表示的图表的边。</p>
<p> 所有会影响到轴数值范围的自定义设置都需要在设置图表数据之前完成。</p>
<h3 id="6-1-Axis-Dependency"><a href="#6-1-Axis-Dependency" class="headerlink" title="6.1 Axis Dependency"></a><a href></a>6.1 Axis Dependency</h3><p> 根据默认值，添加到图表的所有数据都会与图表的左侧YAxis对应。 如果没有进一步指定和启用，则右侧的YAxis被调整为与左轴相同的刻度。</p>
<p> 如果你的图表需要支持不同的轴刻度，则可以通过设置数据应该对应的轴来实现。 这可以通过更改DataSet对象的AxisDependency来实现：</p>
<figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">LineDataSet dataSet = ...; // get a dataset</span><br><span class="line">dataSet.setAxisDependency(AxisDependency.RIGHT);</span><br></pre></td></tr></table></figure>

<p> 设置此项将更改你的数据对应的轴。</p>
<hr>
<h3 id="6-2-零线"><a href="#6-2-零线" class="headerlink" title="6.2 零线"></a><a href></a>6.2 零线</h3><p> 除了沿YAxis上的每个值水平位置的网格线之外，还有一个所谓的零线，它在轴上的零（0）值处绘制，并且与网格线相似，但可以单独配置。</p>
<pre><code>方法                               | 作用         
-------------------------------- | ----------- 
setDrawZeroLine(boolean enabled) | 启用 / 禁用 零线。
setZeroLineWidth(float width)    | 设置零线的宽度。   
setZeroLineColor(int color)      | 设置零线的颜色    </code></pre><p>零线示例代码：</p>
<figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">// data has AxisDependency.LEFT</span><br><span class="line">YAxis left = mChart.getAxisLeft();</span><br><span class="line">left.setDrawLabels(false); // no axis labels</span><br><span class="line">left.setDrawAxisLine(false); // no axis line</span><br><span class="line">left.setDrawGridLines(false); // no grid lines</span><br><span class="line">left.setDrawZeroLine(true); // draw a zero line</span><br><span class="line">mChart.getAxisRight().setEnabled(false); // no right axis</span><br></pre></td></tr></table></figure>

<p> 上述代码结果如下所示。 不绘制轴值，不绘制网格线或轴线，只绘制零线。</p>
<p> <img src="https://camo.githubusercontent.com/bacba4521363fb067c5811ad5beb3370bf1a7504/68747470733a2f2f7261772e6769746875622e636f6d2f5068696c4a61792f4d5043686172742f6d61737465722f73637265656e73686f74732f7a65726f5f6c696e655f6578616d706c655f62617263686172742e706e67" alt="零线"></p>
<h3 id="6-3-更多示例代码"><a href="#6-3-更多示例代码" class="headerlink" title="6.3 更多示例代码"></a><a href></a>6.3 更多示例代码</h3><figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">YAxis yAxis = mChart.getAxisLeft();</span><br><span class="line">yAxis.setTypeface(...); // set a different font</span><br><span class="line">yAxis.setTextSize(12f); // set the text size</span><br><span class="line">yAxis.setAxisMinimum(0f); // start at zero</span><br><span class="line">yAxis.setAxisMaximum(100f); // the axis maximum is 100</span><br><span class="line">yAxis.setTextColor(Color.BLACK);</span><br><span class="line">yAxis.setValueFormatter(new MyValueFormatter());</span><br><span class="line">yAxis.setGranularity(1f); // interval 1</span><br><span class="line">yAxis.setLabelCount(6, true); // force 6 labels</span><br><span class="line">//... and more</span><br></pre></td></tr></table></figure>



        </div>
        
        
        
    </div>
</div>








    <div class="card">
    
    <div class="card-content article ">
        
        <div class="level article-meta is-size-7 is-uppercase is-mobile is-overflow-x-auto">
            <div class="level-left">
                <time class="level-item has-text-grey" datetime="2017-05-04T07:59:25.000Z">2017-05-04</time>
                
                <div class="level-item">
                <a class="has-link-grey -link" href="/categories/Android开源库/">Android开源库</a>
                </div>
                
                
                <span class="level-item has-text-grey">
                    
                    
                    6 分钟 读完 (大约 960 个字)
                </span>
                
                
            </div>
        </div>
        
        <h1 class="title is-size-3 is-size-4-mobile has-text-weight-normal">
            
                <a class="has-link-black-ter" href="/2017/05/04/《Android 开源库》 Matisse，来自知乎的PhotoPicker/">《Android 开源库》 Matisse，来自知乎的PhotoPicker</a>
            
        </h1>
        <div class="content">
            <h2 id="简介"><a href="#简介" class="headerlink" title="简介"></a>简介</h2><p> <a href="https://github.com/zhihu/Matisse" target="_blank" rel="noopener">Matisse</a>，是一款由知乎开源的媒体选择器。</p>
<ul>
<li>在Activity和Fragment中使用 </li>
<li>支持JPEG，PNG，GIF的图片选择和MPEG，MP4格式的视频选择。不能同时选择图片和视频 </li>
<li>两种主题可供选择，因为知乎也是两种主题 </li>
<li>图片Loader </li>
<li>自定义过滤条件  </li>
</ul>
<hr>
<h2 id="使用方法"><a href="#使用方法" class="headerlink" title="使用方法"></a>使用方法</h2><h3 id="Gradle"><a href="#Gradle" class="headerlink" title="Gradle"></a>Gradle</h3><figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">repositories &#123;</span><br><span class="line">    jcenter()</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">dependencies &#123;</span><br><span class="line">    compile &apos;com.zhihu.android:matisse:0.4.3&apos;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


<h3 id="ProGuard"><a href="#ProGuard" class="headerlink" title="ProGuard"></a>ProGuard</h3><p> 如果使用Glide作为图片加载开源库</p>
<figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">-keep public class * implements com.bumptech.glide.module.GlideModule</span><br><span class="line">-keep public enum com.bumptech.glide.load.resource.bitmap.ImageHeaderParser$** &#123;</span><br><span class="line">  **[] $VALUES;</span><br><span class="line">  public *;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"># for DexGuard only</span><br><span class="line">-keepresourcexmlelements manifest/application/meta-data@value=GlideModule</span><br></pre></td></tr></table></figure>

<p> 如果使用Picasso作为图片加载开源库</p>
<figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">-dontwarn com.squareup.okhttp.**</span><br></pre></td></tr></table></figure>


<h3 id="代码使用"><a href="#代码使用" class="headerlink" title="代码使用"></a>代码使用</h3><p> 知乎主题</p>
<figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">Matisse.from(MainActivity.this)</span><br><span class="line">        .choose(MimeType.ofAll())</span><br><span class="line">        .countable(true)</span><br><span class="line">        .maxSelectable(9)</span><br><span class="line">        .addFilter(new GifSizeFilter(320, 320, 5 * Filter.K * Filter.K))</span><br><span class="line">        .gridExpectedSize(</span><br><span class="line">                getResources().getDimensionPixelSize(R.dimen.grid_expected_size))</span><br><span class="line">        .restrictOrientation(ActivityInfo.SCREEN_ORIENTATION_PORTRAIT)</span><br><span class="line">        .thumbnailScale(0.85f)</span><br><span class="line">        .imageEngine(new GlideEngine())</span><br><span class="line">        .forResult(REQUEST_CODE_CHOOSE);</span><br></pre></td></tr></table></figure>

<p> Dracula主题</p>
<figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">Matisse.from(MainActivity.this)</span><br><span class="line">        .choose(MimeType.of(MimeType.JPEG, MimeType.PNG))</span><br><span class="line">        .theme(R.style.Matisse_Dracula)</span><br><span class="line">        .countable(false)</span><br><span class="line">        .maxSelectable(9)</span><br><span class="line">        .imageEngine(new PicassoEngine())</span><br><span class="line">        .forResult(REQUEST_CODE_CHOOSE);</span><br></pre></td></tr></table></figure>

<p> 结果处理</p>
<figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">List&lt;Uri&gt; mSelected;</span><br><span class="line"></span><br><span class="line">@Override</span><br><span class="line">protected void onActivityResult(int requestCode, int resultCode, Intent data) &#123;</span><br><span class="line">    super.onActivityResult(requestCode, resultCode, data);</span><br><span class="line">    if (requestCode == REQUEST_CODE_CHOOSE &amp;&amp; resultCode == RESULT_OK) &#123;</span><br><span class="line">        mSelected = Matisse.obtainResult(data);</span><br><span class="line">        Log.d(&quot;Matisse&quot;, &quot;mSelected: &quot; + mSelected);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p> 更多详细内容请查阅官方<a href="https://github.com/zhihu/Matisse/wiki" target="_blank" rel="noopener">Wiki</a>.</p>
<hr>
<h3 id="效果"><a href="#效果" class="headerlink" title="效果"></a>效果</h3><p> 图片来源<a href="https://github.com/zhihu/Matisse" target="_blank" rel="noopener">项目Github</a></p>
<pre><code>Zhihu Style | Dracula Style | Preview
----------- | ------------- | ------- 
            |               |        </code></pre><hr>
<h2 id="源码分析"><a href="#源码分析" class="headerlink" title="源码分析"></a>源码分析</h2><h3 id="代码结构"><a href="#代码结构" class="headerlink" title="代码结构"></a>代码结构</h3><p> <img src="https://img-blog.csdn.net/20170503165419314?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvcG9vcmtpY2s=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="这里写图片描述"></p>
<h3 id="类分析"><a href="#类分析" class="headerlink" title="类分析"></a>类分析</h3><pre><code>类名                     | 描述                                                                            
---------------------- | ------------------------------------------------------------------------------ 
ImageEngine            | 图片加载接口，方便后面根据Glide和Picasso分别实现                                                
GlideEngine            | Glide实现ImageEngine                                                            
PicassoEngine          | Picasso实现ImageEngine                                                          
Filter                 | 过滤条件抽象类，我们可以通过集成Filter实现对应的过滤条件来对图片进行筛选，可以添加多个Filter,具体参考官方Demo中的GifSizeFilter
Album                  | 相册Entity                                                                      
CaptureStrategy        | 拍照相关，媒体处理authority                                                            
IncapableCause         | 信息处理，toast和dialog                                                             
Item                   | 选择媒体界面的Item                                                                   
SelectionSpec          | 选择参数类                                                                         
AlbumLoader            | 相册CursorLoader                                                                
AlbumMediaLoader       | 图片和视频CursorLoader                                                             
AlbumCollection        | AlbumLoader回调                                                                 
AlbumMediaCollection   | AlbumMediaLoader回调                                                            
SelectedItemCollection | 被选中项集合                                                                        
internal/ui包           | 界面显示的Adapter,自定义视图，Fragment和Activity                                          
internal/utils包        | 工具类                                                                           
MatisseActivity        | 关键类，执行选择媒体操作的时候展示出来的Activity                                                  
Matisse                | 开源库的入口和出口，用来传递Activity和Fragment，创建SelectionSpecBuilder和返回结果                   
MimeType               | 媒体类型                                                                          
SelectionSpecBuilder   | Build构造类，用来传递参数                                                               </code></pre><h3 id="设计思路"><a href="#设计思路" class="headerlink" title="设计思路"></a>设计思路</h3><h4 id="与PhotoPicker比较"><a href="#与PhotoPicker比较" class="headerlink" title="与PhotoPicker比较"></a>与PhotoPicker比较</h4><ul>
<li>从MatisseActivity来看的话，大致的设计思路和PhotoPicker相似，都是以单独的Activity为载体，传递参数的方式和PhotoPicker不同，PhotoPicker使用的是bundle, 而Matisse使用的是SelectionSpec单例，启动应用之前，参数全部设置完毕，然后在MatisseActivity通过SelectionSpec.getInstance()拿到单例，获取参数。选择结果和PhotoPicke实现比较相似，都是通过Bundle保存结果通过setResult返回给调用的Activity或者Fragment.<br> SelectedPreviewActivity就是PhotoPicker中的预览Activity，只是没有通过SelectionSpecBuilder对外暴露，要使用的话，我们只能自己显式的调用。</li>
</ul>
<ul>
<li>与PhotoPicker一样，都是采用Android Loader机制作为数据加载的方式，大致原理清楚，自己在平时的开发中还没有用到过，找个机会尝试一下。</li>
</ul>
<ul>
<li>Build设计模式，链式代码编写方式。</li>
</ul>
<ul>
<li>PhotoPicker使用的是Glide作为图片加载框架，而Matisse支持Glide和Picasso，但是Picasso支持的功能Glide全都有，选择一个即可（Picasso不支持Gif）</li>
</ul>
<ul>
<li>Matisse，支持视频文件的选择，PhotoPicker从名字上看就不支持。</li>
</ul>
<ul>
<li>PhotoPicker支持自定义样式，主要是颜色；Matisse，支持两种主题模式，与知乎呼应。</li>
</ul>
<hr>

        </div>
        
        
        
    </div>
</div>








    <div class="card">
    
    <div class="card-content article ">
        
        <div class="level article-meta is-size-7 is-uppercase is-mobile is-overflow-x-auto">
            <div class="level-left">
                <time class="level-item has-text-grey" datetime="2017-04-27T14:20:42.000Z">2017-04-27</time>
                
                <div class="level-item">
                <a class="has-link-grey -link" href="/categories/Android开源库/">Android开源库</a>
                </div>
                
                
                <span class="level-item has-text-grey">
                    
                    
                    10 分钟 读完 (大约 1502 个字)
                </span>
                
                
            </div>
        </div>
        
        <h1 class="title is-size-3 is-size-4-mobile has-text-weight-normal">
            
                <a class="has-link-black-ter" href="/2017/04/27/《Android 开源库》PhotoPicker 从头到脚/">《Android 开源库》PhotoPicker 从头到脚</a>
            
        </h1>
        <div class="content">
            <h2 id="1-简介"><a href="#1-简介" class="headerlink" title="1. 简介"></a>1. 简介</h2><p> <a href="https://github.com/donglua/PhotoPicker" target="_blank" rel="noopener">PhotoPicker</a>, 是一款开源的图片选择器。效果上和微信相似。</p>
<h2 id="2-使用方法"><a href="#2-使用方法" class="headerlink" title="2. 使用方法"></a>2. 使用方法</h2><h3 id="2-1-添加依赖"><a href="#2-1-添加依赖" class="headerlink" title="2.1 添加依赖"></a>2.1 添加依赖</h3><figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">dependencies &#123;</span><br><span class="line">    compile &apos;me.iwf.photopicker:PhotoPicker:0.9.5@aar&apos;</span><br><span class="line"></span><br><span class="line">    compile &apos;com.android.support:appcompat-v7:23.4.0&apos;</span><br><span class="line">    compile &apos;com.android.support:recyclerview-v7:23.4.0&apos;</span><br><span class="line">    compile &apos;com.android.support:design:23.4.0&apos;</span><br><span class="line">    compile &apos;com.nineoldandroids:library:2.4.0&apos;</span><br><span class="line">    compile &apos;com.github.bumptech.glide:glide:3.7.0&apos;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


<ul>
<li>appcompat-v7version &gt;= 23.0.0   或者使用download源码，然后使用module依赖，我平时使用是这种方式。</li>
</ul>
<figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">dependencies &#123;</span><br><span class="line">    ...</span><br><span class="line">    compile project(&apos;:PhotoPicker&apos;)</span><br><span class="line">    ...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


<h3 id="2-2-代码集成"><a href="#2-2-代码集成" class="headerlink" title="2.2 代码集成"></a>2.2 代码集成</h3><p> 如下内容来自<a href="https://github.com/donglua/PhotoPicker" target="_blank" rel="noopener">Github介绍</a></p>
<ul>
<li>Pick Photo  <figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">PhotoPicker.builder()</span><br><span class="line">    .setPhotoCount(9)</span><br><span class="line">    .setShowCamera(true)</span><br><span class="line">    .setShowGif(true)</span><br><span class="line">    .setPreviewEnabled(false)</span><br><span class="line">    .start(this, PhotoPicker.REQUEST_CODE);</span><br></pre></td></tr></table></figure>


</li>
</ul>
<ul>
<li>Preview Photo  <figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">ArrayList&lt;String&gt; photoPaths = ...;</span><br><span class="line"></span><br><span class="line">PhotoPreview.builder()</span><br><span class="line">    .setPhotos(selectedPhotos)</span><br><span class="line">    .setCurrentItem(position)</span><br><span class="line">    .setShowDeleteButton(false)</span><br><span class="line">    .start(MainActivity.this);</span><br></pre></td></tr></table></figure>


</li>
</ul>
<ul>
<li>onActivityResult  <figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">@Override protected void onActivityResult(int requestCode, int resultCode, Intent data) &#123;</span><br><span class="line">  super.onActivityResult(requestCode, resultCode, data);</span><br><span class="line"></span><br><span class="line">  if (resultCode == RESULT_OK &amp;&amp; requestCode == PhotoPicker.REQUEST_CODE) &#123;</span><br><span class="line">    if (data != null) &#123;</span><br><span class="line">      ArrayList&lt;String&gt; photos = </span><br><span class="line">          data.getStringArrayListExtra(PhotoPicker.KEY_SELECTED_PHOTOS);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


</li>
</ul>
<ul>
<li>AndroidManifest.xml  <figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">&lt;manifest xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;</span><br><span class="line">    &gt;</span><br><span class="line">    &lt;uses-permission android:name=&quot;android.permission.READ_EXTERNAL_STORAGE&quot;/&gt;</span><br><span class="line">    &lt;uses-permission android:name=&quot;android.permission.WRITE_EXTERNAL_STORAGE&quot;/&gt;</span><br><span class="line">    &lt;uses-permission android:name=&quot;android.permission.CAMERA&quot; /&gt;</span><br><span class="line">  &lt;application</span><br><span class="line">    ...</span><br><span class="line">    &gt;</span><br><span class="line">    ...</span><br><span class="line"></span><br><span class="line">    &lt;activity android:name=&quot;me.iwf.photopicker.PhotoPickerActivity&quot;</span><br><span class="line">      android:theme=&quot;@style/Theme.AppCompat.NoActionBar&quot; </span><br><span class="line">       /&gt;</span><br><span class="line"></span><br><span class="line">    &lt;activity android:name=&quot;me.iwf.photopicker.PhotoPagerActivity&quot;</span><br><span class="line">      android:theme=&quot;@style/Theme.AppCompat.NoActionBar&quot;/&gt;</span><br><span class="line"></span><br><span class="line">  &lt;/application&gt;</span><br><span class="line">&lt;/manifest&gt;</span><br></pre></td></tr></table></figure>


</li>
</ul>
<ul>
<li>Custom Style  <figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">&lt;style name=&quot;actionBarTheme&quot; parent=&quot;ThemeOverlay.AppCompat.Dark.ActionBar&quot;&gt;</span><br><span class="line">  &lt;item name=&quot;android:textColorPrimary&quot;&gt;@android:color/primary_text_light&lt;/item&gt;</span><br><span class="line">  &lt;item name=&quot;actionBarSize&quot;&gt;@dimen/actionBarSize&lt;/item&gt;</span><br><span class="line">&lt;/style&gt;</span><br><span class="line"></span><br><span class="line">&lt;style name=&quot;customTheme&quot; parent=&quot;Theme.AppCompat.Light.NoActionBar&quot;&gt;</span><br><span class="line">  &lt;item name=&quot;actionBarTheme&quot;&gt;@style/actionBarTheme&lt;/item&gt;</span><br><span class="line">  &lt;item name=&quot;colorPrimary&quot;&gt;#FFA500&lt;/item&gt;</span><br><span class="line">  &lt;item name=&quot;actionBarSize&quot;&gt;@dimen/actionBarSize&lt;/item&gt;</span><br><span class="line">  &lt;item name=&quot;colorPrimaryDark&quot;&gt;#CCa500&lt;/item&gt;</span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure>


</li>
</ul>
<ul>
<li>ProGuard  <figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"># Glide</span><br><span class="line">-keep public class * implements com.bumptech.glide.module.GlideModule</span><br><span class="line">-keep public enum com.bumptech.glide.load.resource.bitmap.ImageHeaderParser$** &#123;</span><br><span class="line">    **[] $VALUES;</span><br><span class="line">    public *;</span><br><span class="line">&#125;</span><br><span class="line"># nineoldandroids</span><br><span class="line">-keep interface com.nineoldandroids.view.** &#123; *; &#125;</span><br><span class="line">-dontwarn com.nineoldandroids.**</span><br><span class="line">-keep class com.nineoldandroids.** &#123; *; &#125;</span><br><span class="line"># support-v7-appcompat</span><br><span class="line">-keep public class android.support.v7.widget.** &#123; *; &#125;</span><br><span class="line">-keep public class android.support.v7.internal.widget.** &#123; *; &#125;</span><br><span class="line">-keep public class android.support.v7.internal.view.menu.** &#123; *; &#125;</span><br><span class="line">-keep public class * extends android.support.v4.view.ActionProvider &#123;</span><br><span class="line">    public &lt;init&gt;(android.content.Context);</span><br><span class="line">&#125;</span><br><span class="line"># support-design</span><br><span class="line">-dontwarn android.support.design.**</span><br><span class="line">-keep class android.support.design.** &#123; *; &#125;</span><br><span class="line">-keep interface android.support.design.** &#123; *; &#125;</span><br><span class="line">-keep public class android.support.design.R$* &#123; *; &#125;</span><br></pre></td></tr></table></figure>


</li>
</ul>
<hr>
<h2 id="3-源码分析"><a href="#3-源码分析" class="headerlink" title="3. 源码分析"></a>3. 源码分析</h2><h3 id="3-1-代码结构"><a href="#3-1-代码结构" class="headerlink" title="3.1 代码结构"></a>3.1 代码结构</h3><p> <img src="https://img-blog.csdn.net/20170427134119636?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvcG9vcmtpY2s=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="这里写图片描述"></p>
<ul>
<li>类说明(按照功能)  <table>
<thead>
<tr>
<th>类名</th>
<th>描述</th>
</tr>
</thead>
<tbody><tr>
<td>PhotoPicker</td>
<td>内部类PhotoPickerBuilder是关键，设置图片选择参数，启动PhotoPickerActivity均在此</td>
</tr>
<tr>
<td>PhotoPickerActivity</td>
<td>图片选择界面，两个Fragment:PhotoPickerFragment，ImagePagerFragment，一个用来图片选择，一个用来预览图片</td>
</tr>
<tr>
<td>PhotoPagerActivity</td>
<td>图片预览界面，和PhotoPickerActivity使用同样的布局文件，但是只有一个Fragment,ImagePagerFragment</td>
</tr>
<tr>
<td>PhotoPreview</td>
<td>内部类PhotoPreviewBuilder是关键，设置预览参数，启动PhotoPagerActivity均在此</td>
</tr>
<tr>
<td>PhotoPickerFragment</td>
<td>图片选择Fragment,在PhotoPickerActivity中使用到,Toolbar + RecyclerView + ListPopupWindow</td>
</tr>
<tr>
<td>ImagePagerFragment</td>
<td>图片预览Framgment,在PhotoPickerActivity中如果支持预览，点击图片后就会切换到此Fragment,单独使用PhotoPreview自然也是用的ImagePagerFragment</td>
</tr>
<tr>
<td>ImageCaptureManager</td>
<td>拍照管理类，当PhotoPicker中setShowCamera设为true后，点击拍照项，会调用系统相机拍照，相关方法实现均在ImageCaptureManager</td>
</tr>
<tr>
<td>PhotoGridAdapter</td>
<td>图片选择界面RecyclerView的 Adapter,瀑布流，主要因为它继承SelectableAdapter，平时开发有相同需求可以借鉴一些这个实现</td>
</tr>
<tr>
<td>PopupDirectoryListAdapter</td>
<td>底部图片分类文件夹ListPopupWindow的Adapter</td>
</tr>
<tr>
<td>MediaStoreHelper</td>
<td>图片数据查找Helper类，单独拿出来看，Loader的使用</td>
</tr>
<tr>
<td>SelectableAdapter</td>
<td>自定义用于选择的RecyclerView.Adapter,支持toggleSelection</td>
</tr>
<tr>
<td>Selectable</td>
<td>Selectable接口，支持toggleSelection</td>
</tr>
<tr>
<td>PhotoPagerAdapter</td>
<td>ImagePagerFragment中用于预览的ViewPager的Adapter</td>
</tr>
<tr>
<td>PhotoDirectory</td>
<td>图片目录对象，在PopupDirectoryListAdapter中使用到</td>
</tr>
<tr>
<td>Photo</td>
<td>图片对象，存放id和Path，分别对应数据库中图片_ID字段和DATA字段</td>
</tr>
<tr>
<td>OnItemCheckListener</td>
<td>图片选择框的点击事件接口</td>
</tr>
<tr>
<td>OnPhotoClickListener</td>
<td>图片点击事件接口，应该只有在图片选择器支持预览的情况下使用</td>
</tr>
<tr>
<td>AndroidLifecycleUtils</td>
<td>判断是否可以加载图片</td>
</tr>
<tr>
<td>FileUtils</td>
<td>文件处理工具类，只有一个判断文件是否存在的方法</td>
</tr>
<tr>
<td>PermissionsConstant</td>
<td>关于权限请求的部分常量</td>
</tr>
<tr>
<td>PermissionsUtils</td>
<td>权限请求工具类</td>
</tr>
<tr>
<td>PhotoDirectoryLoader</td>
<td>继承CursorLoader，从数据库中读取数据</td>
</tr>
<tr>
<td>SquareItemLayout</td>
<td>图片选择器Item布局</td>
</tr>
<tr>
<td>TouchImageView</td>
<td>预览图片自定义元件</td>
</tr>
</tbody></table>
</li>
</ul>
<h3 id="3-2-源码设计思路"><a href="#3-2-源码设计思路" class="headerlink" title="3.2 源码设计思路"></a>3.2 源码设计思路</h3><p> 从代码结构和使用方法上来看，PhotoPicker是将图片选择作为一个单独的功能模块解耦出来，以Activity的形式进行PhotoPicker或者是PhotoPreview，在合适的位置创建Intent显示启动PhotoPagerAcitivty(预览)或者是PhotoPickerActivity(选择图片)。针对图片选择的场景，通过onActivityResult得到所选图片的Path。</p>
<p> <img src="https://img-blog.csdn.net/20170427205359857?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvcG9vcmtpY2s=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="这里写图片描述"></p>
<hr>
<ul>
<li>PhotoPicker  <table>
<thead>
<tr>
<th>方法</th>
<th>参数</th>
<th>描述</th>
</tr>
</thead>
<tbody><tr>
<td>setPhotoCount(int photoCount)</td>
<td>EXTRA_MAX_COUNT(“MAX_COUNT”)</td>
<td>设置可选的最大图片数量</td>
</tr>
<tr>
<td>setShowCamera(boolean showCamera)</td>
<td>EXTRA_SHOW_CAMERA(“SHOW_CAMERA”)</td>
<td>是否显示拍照</td>
</tr>
<tr>
<td>setShowGif(boolean showGif)</td>
<td>EXTRA_SHOW_GIF(“SHOW_GIF”)</td>
<td>是否显示gif图</td>
</tr>
<tr>
<td>setGridColumnCount(int columnCount)</td>
<td>EXTRA_GRID_COLUMN(“column”)</td>
<td>设置图片选择网格的列数</td>
</tr>
<tr>
<td>setSelected(ArrayList&lt; String&gt; imagesUri)</td>
<td>EXTRA_ORIGINAL_PHOTOS(“ORIGINAL_PHOTOS”)</td>
<td>已选照片</td>
</tr>
<tr>
<td>setPreviewEnabled(boolean previewEnabled)</td>
<td>EXTRA_PREVIEW_ENABLED(“PREVIEW_ENABLED”)</td>
<td>图片网格视图中是否支持预览</td>
</tr>
</tbody></table>
</li>
</ul>
<pre><code>参数                                     | 描述         
-------------------------------------- | ----------- 
KEY_SELECTED_PHOTOS(“SELECTED_PHOTOS”) | 所选图片Path 列表</code></pre><hr>
<ul>
<li>PhotoPreview  <table>
<thead>
<tr>
<th>方法</th>
<th>参数</th>
<th>描述</th>
</tr>
</thead>
<tbody><tr>
<td>setCurrentItem(int currentItem)</td>
<td>EXTRA_CURRENT_ITEM(“current_item”)</td>
<td>设置预览界面当前显示图片序号</td>
</tr>
<tr>
<td>setPhotos(ArrayList&lt; String&gt; photoPaths)</td>
<td>EXTRA_PHOTOS(“photos”)</td>
<td>设置预览图片列表，图片Path的ArrayList</td>
</tr>
<tr>
<td>setShowDeleteButton(boolean showDeleteButton)</td>
<td>EXTRA_SHOW_DELETE(“show_delete”)</td>
<td>是否显示删除按钮</td>
</tr>
</tbody></table>
</li>
</ul>
<hr>
<ul>
<li>Build设计模式<br> PhotoPicker和PhotoPreview都是采用的Build设计模式。利用构建者模式，可以清晰的管理参数，层次清晰，增加代码的可读性，Android源码系统中也有此模式的大量使用，如AlertDialog.Builder等等。<br> PhotoPickerBuilder和PhotoPreviewBuilder正式采用的这种设计模式。  </li>
</ul>
<hr>
<ul>
<li>Loader机制<br> loader机制，包括LoaderManager，Loader，LoaderCallbacks三部分，<br> LoaderManager 来管理我们的laoder实例，获取来初始化，重启一个loader,<br> Loader 来执行我们的异步操作，有开始，完成，后台等接口实现<br> LoaderCallbacks 来执行我们的loader回调，主要是绑定分发Loader，完成加载，重置数据等<br> MediaStoreHelper中只有一个方法getPhotoDirs，方法中使用<br> activity.getSupportLoaderManager()<br> .initLoader(0, args,<br> new PhotoDirLoaderCallbacks(activity, resultCallback));<br> 的方式初始化Loader,然后在<br> PhotoDirLoaderCallbacks实现<br> LoaderManager.LoaderCallbacks&lt; Cursor&gt;接口。onCreateLoader方法中创建PhotoDirectoryLoader并传入参数，onLoadFinished返回后台数据库查询结果。  </li>
</ul>
<hr>
<h2 id="4-备注"><a href="#4-备注" class="headerlink" title="4. 备注"></a>4. 备注</h2><p> PhotoPicker，可以满足日常开发需求，代码结构非常清晰，可以直接根据自己的需求在源码上进行定制修改。感谢大神的开源精神。</p>

        </div>
        
        
        
    </div>
</div>








    <div class="card">
    
    <div class="card-content article ">
        
        <div class="level article-meta is-size-7 is-uppercase is-mobile is-overflow-x-auto">
            <div class="level-left">
                <time class="level-item has-text-grey" datetime="2017-04-19T05:40:47.000Z">2017-04-19</time>
                
                <div class="level-item">
                <a class="has-link-grey -link" href="/categories/Android开源库/">Android开源库</a>
                </div>
                
                
                <span class="level-item has-text-grey">
                    
                    
                    28 分钟 读完 (大约 4179 个字)
                </span>
                
                
            </div>
        </div>
        
        <h1 class="title is-size-3 is-size-4-mobile has-text-weight-normal">
            
                <a class="has-link-black-ter" href="/2017/04/19/《Android 开源库》 FlycoTabLayout 从头到脚/">《Android 开源库》 FlycoTabLayout 从头到脚</a>
            
        </h1>
        <div class="content">
            <h2 id="简介"><a href="#简介" class="headerlink" title="简介"></a><a href></a>简介</h2><p> <a href="https://github.com/H07000223/FlycoTabLayout" target="_blank" rel="noopener">FlycoTabLayout</a>，是一个比Google原生TabLayout 功能更强大的TabLayout库。目前有3种TabLayout：</p>
<ul>
<li><p>SlidingTabLayout </p>
</li>
<li><p>CommonTabLayout </p>
</li>
<li><p>SegmentTabLayout  具体介绍和使用方法参考开源库的<a href="https://github.com/H07000223/FlycoTabLayout/blob/master/README_CN.md" target="_blank" rel="noopener">Wiki</a></p>
<p>官方示例：<br><img src="https://img-blog.csdn.net/20170417203132272" alt="这里写图片描述"></p>
</li>
</ul>
<hr>
<h2 id="源码分析"><a href="#源码分析" class="headerlink" title="源码分析"></a><a href></a>源码分析</h2><pre><code>共有属性名称                     | 格式        | 描述                                
-------------------------- | --------- | ---------------------------------- 
tl_indicator_color         | color     | 设置显示器颜色                           
tl_indicator_height        | dimension | 设置显示器高度                           
tl_indicator_margin_left   | dimension | 设置显示器margin,当indicator_width大于0,无效
tl_indicator_margin_top    | dimension | 设置显示器margin,当indicator_width大于0,无效
tl_indicator_margin_right  | dimension | 设置显示器margin,当indicator_width大于0,无效
tl_indicator_margin_bottom | dimension | 设置显示器margin,当indicator_width大于0,无效
tl_indicator_corner_radius | dimension | 设置显示器圆角弧度                         
tl_divider_color           | color     | 设置分割线颜色                           
tl_divider_width           | dimension | 设置分割线宽度                           
tl_divider_padding         | dimension | 设置分割线的paddingTop和paddingBottom    
tl_tab_padding             | dimension | 设置tab的paddingLeft和paddingRight    
tl_tab_space_equal         | boolean   | 设置tab大小等分                         
tl_tab_width               | dimension | 设置tab固定大小                         
tl_textsize                | dimension | 设置字体大小                            
tl_textSelectColor         | color     | 设置字体选中颜色                          
tl_textUnselectColor       | color     | 设置字体未选中颜色                         
tl_textBold                | boolean   | 设置字体加粗                            
tl_textAllCaps             | boolean   | 设置字体全大写                           </code></pre><h3 id="1-SlidingTabLayout"><a href="#1-SlidingTabLayout" class="headerlink" title="1. SlidingTabLayout"></a><a href></a>1. SlidingTabLayout</h3><h4 id="1-1-特有属性"><a href="#1-1-特有属性" class="headerlink" title="1.1 特有属性"></a><a href></a>1.1 特有属性</h4><pre><code>特有属性                           | 格式        | 描述                                        
------------------------------ | --------- | ------------------------------------------ 
tl_indicator_width             | dimension | 设置显示器固定宽度                                 
tl_indicator_gravity           | enum      | 设置显示器上方(TOP)还是下方(BOTTOM),只对常规显示器有用        
tl_indicator_style             | enum      | 设置显示器为常规(NORMAL)或三角形(TRIANGLE)或背景色块(BLOCK)
tl_indicator_width_equal_title | boolean   | 设置显示器与标题一样长(only for SlidingTabLayout)    
tl_underline_color             | color     | 设置下划线颜色                                   
tl_underline_height            | dimension | 设置下划线高度                                   
tl_underline_gravity           | enum      | 设置下划线上方(TOP)还是下方(BOTTOM)                  </code></pre><h4 id="1-2-类结构"><a href="#1-2-类结构" class="headerlink" title="1.2 类结构"></a><a href></a>1.2 类结构</h4><h5 id="1-2-1-构造方法"><a href="#1-2-1-构造方法" class="headerlink" title="1.2.1 构造方法"></a><a href></a>1.2.1 构造方法</h5><p> <img src="https://img-blog.csdn.net/20170418144706207" alt="这里写图片描述"><br> 第一个调用第二个，第二个调用第三个，第三个获取自定义属性值。</p>
<figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">public SlidingTabLayout(Context context, AttributeSet attrs, int defStyleAttr) &#123;</span><br><span class="line">    super(context, attrs, defStyleAttr);</span><br><span class="line">    setFillViewport(true);//设置滚动视图是否可以伸缩其内容以填充视口</span><br><span class="line">    setWillNotDraw(false);//重写onDraw方法,需要调用这个方法来清除flag</span><br><span class="line">    setClipChildren(false);//不限制child在其范围内绘制</span><br><span class="line">    setClipToPadding(false);//滚动时child可以绘制到padding区域</span><br><span class="line"></span><br><span class="line">    this.mContext = context;</span><br><span class="line">    mTabsContainer = new LinearLayout(context);//tab容器</span><br><span class="line">    addView(mTabsContainer);//添加到HorizontalScrollView中</span><br><span class="line"></span><br><span class="line">    obtainAttributes(context, attrs);//获取自定义属性，常用的方法，TypedArray记得回收</span><br><span class="line"></span><br><span class="line">    //获取layout_height属性的值，这个方法比较溜，之前没见过</span><br><span class="line">    String height = attrs.getAttributeValue(&quot;http://schemas.android.com/apk/res/android&quot;, &quot;layout_height&quot;);</span><br><span class="line"></span><br><span class="line">   //针对height做处理</span><br><span class="line">   if (height.equals(ViewGroup.LayoutParams.MATCH_PARENT + &quot;&quot;)) &#123;</span><br><span class="line">    &#125; else if (height.equals(ViewGroup.LayoutParams.WRAP_CONTENT + &quot;&quot;)) &#123;</span><br><span class="line">    &#125; else &#123;</span><br><span class="line">        int[] systemAttrs = &#123;android.R.attr.layout_height&#125;;</span><br><span class="line">        TypedArray a = context.obtainStyledAttributes(attrs, systemAttrs);</span><br><span class="line">        //获取高度</span><br><span class="line">        mHeight = a.getDimensionPixelSize(0, ViewGroup.LayoutParams.WRAP_CONTENT);</span><br><span class="line">        a.recycle();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


<h5 id="1-2-2-ViewPager"><a href="#1-2-2-ViewPager" class="headerlink" title="1.2.2 ViewPager"></a><a href></a>1.2.2 ViewPager</h5><p> <img src="https://img-blog.csdn.net/20170418151748031" alt="这里写图片描述"><br> <img src="https://img-blog.csdn.net/20170418151831172" alt="这里写图片描述"></p>
<pre><code>方法                                                      | 描述                  
------------------------------------------------------- | -------------------- 
setViewPager(ViewPager vp)                              | 设置ViewPager内容       
public void setViewPager(ViewPager vp, String[] titles) | 设置ViewPager内容和标签页的标题</code></pre><figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">/** 关联ViewPager */</span><br><span class="line">public void setViewPager(ViewPager vp) &#123;</span><br><span class="line">    if (vp == null || vp.getAdapter() == null) &#123;</span><br><span class="line">        throw new IllegalStateException(&quot;ViewPager or ViewPager adapter can not be NULL !&quot;);</span><br><span class="line">    &#125;</span><br><span class="line">    /*本地赋值*/</span><br><span class="line">    this.mViewPager = vp;</span><br><span class="line">    /*重新绑定OnPageChangeListener*/</span><br><span class="line">    this.mViewPager.removeOnPageChangeListener(this);</span><br><span class="line">    this.mViewPager.addOnPageChangeListener(this);</span><br><span class="line">    /*viewpager变化，tab页响应处理处理*/</span><br><span class="line">    notifyDataSetChanged();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


<figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">/** 更新数据 */</span><br><span class="line">public void notifyDataSetChanged() &#123;</span><br><span class="line">    mTabsContainer.removeAllViews();//清空tab</span><br><span class="line">    this.mTabCount = mTitles == null ? mViewPager.getAdapter().getCount() : mTitles.size();//获取tab数量，优先级mTitles &gt; ViewPager的默认标题</span><br><span class="line"></span><br><span class="line">    /*添加tab*/</span><br><span class="line">    View tabView;</span><br><span class="line">    for (int i = 0; i &lt; mTabCount; i++) &#123;</span><br><span class="line">        tabView = View.inflate(mContext, R.layout.layout_tab, null);</span><br><span class="line">        CharSequence pageTitle = mTitles == null ? mViewPager.getAdapter().getPageTitle(i) : mTitles.get(i);</span><br><span class="line">        addTab(i, pageTitle.toString(), tabView);</span><br><span class="line">    &#125;</span><br><span class="line">    //更新选中未选中状态更新tab</span><br><span class="line">    updateTabStyles();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


<figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line">/** 创建并添加tab */</span><br><span class="line">  private void addTab(final int position, String title, View tabView) &#123;</span><br><span class="line">      //设置标题</span><br><span class="line">      TextView tv_tab_title = (TextView) tabView.findViewById(R.id.tv_tab_title);</span><br><span class="line">      if (tv_tab_title != null) &#123;</span><br><span class="line">          if (title != null) tv_tab_title.setText(title);</span><br><span class="line">      &#125;</span><br><span class="line">      //绑定点击事件，与ViewPager联动</span><br><span class="line">      tabView.setOnClickListener(new OnClickListener() &#123;</span><br><span class="line">          @Override</span><br><span class="line">          public void onClick(View v) &#123;</span><br><span class="line">              int position = mTabsContainer.indexOfChild(v);</span><br><span class="line">              if (position != -1) &#123;</span><br><span class="line">                  if (mViewPager.getCurrentItem() != position) &#123;</span><br><span class="line">                      if (mSnapOnTabClick) &#123;</span><br><span class="line">                         // transition immediately</span><br><span class="line">                         mViewPager.setCurrentItem(position, false);</span><br><span class="line">                      &#125; else &#123;</span><br><span class="line">                          //smoothly scroll to</span><br><span class="line">                          mViewPager.setCurrentItem(position);</span><br><span class="line">                      &#125;</span><br><span class="line"></span><br><span class="line">                      if (mListener != null) &#123;</span><br><span class="line">                          //自定义tab点击事件处理</span><br><span class="line">                          mListener.onTabSelect(position);</span><br><span class="line">                      &#125;</span><br><span class="line">                  &#125; else &#123;</span><br><span class="line">                      if (mListener != null) &#123;</span><br><span class="line">                          //自定义Reselect事件处理</span><br><span class="line">                          mListener.onTabReselect(position);</span><br><span class="line">                      &#125;</span><br><span class="line">                  &#125;</span><br><span class="line">              &#125;</span><br><span class="line">          &#125;</span><br><span class="line">      &#125;);</span><br><span class="line"></span><br><span class="line">      /** 每一个Tab的布局参数，mTabSpaceEqual 属性控制是否均分 */</span><br><span class="line">      LinearLayout.LayoutParams lp_tab = mTabSpaceEqual ?</span><br><span class="line">              new LinearLayout.LayoutParams(0,  </span><br><span class="line">              LayoutParams.MATCH_PARENT, 1.0f) :</span><br><span class="line">              new </span><br><span class="line">              LinearLayout.LayoutParams(</span><br><span class="line">              LayoutParams.WRAP_CONTENT,    </span><br><span class="line">              LayoutParams.MATCH_PARENT);</span><br><span class="line">      if (mTabWidth &gt; 0) &#123;</span><br><span class="line">          lp_tab = new LinearLayout.LayoutParams((int) mTabWidth, LayoutParams.MATCH_PARENT);</span><br><span class="line">      &#125;</span><br><span class="line">      //添加到Tab容器</span><br><span class="line">      mTabsContainer.addView(tabView, position, lp_tab);</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure>


<figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">private void updateTabStyles() &#123;</span><br><span class="line">    //遍历设置标题选中颜色，未选中颜色，字体大小，大小写，粗体字</span><br><span class="line">    for (int i = 0; i &lt; mTabCount; i++) &#123;</span><br><span class="line">        View v = mTabsContainer.getChildAt(i);</span><br><span class="line">        TextView tv_tab_title = (TextView) v.findViewById(R.id.tv_tab_title);</span><br><span class="line">        if (tv_tab_title != null) &#123;</span><br><span class="line">            tv_tab_title.setTextColor(i == mCurrentTab ? mTextSelectColor : mTextUnselectColor);</span><br><span class="line">            tv_tab_title.setTextSize(TypedValue.COMPLEX_UNIT_PX, mTextsize);</span><br><span class="line">            tv_tab_title.setPadding((int) mTabPadding, 0, (int) mTabPadding, 0);</span><br><span class="line">            if (mTextAllCaps) &#123;</span><br><span class="line">                tv_tab_title.setText(tv_tab_title.getText().toString().toUpperCase());</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            if (mTextBold == TEXT_BOLD_BOTH) &#123;</span><br><span class="line">                tv_tab_title.getPaint().setFakeBoldText(true);</span><br><span class="line">            &#125; else if (mTextBold == TEXT_BOLD_NONE) &#123;</span><br><span class="line">                tv_tab_title.getPaint().setFakeBoldText(false);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


<pre><code>方法                                                                                                      | 描述                                                                   
------------------------------------------------------------------------------------------------------- | --------------------------------------------------------------------- 
setViewPager(ViewPager vp, String[] titles, FragmentActivity fa, ArrayList&amp;lt; Fragment &amp;gt; fragments) | 设置ViewPager，标题内容，FragmentActivity和用于显示的Fragment,用来设置ViewPager的Adapter</code></pre><figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">/** 关联ViewPager,用于连适配器都不想自己实例化的情况 */</span><br><span class="line">public void setViewPager(ViewPager vp, String[] titles, FragmentActivity fa, ArrayList&lt;Fragment&gt; fragments) &#123;</span><br><span class="line">    if (vp == null) &#123;</span><br><span class="line">        throw new IllegalStateException(&quot;ViewPager can not be NULL !&quot;);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    if (titles == null || titles.length == 0) &#123;</span><br><span class="line">        throw new IllegalStateException(&quot;Titles can not be EMPTY !&quot;);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    this.mViewPager = vp;</span><br><span class="line">    /*通过传入的参数构建FragmentPagerAdapter，设置到ViewPager*/</span><br><span class="line">    this.mViewPager.setAdapter(new InnerPagerAdapter(fa.getSupportFragmentManager(), fragments, titles));</span><br><span class="line"></span><br><span class="line">    this.mViewPager.removeOnPageChangeListener(this);</span><br><span class="line">    this.mViewPager.addOnPageChangeListener(this);</span><br><span class="line">    notifyDataSetChanged();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p> 看下这个内部的InnerPagerAdapter,静态Fragment,不销毁重建，只更新数据内容。</p>
<figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line">class InnerPagerAdapter extends FragmentPagerAdapter &#123;</span><br><span class="line">    private ArrayList&lt;Fragment&gt; fragments = new ArrayList&lt;&gt;();</span><br><span class="line">    private String[] titles;</span><br><span class="line"></span><br><span class="line">    public InnerPagerAdapter(FragmentManager fm, ArrayList&lt;Fragment&gt; fragments, String[] titles) &#123;</span><br><span class="line">        super(fm);</span><br><span class="line">        this.fragments = fragments;</span><br><span class="line">        this.titles = titles;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    @Override</span><br><span class="line">    public int getCount() &#123;</span><br><span class="line">        return fragments.size();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    @Override</span><br><span class="line">    public CharSequence getPageTitle(int position) &#123;</span><br><span class="line">        return titles[position];</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    @Override</span><br><span class="line">    public Fragment getItem(int position) &#123;</span><br><span class="line">        return fragments.get(position);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    @Override</span><br><span class="line">    public void destroyItem(ViewGroup container, int position, Object object) &#123;</span><br><span class="line">        // 覆写destroyItem并且空实现,这样每个Fragment中的视图就不会被销毁</span><br><span class="line">        // super.destroyItem(container, position, object);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    @Override</span><br><span class="line">    public int getItemPosition(Object object) &#123;</span><br><span class="line">        return PagerAdapter.POSITION_NONE;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


<pre><code>方法                                                                           | 描述                                                                                      
---------------------------------------------------------------------------- | ---------------------------------------------------------------------------------------- 
onPageScrolled(int position, float positionOffset, int positionOffsetPixels) | 页面滚动，position为当前位置，positionOffset范围[0,1),从当前到下一页，positionOffsetPixels从当前位置滚动的offset,单位px
onPageSelected(int position)                                                 | 选中位置                                                                                    
onPageScrollStateChanged(int state)                                          | 滚动状态改变                                                                                  </code></pre><blockquote>
<p>SCROLL_STATE_IDLE(pager处于空闲状态)<br> SCROLL_STATE_DRAGGING( pager处于正在拖拽中)<br> SCROLL_STATE_SETTLING(pager正在自动沉降，相当于松手后，pager恢复到一个完整pager的过程)</p>
</blockquote>
<figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">@Override</span><br><span class="line">public void onPageScrolled(int position, float positionOffset, int positionOffsetPixels) &#123;</span><br><span class="line">    /**</span><br><span class="line">     * position:当前View的位置</span><br><span class="line">     * mCurrentPositionOffset:当前View的偏移量比例.[0,1)</span><br><span class="line">     */</span><br><span class="line">    this.mCurrentTab = position;</span><br><span class="line">    this.mCurrentPositionOffset = positionOffset;</span><br><span class="line">    /*标签栏根据ViewPager的滚动状态联动，滚动到对应位置*/</span><br><span class="line">    scrollToCurrentTab();</span><br><span class="line">    /*触发重绘*/</span><br><span class="line">    invalidate();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">@Override</span><br><span class="line">public void onPageSelected(int position) &#123;</span><br><span class="line">    /*根据ViewPager选中状态调整标签页的选中状态*/</span><br><span class="line">    updateTabSelection(position);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">@Override</span><br><span class="line">public void onPageScrollStateChanged(int state) &#123;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


<figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">/** HorizontalScrollView滚到当前tab,并且居中显示 */</span><br><span class="line">  private void scrollToCurrentTab() &#123;</span><br><span class="line">      if (mTabCount &lt;= 0) &#123;</span><br><span class="line">          return;</span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line">      int offset = (int) (mCurrentPositionOffset * mTabsContainer.getChildAt(mCurrentTab).getWidth());</span><br><span class="line">      /**当前Tab的left+当前Tab的Width乘以positionOffset*/</span><br><span class="line">      int newScrollX = mTabsContainer.getChildAt(mCurrentTab).getLeft() + offset;</span><br><span class="line"></span><br><span class="line">      if (mCurrentTab &gt; 0 || offset &gt; 0) &#123;</span><br><span class="line">          /**HorizontalScrollView移动到当前tab,并居中*/</span><br><span class="line">          newScrollX -= getWidth() / 2 - getPaddingLeft();</span><br><span class="line">          calcIndicatorRect();</span><br><span class="line">          newScrollX += ((mTabRect.right - mTabRect.left) / 2);</span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line">      if (newScrollX != mLastScrollX) &#123;</span><br><span class="line">          mLastScrollX = newScrollX;</span><br><span class="line">          /** scrollTo（int x,int y）:x,y代表的不是坐标点,而是偏移量</span><br><span class="line">           *  x:表示离起始位置的x水平方向的偏移量</span><br><span class="line">           *  y:表示离起始位置的y垂直方向的偏移量</span><br><span class="line">           */</span><br><span class="line">          scrollTo(newScrollX, 0);</span><br><span class="line">      &#125;</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure>


<figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">/*根据是否选中设置字体颜色和粗体*/</span><br><span class="line">private void updateTabSelection(int position) &#123;</span><br><span class="line">    for (int i = 0; i &lt; mTabCount; ++i) &#123;</span><br><span class="line">        View tabView = mTabsContainer.getChildAt(i);</span><br><span class="line">        final boolean isSelect = i == position;</span><br><span class="line">        TextView tab_title = (TextView) tabView.findViewById(R.id.tv_tab_title);</span><br><span class="line"></span><br><span class="line">        if (tab_title != null) &#123;</span><br><span class="line">            tab_title.setTextColor(isSelect ? mTextSelectColor : mTextUnselectColor);</span><br><span class="line">            if (mTextBold == TEXT_BOLD_WHEN_SELECT) &#123;</span><br><span class="line">                tab_title.getPaint().setFakeBoldText(isSelect);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


<h5 id="1-2-3-Tab相关"><a href="#1-2-3-Tab相关" class="headerlink" title="1.2.3 Tab相关"></a><a href></a>1.2.3 Tab相关</h5><p> <img src="https://img-blog.csdn.net/20170419083258479" alt="这里写图片描述"><br> <img src="https://img-blog.csdn.net/20170419083307602" alt="这里写图片描述"><br> <img src="https://img-blog.csdn.net/20170419083321901" alt="这里写图片描述"></p>
<pre><code>方法                      | 描述              
----------------------- | ---------------- 
addNewTab(String title) | 提供给外部使用的新增tab的方法</code></pre><figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">public void addNewTab(String title) &#123;</span><br><span class="line">    View tabView = View.inflate(mContext, R.layout.layout_tab, null);</span><br><span class="line">    if (mTitles != null) &#123;</span><br><span class="line">        mTitles.add(title);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    CharSequence pageTitle = mTitles == null ? mViewPager.getAdapter().getPageTitle(mTabCount) : mTitles.get(mTabCount);</span><br><span class="line">    addTab(mTabCount, pageTitle.toString(), tabView);</span><br><span class="line">    this.mTabCount = mTitles == null ? mViewPager.getAdapter().getCount() : mTitles.size();</span><br><span class="line"></span><br><span class="line">    updateTabStyles();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


<pre><code>方法                                                  | 描述                                
--------------------------------------------------- | ---------------------------------- 
setCurrentTab(int currentTab)                       | 跳转到指定tab,是否平滑的滚动过去由系统控制           
setCurrentTab(int currentTab, boolean smoothScroll) | 跳转到制指定tab, smoothScroll控制是否平滑的滚动过去</code></pre><figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">public void setCurrentTab(int currentTab) &#123;</span><br><span class="line">    this.mCurrentTab = currentTab;</span><br><span class="line">    mViewPager.setCurrentItem(currentTab);</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">public void setCurrentTab(int currentTab, boolean smoothScroll) &#123;</span><br><span class="line">    this.mCurrentTab = currentTab;</span><br><span class="line">    mViewPager.setCurrentItem(currentTab, smoothScroll);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


<h5 id="1-2-4-Getter和Setter"><a href="#1-2-4-Getter和Setter" class="headerlink" title="1.2.4 Getter和Setter"></a><a href></a>1.2.4 Getter和Setter</h5><p> 不做赘述</p>
<h5 id="1-2-5-MsgView相关（未读信息）"><a href="#1-2-5-MsgView相关（未读信息）" class="headerlink" title="1.2.5 MsgView相关（未读信息）"></a><a href></a>1.2.5 MsgView相关（未读信息）</h5><p> <img src="https://img-blog.csdn.net/20170419084106280" alt="这里写图片描述"></p>
<pre><code>方法                                                                 | 描述                                           
------------------------------------------------------------------ | --------------------------------------------- 
showMsg(int position, int num)                                     | 显示未读消息，position为tab位置，num小于等于0显示红点,num大于0显示数字
showDot(int position)                                              | 显示未读红点， position为tab位置                       
hideMsg(int position)                                              | 隐藏未读消息， position为tab位置                       
setMsgMargin(int position, float leftPadding, float bottomPadding) | 设置未读消息偏移,原点为文字的右上角.当控件高度固定,消息提示位置易控制,显示效果佳   
getMsgView(int position)                                           | 当前类只提供了少许设置未读消息属性的方法,可以通过该方法获取MsgView对象从而各种设置</code></pre><h3 id="2-CommonTabLayout"><a href="#2-CommonTabLayout" class="headerlink" title="2. CommonTabLayout"></a><a href></a>2. CommonTabLayout</h3><h4 id="2-1-特有属性"><a href="#2-1-特有属性" class="headerlink" title="2.1 特有属性"></a><a href></a>2.1 特有属性</h4><pre><code>特有属性                       | 格式        | 描述                                                                     
-------------------------- | --------- | ----------------------------------------------------------------------- 
tl_indicator_width         | dimension | 设置显示器固定宽度                                                              
tl_indicator_gravity       | enum      | 设置显示器上方(TOP)还是下方(BOTTOM),只对常规显示器有用                                     
tl_indicator_style         | enum      | 设置显示器为常规(NORMAL)或三角形(TRIANGLE)或背景色块(BLOCK)                             
tl_indicator_anim_enable   | boolean   | 设置显示器支持动画(only for CommonTabLayout)                                    
tl_indicator_anim_duration | integer   | 设置显示器动画时间(only for CommonTabLayout)                                    
tl_indicator_bounce_enable | boolean   | 设置显示器支持动画回弹效果(only for CommonTabLayout)                                
tl_underline_color         | color     | 设置下划线颜色                                                                
tl_underline_height        | dimension | 设置下划线高度                                                                
tl_underline_gravity       | enum      | 设置下划线上方(TOP)还是下方(BOTTOM)                                               
tl_iconWidth               | dimension | 设置icon宽度(仅支持CommonTabLayout)                                           
tl_iconHeight              | dimension | 设置icon高度(仅支持CommonTabLayout)                                           
tl_iconVisible             | boolean   | 设置icon是否可见(仅支持CommonTabLayout)                                         
tl_iconGravity             | enum      | 设置icon显示位置,对应Gravity中常量值,左上右下(仅支持CommonTabLayout)，LEFT，RIGHT，TOP，BOTTOM
tl_iconMargin              | dimension | 设置icon与文字间距(仅支持CommonTabLayout)                                        </code></pre><h4 id="2-2-区别于SlidingTabLayout"><a href="#2-2-区别于SlidingTabLayout" class="headerlink" title="2.2 区别于SlidingTabLayout"></a><a href></a>2.2 区别于SlidingTabLayout</h4><ul>
<li>不依赖于ViewPager，可以与其他组件搭配 </li>
<li>支持自定义Tab样式，主要体现在常用的图标+文字的形式。 </li>
<li>SlidingTabLayout继承HorizontalScrollView而CommonTabLayout继承FrameLayout  <h4 id="2-3-类结构"><a href="#2-3-类结构" class="headerlink" title="2.3 类结构"></a><a href></a>2.3 类结构</h4></li>
</ul>
<h5 id="2-3-1-构造方法"><a href="#2-3-1-构造方法" class="headerlink" title="2.3.1 构造方法"></a><a href></a>2.3.1 构造方法</h5><p> <img src="https://img-blog.csdn.net/20170419085601117" alt="这里写图片描述"><br> 与SlidingTabLayout实现类似，获取的属性值不太一样而已。多出一个动画的内容，点击某一个Tab后，indicator的移动动画效果</p>
<figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">mValueAnimator = ValueAnimator.ofObject(new PointEvaluator(), mLastP, mCurrentP);</span><br><span class="line">mValueAnimator.addUpdateListener(this);</span><br></pre></td></tr></table></figure>


<h5 id="2-3-2-动画相关"><a href="#2-3-2-动画相关" class="headerlink" title="2.3.2 动画相关"></a><a href></a>2.3.2 动画相关</h5><figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">class IndicatorPoint &#123;</span><br><span class="line">    public float left;</span><br><span class="line">    public float right;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">private IndicatorPoint mCurrentP = new IndicatorPoint();</span><br><span class="line">private IndicatorPoint mLastP = new IndicatorPoint();</span><br><span class="line"></span><br><span class="line">class PointEvaluator implements TypeEvaluator&lt;IndicatorPoint&gt; &#123;</span><br><span class="line">    @Override</span><br><span class="line">    public IndicatorPoint evaluate(float fraction, IndicatorPoint startValue, IndicatorPoint endValue) &#123;</span><br><span class="line">        float left = startValue.left + fraction * (endValue.left - startValue.left);</span><br><span class="line">        float right = startValue.right + fraction * (endValue.right - startValue.right);</span><br><span class="line">        IndicatorPoint point = new IndicatorPoint();</span><br><span class="line">        point.left = left;</span><br><span class="line">        point.right = right;</span><br><span class="line">        return point;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


<figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">@Override</span><br><span class="line">public void onAnimationUpdate(ValueAnimator animation) &#123;</span><br><span class="line">    View currentTabView = mTabsContainer.getChildAt(this.mCurrentTab);</span><br><span class="line">    IndicatorPoint p = (IndicatorPoint) animation.getAnimatedValue();</span><br><span class="line">    mIndicatorRect.left = (int) p.left;</span><br><span class="line">    mIndicatorRect.right = (int) p.right;</span><br><span class="line"></span><br><span class="line">    if (mIndicatorWidth &lt; 0) &#123;   //indicatorWidth小于0时,原jpardogo&apos;s PagerSlidingTabStrip</span><br><span class="line"></span><br><span class="line">    &#125; else &#123;//indicatorWidth大于0时,圆角矩形以及三角形</span><br><span class="line">        float indicatorLeft = p.left + (currentTabView.getWidth() - mIndicatorWidth) / 2;</span><br><span class="line"></span><br><span class="line">        mIndicatorRect.left = (int) indicatorLeft;</span><br><span class="line">        mIndicatorRect.right = (int) (mIndicatorRect.left + mIndicatorWidth);</span><br><span class="line">    &#125;</span><br><span class="line">    invalidate();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


<h5 id="2-3-3-Tab相关"><a href="#2-3-3-Tab相关" class="headerlink" title="2.3.3 Tab相关"></a><a href></a>2.3.3 Tab相关</h5><p> <img src="https://img-blog.csdn.net/20170419090336135" alt="这里写图片描述"></p>
<pre><code>方法                                                                                                                                       | 描述                 
---------------------------------------------------------------------------------------------------------------------------------------- | ------------------- 
setTabData(ArrayList&amp;lt; CustomTabEntity&amp;gt; tabEntitys)                                                                                 | 设置tab entity       
setTabData(ArrayList&amp;lt; CustomTabEntity&amp;gt; tabEntitys, FragmentActivity fa, int containerViewId, ArrayList&amp;lt; Fragment&amp;gt; fragments) | 关联数据支持同时切换fragments
notifyDataSetChanged()                                                                                                                   | 更新数据               
setCurrentTab(int currentTab)                                                                                                            | 设置当前tab            </code></pre><figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">public void setTabData(ArrayList&lt;CustomTabEntity&gt; tabEntitys) &#123;</span><br><span class="line">    if (tabEntitys == null || tabEntitys.size() == 0) &#123;</span><br><span class="line">        throw new IllegalStateException(&quot;TabEntitys can not be NULL or EMPTY !&quot;);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    this.mTabEntitys.clear();</span><br><span class="line">    /*设置tab标签*/</span><br><span class="line">    this.mTabEntitys.addAll(tabEntitys);</span><br><span class="line">    /*更新数据*/</span><br><span class="line">    notifyDataSetChanged();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


<figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">/** 更新数据 */</span><br><span class="line">public void notifyDataSetChanged() &#123;</span><br><span class="line">    /*清空容器中的tab*/</span><br><span class="line">    mTabsContainer.removeAllViews();</span><br><span class="line">    this.mTabCount = mTabEntitys.size();</span><br><span class="line">    View tabView;</span><br><span class="line">    /*根据图标的gravity构建不同的tab样式，图标支持上下左右*/</span><br><span class="line">    for (int i = 0; i &lt; mTabCount; i++) &#123;</span><br><span class="line">        if (mIconGravity == Gravity.LEFT) &#123;</span><br><span class="line">            tabView = View.inflate(mContext, R.layout.layout_tab_left, null);</span><br><span class="line">        &#125; else if (mIconGravity == Gravity.RIGHT) &#123;</span><br><span class="line">            tabView = View.inflate(mContext, R.layout.layout_tab_right, null);</span><br><span class="line">        &#125; else if (mIconGravity == Gravity.BOTTOM) &#123;</span><br><span class="line">            tabView = View.inflate(mContext, R.layout.layout_tab_bottom, null);</span><br><span class="line">        &#125; else &#123;</span><br><span class="line">            tabView = View.inflate(mContext, R.layout.layout_tab_top, null);</span><br><span class="line">        &#125;</span><br><span class="line">        /*i添加到tag,但从这个类的方法上看，这一步没有什么必要，因为addTab会传入i,addTab中直接使用i就好，但是如果我们在外部拿到tabView,就可以直接指导它的position,不用循环遍历，还是挺方便的*/</span><br><span class="line">        tabView.setTag(i);</span><br><span class="line">        /*添加tab*/</span><br><span class="line">        addTab(i, tabView);</span><br><span class="line">    &#125;</span><br><span class="line">    /*根据选中未选中状态更新tab显示效果*/</span><br><span class="line">    updateTabStyles();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


<figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line">/** 创建并添加tab */</span><br><span class="line">private void addTab(final int position, View tabView) &#123;</span><br><span class="line">    /*设置文本内容，title*/</span><br><span class="line">    TextView tv_tab_title = (TextView) tabView.findViewById(R.id.tv_tab_title);</span><br><span class="line">    tv_tab_title.setText(mTabEntitys.get(position).getTabTitle());</span><br><span class="line">    /*设置图标内容，添加未选中内容，后面根据选中未选中重新刷一次图片*/</span><br><span class="line">    ImageView iv_tab_icon = (ImageView) tabView.findViewById(R.id.iv_tab_icon);</span><br><span class="line">    iv_tab_icon.setImageResource(mTabEntitys.get(position).getTabUnselectedIcon());</span><br><span class="line"></span><br><span class="line">    /*设置tabView的点击事件*/</span><br><span class="line">    tabView.setOnClickListener(new OnClickListener() &#123;</span><br><span class="line">        @Override</span><br><span class="line">        public void onClick(View v) &#123;</span><br><span class="line">            /*前面设置的tab,也就是position*/</span><br><span class="line">            int position = (Integer) v.getTag();</span><br><span class="line">            if (mCurrentTab != position) &#123;</span><br><span class="line">                /*设置当前tab*/</span><br><span class="line">                setCurrentTab(position);</span><br><span class="line">                //有OnTabSelectListener则执行对应的处理</span><br><span class="line">                if (mListener != null) &#123;</span><br><span class="line">                    mListener.onTabSelect(position);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125; else &#123;</span><br><span class="line">                if (mListener != null) &#123;</span><br><span class="line">                    mListener.onTabReselect(position);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;);</span><br><span class="line"></span><br><span class="line">    /** 每一个Tab的布局参数 ，根据是否均分设置不同的布局，若宽度不为0，则设置宽度*/</span><br><span class="line">    LinearLayout.LayoutParams lp_tab = mTabSpaceEqual ?</span><br><span class="line">            new LinearLayout.LayoutParams(0, LayoutParams.MATCH_PARENT, 1.0f) :</span><br><span class="line">            new LinearLayout.LayoutParams(LayoutParams.WRAP_CONTENT, LayoutParams.MATCH_PARENT);</span><br><span class="line">    if (mTabWidth &gt; 0) &#123;</span><br><span class="line">        lp_tab = new LinearLayout.LayoutParams((int) mTabWidth, LayoutParams.MATCH_PARENT);</span><br><span class="line">    &#125;</span><br><span class="line">    mTabsContainer.addView(tabView, position, lp_tab);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


<figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line">/*和SlidingTabLayout相似，多了一个图标的处理*/</span><br><span class="line">private void updateTabStyles() &#123;</span><br><span class="line">    for (int i = 0; i &lt; mTabCount; i++) &#123;</span><br><span class="line">        View tabView = mTabsContainer.getChildAt(i);</span><br><span class="line">        tabView.setPadding((int) mTabPadding, 0, (int) mTabPadding, 0);</span><br><span class="line">        TextView tv_tab_title = (TextView) tabView.findViewById(R.id.tv_tab_title);</span><br><span class="line">        tv_tab_title.setTextColor(i == mCurrentTab ? mTextSelectColor : mTextUnselectColor);</span><br><span class="line">        tv_tab_title.setTextSize(TypedValue.COMPLEX_UNIT_PX, mTextsize);</span><br><span class="line">//            tv_tab_title.setPadding((int) mTabPadding, 0, (int) mTabPadding, 0);</span><br><span class="line">        if (mTextAllCaps) &#123;</span><br><span class="line">            tv_tab_title.setText(tv_tab_title.getText().toString().toUpperCase());</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        if (mTextBold == TEXT_BOLD_BOTH) &#123;</span><br><span class="line">            tv_tab_title.getPaint().setFakeBoldText(true);</span><br><span class="line">        &#125; else if (mTextBold == TEXT_BOLD_NONE) &#123;</span><br><span class="line">            tv_tab_title.getPaint().setFakeBoldText(false);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        ImageView iv_tab_icon = (ImageView) tabView.findViewById(R.id.iv_tab_icon);</span><br><span class="line">        if (mIconVisible) &#123;</span><br><span class="line">            iv_tab_icon.setVisibility(View.VISIBLE);</span><br><span class="line">            CustomTabEntity tabEntity = mTabEntitys.get(i);</span><br><span class="line">            iv_tab_icon.setImageResource(i == mCurrentTab ? tabEntity.getTabSelectedIcon() : tabEntity.getTabUnselectedIcon());</span><br><span class="line">            LinearLayout.LayoutParams lp = new LinearLayout.LayoutParams(</span><br><span class="line">                    mIconWidth &lt;= 0 ? LinearLayout.LayoutParams.WRAP_CONTENT : (int) mIconWidth,</span><br><span class="line">                    mIconHeight &lt;= 0 ? LinearLayout.LayoutParams.WRAP_CONTENT : (int) mIconHeight);</span><br><span class="line">            if (mIconGravity == Gravity.LEFT) &#123;</span><br><span class="line">                lp.rightMargin = (int) mIconMargin;</span><br><span class="line">            &#125; else if (mIconGravity == Gravity.RIGHT) &#123;</span><br><span class="line">                lp.leftMargin = (int) mIconMargin;</span><br><span class="line">            &#125; else if (mIconGravity == Gravity.BOTTOM) &#123;</span><br><span class="line">                lp.topMargin = (int) mIconMargin;</span><br><span class="line">            &#125; else &#123;</span><br><span class="line">                lp.bottomMargin = (int) mIconMargin;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            iv_tab_icon.setLayoutParams(lp);</span><br><span class="line">        &#125; else &#123;</span><br><span class="line">            iv_tab_icon.setVisibility(View.GONE);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p> 另外一个setTabData</p>
<figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">/** 关联数据支持同时切换fragments */</span><br><span class="line">public void setTabData(ArrayList&lt;CustomTabEntity&gt; tabEntitys, FragmentActivity fa, int containerViewId, ArrayList&lt;Fragment&gt; fragments) &#123;</span><br><span class="line">    /*拿到一个mFragmentChangeManager ，后面setCurrentTab的时候 ，如果这个值不为空，根据这个来切换fragment,实现一种类似FragmentPagerAdapter的效果*/</span><br><span class="line">    mFragmentChangeManager = new FragmentChangeManager(fa.getSupportFragmentManager(), containerViewId, fragments);</span><br><span class="line">    setTabData(tabEntitys);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


<figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">public void setCurrentTab(int currentTab) &#123;</span><br><span class="line">    mLastTab = this.mCurrentTab;</span><br><span class="line">    this.mCurrentTab = currentTab;</span><br><span class="line">    /*遍历更新tab选中未选中状态*/</span><br><span class="line">    updateTabSelection(currentTab);</span><br><span class="line">    /*如果mFragmentChangeManager 不为空，就根据当前选中的tab显示对应的Fragment*/</span><br><span class="line">    if (mFragmentChangeManager != null) &#123;</span><br><span class="line">        mFragmentChangeManager.setFragments(currentTab);</span><br><span class="line">    &#125;</span><br><span class="line">    /*indicator动画效果，计算后重绘*/</span><br><span class="line">    if (mIndicatorAnimEnable) &#123;</span><br><span class="line">        calcOffset();</span><br><span class="line">    &#125; else &#123;</span><br><span class="line">        invalidate();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


<h5 id="2-3-4-FragmentChangeManager"><a href="#2-3-4-FragmentChangeManager" class="headerlink" title="2.3.4 FragmentChangeManager"></a><a href></a>2.3.4 FragmentChangeManager</h5><p> <img src="https://img-blog.csdn.net/20170419093139353" alt="这里写图片描述"></p>
<figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line">public class FragmentChangeManager &#123;</span><br><span class="line">    private FragmentManager mFragmentManager;</span><br><span class="line">    private int mContainerViewId;</span><br><span class="line">    /** Fragment切换数组 */</span><br><span class="line">    private ArrayList&lt;Fragment&gt; mFragments;</span><br><span class="line">    /** 当前选中的Tab */</span><br><span class="line">    private int mCurrentTab;</span><br><span class="line"></span><br><span class="line">    /*构造方法，setTabData的时候看到过*/</span><br><span class="line">    public FragmentChangeManager(FragmentManager fm, int containerViewId, ArrayList&lt;Fragment&gt; fragments) &#123;</span><br><span class="line">        this.mFragmentManager = fm;</span><br><span class="line">        this.mContainerViewId = containerViewId;</span><br><span class="line">        this.mFragments = fragments;</span><br><span class="line">        initFragments();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    /** 初始化fragments */</span><br><span class="line">    private void initFragments() &#123;</span><br><span class="line">        for (Fragment fragment : mFragments) &#123;</span><br><span class="line">            mFragmentManager.beginTransaction().add(mContainerViewId, fragment).hide(fragment).commit();</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        setFragments(0);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    /** 界面切换控制,CommonTabLayout中的setCurrentTab方法可以控制*/</span><br><span class="line">    public void setFragments(int index) &#123;</span><br><span class="line">        for (int i = 0; i &lt; mFragments.size(); i++) &#123;</span><br><span class="line">            FragmentTransaction ft = mFragmentManager.beginTransaction();</span><br><span class="line">            Fragment fragment = mFragments.get(i);</span><br><span class="line">            if (i == index) &#123;</span><br><span class="line">                ft.show(fragment);</span><br><span class="line">            &#125; else &#123;</span><br><span class="line">                ft.hide(fragment);</span><br><span class="line">            &#125;</span><br><span class="line">            ft.commit();</span><br><span class="line">        &#125;</span><br><span class="line">        mCurrentTab = index;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public int getCurrentTab() &#123;</span><br><span class="line">        return mCurrentTab;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public Fragment getCurrentFragment() &#123;</span><br><span class="line">        return mFragments.get(mCurrentTab);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


<h5 id="2-3-5-Getter-Setter以及MsgView先关"><a href="#2-3-5-Getter-Setter以及MsgView先关" class="headerlink" title="2.3.5 Getter,Setter以及MsgView先关"></a><a href></a>2.3.5 Getter,Setter以及MsgView先关</h5><p> Getter和Setter方法是属性值的获取和设置，MsgView相关方法和SlidingTabLayout比较相似。</p>
<hr>
<h3 id="3-SegmentTabLayout"><a href="#3-SegmentTabLayout" class="headerlink" title="3. SegmentTabLayout"></a><a href></a>3. SegmentTabLayout</h3><h4 id="3-1-特有属性"><a href="#3-1-特有属性" class="headerlink" title="3.1 特有属性"></a><a href></a>3.1 特有属性</h4><pre><code>特有属性                       | 格式        | 描述           
-------------------------- | --------- | ------------- 
tl_indicator_anim_enable   | boolean   | 设置显示器支持动画    
tl_indicator_anim_duration | integer   | 设置显示器动画时间    
tl_indicator_bounce_enable | boolean   | 设置显示器支持动画回弹效果
tl_bar_color               | color     | 设置整体颜色       
tl_bar_stroke_color        | color     | 设置边框颜色       
tl_bar_stroke_width        | dimension | 设置边框粗细       </code></pre><h4 id="3-2-区别于CommonTabLayout"><a href="#3-2-区别于CommonTabLayout" class="headerlink" title="3.2 区别于CommonTabLayout"></a><a href></a>3.2 区别于CommonTabLayout</h4><ul>
<li><p>不支持图标，但是可以看做是一个特殊的CommonTabLayout.  </p>
<h4 id="3-3-类结构"><a href="#3-3-类结构" class="headerlink" title="3.3 类结构"></a><a href></a>3.3 类结构</h4><p>整体来说，内容基本上和CommonTabLayout，只是少了Icon的对应处理，多出的是Segment样式的处理。</p>
</li>
</ul>
<hr>
<h3 id="4-MsgView"><a href="#4-MsgView" class="headerlink" title="4. MsgView"></a><a href></a>4. MsgView</h3><h4 id="4-1-自定义属性"><a href="#4-1-自定义属性" class="headerlink" title="4.1 自定义属性"></a><a href></a>4.1 自定义属性</h4><pre><code>属性值                   | 格式        | 描述              
--------------------- | --------- | ---------------- 
mv_backgroundColor    | color     | 圆角矩形背景色         
mv_cornerRadius       | dimension | 圆角弧度,单位dp       
mv_strokeWidth        | dimension | 边框粗细，单位dp       
mv_strokeColor        | color     | 圆角边框颜色          
mv_isRadiusHalfHeight | boolean   | 圆角弧度是高度一半       
mv_isWidthHeightEqual | boolean   | 圆角矩形宽高相等,取较宽高中大值</code></pre><h4 id="4-2-类结构"><a href="#4-2-类结构" class="headerlink" title="4.2 类结构"></a><a href></a>4.2 类结构</h4><p> <img src="https://img-blog.csdn.net/20170419094953865" alt="这里写图片描述"></p>
<hr>
<h2 id="项目使用"><a href="#项目使用" class="headerlink" title="项目使用"></a><a href></a>项目使用</h2><p> 个人项目<a href="https://github.com/onlyloveyd/GankIOClient" target="_blank" rel="noopener">Gank.io Android 客户端</a>中使用效果,底部使用的CommonTabLayout，顶部使用的是SlidingTabLayout。整体而言，日常开发过程中，FlycoTabLayout还是很实用的。</p>
<p> <img src="https://img-blog.csdn.net/20170413220349937" alt="这里写图片描述"></p>
<hr>
<p> <img src="https://img-blog.csdn.net/20170413220424449" alt="这里写图片描述"></p>

        </div>
        
        
        
    </div>
</div>








    <div class="card">
    
    <div class="card-content article ">
        
        <div class="level article-meta is-size-7 is-uppercase is-mobile is-overflow-x-auto">
            <div class="level-left">
                <time class="level-item has-text-grey" datetime="2017-04-08T13:25:16.000Z">2017-04-08</time>
                
                <div class="level-item">
                <a class="has-link-grey -link" href="/categories/Android开源库/">Android开源库</a>
                </div>
                
                
                <span class="level-item has-text-grey">
                    
                    
                    4 分钟 读完 (大约 558 个字)
                </span>
                
                
            </div>
        </div>
        
        <h1 class="title is-size-3 is-size-4-mobile has-text-weight-normal">
            
                <a class="has-link-black-ter" href="/2017/04/08/《Android 开源库》Android OpenCSV/">《Android 开源库》Android OpenCSV</a>
            
        </h1>
        <div class="content">
            <h2 id="OpenCSV"><a href="#OpenCSV" class="headerlink" title="OpenCSV"></a><a href></a>OpenCSV</h2><p> <a href="https://sourceforge.net/projects/opencsv/" target="_blank" rel="noopener">https://sourceforge.net/projects/opencsv/</a></p>
<h2 id="使用参考"><a href="#使用参考" class="headerlink" title="使用参考"></a><a href></a>使用参考</h2><p> <a href="http://stackoverflow.com/questions/16672074/import-csv-file-to-sqlite-in-android" target="_blank" rel="noopener">http://stackoverflow.com/questions/16672074/import-csv-file-to-sqlite-in-android</a></p>
<h3 id="导出"><a href="#导出" class="headerlink" title="导出"></a><a href></a>导出</h3><figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br></pre></td><td class="code"><pre><span class="line">public class ExportDatabaseToCSV extends AsyncTask&lt;Void, Boolean, Boolean&gt; &#123;</span><br><span class="line"></span><br><span class="line">    Context context;</span><br><span class="line">    ProgressDialog dialog;</span><br><span class="line"></span><br><span class="line">    public ExportDatabaseToCSV(Context context) &#123;</span><br><span class="line">        this.context = context;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    @Override</span><br><span class="line">    protected void onPreExecute() &#123;</span><br><span class="line">        dialog = new ProgressDialog(context);</span><br><span class="line">        dialog.setTitle(&quot;导出CSV文件&quot;);</span><br><span class="line">        dialog.setMessage(&quot;请稍后...&quot;);</span><br><span class="line">        dialog.setCancelable(false);</span><br><span class="line">        dialog.setIcon(android.R.drawable.ic_dialog_info);</span><br><span class="line">        dialog.show();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    @Override</span><br><span class="line">    protected Boolean doInBackground(Void... params) &#123;</span><br><span class="line">        File exportDir = new File(Environment.getExternalStorageDirectory(), &quot;&quot;);</span><br><span class="line">        if (!exportDir.exists()) &#123;</span><br><span class="line">            exportDir.mkdirs();</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        Date date = new Date(System.currentTimeMillis());</span><br><span class="line">        String filename = new SimpleDateFormat(&quot;yyyy-MM-dd hh:mm:ss&quot;).format(date);</span><br><span class="line">        File file = new File(exportDir, filename + &quot;.csv&quot;);</span><br><span class="line"></span><br><span class="line">        try &#123;</span><br><span class="line">            file.createNewFile();</span><br><span class="line">            CSVWriter csvWrite = new CSVWriter(new FileWriter(file));</span><br><span class="line">            StringBuffer check = new StringBuffer();</span><br><span class="line">            check.append(&quot;SELECT * FROM NOTE&quot;);</span><br><span class="line">            DataBaseHelper db = DataBaseHelper.getInstance(GlobalField.getApplicationContext());</span><br><span class="line">            db.openDataBase();</span><br><span class="line">            Cursor curCSV = db.queryData(check.toString());</span><br><span class="line">			//key -&gt; get the cursor and then using opencsv</span><br><span class="line">            csvWrite.writeNext(curCSV.getColumnNames());</span><br><span class="line">            while (curCSV.moveToNext()) &#123;</span><br><span class="line">                //Which column you want to export you can add over here...</span><br><span class="line">                List&lt;String&gt; list = new ArrayList&lt;&gt;();</span><br><span class="line">                for (int i = 0, length = curCSV.getColumnCount(); i &lt; length; i++) &#123;</span><br><span class="line">                    list.add(curCSV.getString(i));</span><br><span class="line">                &#125;</span><br><span class="line">                String[] arrStr = list.toArray(new String[list.size()]);</span><br><span class="line">                csvWrite.writeNext(arrStr);</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            csvWrite.close();</span><br><span class="line">            curCSV.close();</span><br><span class="line">            return true;</span><br><span class="line">        &#125; catch (Exception sqlEx) &#123;</span><br><span class="line">            System.err.println(sqlEx.getMessage());</span><br><span class="line">        &#125;</span><br><span class="line">        return false;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    @Override</span><br><span class="line">    protected void onPostExecute(Boolean result) &#123;</span><br><span class="line">        if (dialog.isShowing()) &#123;</span><br><span class="line">            dialog.dismiss();</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        if (result) &#123;</span><br><span class="line">            Toast.makeText(context, &quot;SqLite Data has been Exported!&quot;, Toast.LENGTH_LONG).show();</span><br><span class="line">        &#125; else &#123;</span><br><span class="line">            Toast.makeText(context, &quot;SqLite Data has not Exported&quot;, Toast.LENGTH_LONG).show();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


<h3 id="导入"><a href="#导入" class="headerlink" title="导入"></a><a href></a>导入</h3><figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br></pre></td><td class="code"><pre><span class="line">public class ImportCVSToSQLiteDataBase extends AsyncTask&lt;String, String, String&gt; &#123;</span><br><span class="line"></span><br><span class="line">    Activity activity;</span><br><span class="line">    Context context;</span><br><span class="line">    File file=null;</span><br><span class="line">    private ProgressDialog dialog;</span><br><span class="line"></span><br><span class="line">    public ImportCVSToSQLiteDataBase(Context context, Activity activity,File file) &#123;</span><br><span class="line">        this.context=context;</span><br><span class="line">        this.activity=activity;</span><br><span class="line">        this.file=file;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    @Override</span><br><span class="line">    protected void onPreExecute()</span><br><span class="line">    &#123;</span><br><span class="line">        dialog=new ProgressDialog(context);</span><br><span class="line">        dialog.setTitle(&quot;Importing Data into SecureIt DataBase&quot;);</span><br><span class="line">        dialog.setMessage(&quot;Please wait...&quot;);</span><br><span class="line">        dialog.setCancelable(false);</span><br><span class="line">        dialog.setIcon(android.R.drawable.ic_dialog_info);</span><br><span class="line">        dialog.show();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">@Override</span><br><span class="line">protected String doInBackground(String... params) &#123;</span><br><span class="line"></span><br><span class="line">            String data=&quot;&quot;;</span><br><span class="line">            Log.d(getClass().getName(), file.toString());</span><br><span class="line"></span><br><span class="line">           try&#123;</span><br><span class="line">                 CSVReader reader = new CSVReader(new FileReader(file));</span><br><span class="line">                   String [] nextLine;</span><br><span class="line"></span><br><span class="line">                  //here I am just displaying the CSV file contents, and you can store your file content into db from while loop...</span><br><span class="line"></span><br><span class="line">                    while ((nextLine = reader.readNext()) != null) &#123;</span><br><span class="line"></span><br><span class="line">                        // nextLine[] is an array of values from the line</span><br><span class="line"></span><br><span class="line">                        String accId=nextLine[0];</span><br><span class="line">                        String acc_name=nextLine[1];</span><br><span class="line"></span><br><span class="line">                        data=data+&quot;AccId:&quot;+accId  +&quot;  Account_name:&quot;+acc_name+&quot;\n&quot;;//change to save to datebase instead of showing</span><br><span class="line"></span><br><span class="line">                      &#125;</span><br><span class="line">                   return data;</span><br><span class="line"></span><br><span class="line">            &#125; catch (Exception e) &#123;</span><br><span class="line">                Log.e(&quot;Error&quot;, &quot;Error for importing file&quot;);</span><br><span class="line">            &#125;</span><br><span class="line">        return data=&quot;&quot;;</span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">protected void onPostExecute(String data)</span><br><span class="line">  &#123;</span><br><span class="line"></span><br><span class="line">    if (dialog.isShowing())</span><br><span class="line">    &#123;</span><br><span class="line">        dialog.dismiss();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    if (data.length()!=0)</span><br><span class="line">    &#123;</span><br><span class="line">        Toast.makeText(context, &quot;File is built Successfully!&quot;+&quot;\n&quot;+data, Toast.LENGTH_LONG).show();</span><br><span class="line">    &#125;else&#123;</span><br><span class="line">            Toast.makeText(context, &quot;File fail to build&quot;, Toast.LENGTH_SHORT).show();</span><br><span class="line">         &#125;</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


<h2 id="问题"><a href="#问题" class="headerlink" title="问题"></a><a href></a>问题</h2><p> 导出的CSV文件如果使用Excel直接打开，可能出现中文乱码</p>
<p> 解决办法：<br> 使用记事本打开CSV文件，“文件”-&gt;“另存为”，编码方式选择ANSI，保存完毕后，用EXCEL打开这个文件就不会出现乱码的情况。</p>

        </div>
        
        
        
    </div>
</div>









    
<div class="card card-transparent">
    <nav class="pagination is-centered" role="navigation" aria-label="pagination">
        <div class="pagination-previous is-invisible is-hidden-mobile">
            <a class="is-flex-grow has-text-black-ter" href="/categories/Android开源库/page/0/">上一页</a>
        </div>
        <div class="pagination-next">
            <a class="is-flex-grow has-text-black-ter" href="/categories/Android开源库/page/2/">下一页</a>
        </div>
        <ul class="pagination-list is-hidden-mobile">
            
            <li><a class="pagination-link is-current" href="/categories/Android开源库/">1</a></li>
            
            <li><a class="pagination-link has-text-black-ter" href="/categories/Android开源库/page/2/">2</a></li>
            
            <li><a class="pagination-link has-text-black-ter" href="/categories/Android开源库/page/3/">3</a></li>
            
        </ul>
    </nav>
</div>
</div>
                




<div class="column is-4-tablet is-4-desktop is-3-widescreen  has-order-1 column-left ">
    
        
<div class="card widget">
    <div class="card-content">
        <nav class="level">
            <div class="level-item has-text-centered">
                <div>
                    
                        <img class="image is-128x128 has-mb-6" src="/images/avatar.png" alt="Your name">
                    
                    
                    <p class="is-size-4 is-block">
                        Your name
                    </p>
                    
                    
                    <p class="is-size-6 is-block">
                        Your title
                    </p>
                    
                    
                    <p class="is-size-6 is-flex is-flex-center has-text-grey">
                        <i class="fas fa-map-marker-alt has-mr-7"></i>
                        <span>Your location</span>
                    </p>
                    
                </div>
            </div>
        </nav>
        <nav class="level is-mobile">
            <div class="level-item has-text-centered is-marginless">
                <div>
                    <p class="heading">
                        文章
                    </p>
                    <p class="title has-text-weight-normal">
                        162
                    </p>
                </div>
            </div>
            <div class="level-item has-text-centered is-marginless">
                <div>
                    <p class="heading">
                        分类
                    </p>
                    <p class="title has-text-weight-normal">
                        14
                    </p>
                </div>
            </div>
            <div class="level-item has-text-centered is-marginless">
                <div>
                    <p class="heading">
                        标签
                    </p>
                    <p class="title has-text-weight-normal">
                        81
                    </p>
                </div>
            </div>
        </nav>
        <div class="level">
            <a class="level-item button is-link is-rounded" href="https://github.com/ppoffice" target="_blank">
                关注我</a>
        </div>
        
        
        <div class="level is-mobile">
            
            <a class="level-item button is-white is-marginless" target="_blank" title="Github" href="https://github.com/ppoffice">
                
                <i class="fab fa-github"></i>
                
            </a>
            
            <a class="level-item button is-white is-marginless" target="_blank" title="Facebook" href="https://facebook.com">
                
                <i class="fab fa-facebook"></i>
                
            </a>
            
            <a class="level-item button is-white is-marginless" target="_blank" title="Twitter" href="https://twitter.com">
                
                <i class="fab fa-twitter"></i>
                
            </a>
            
            <a class="level-item button is-white is-marginless" target="_blank" title="Dribbble" href="https://dribbble.com">
                
                <i class="fab fa-dribbble"></i>
                
            </a>
            
            <a class="level-item button is-white is-marginless" target="_blank" title="RSS" href="/">
                
                <i class="fas fa-rss"></i>
                
            </a>
            
        </div>
        
    </div>
</div>
    
        
    
        

<div class="card widget">
    <div class="card-content">
        <div class="menu">
        <h3 class="menu-label">
            链接
        </h3>
        <ul class="menu-list">
        
            <li>
                <a class="level is-mobile" href="https://hexo.io" target="_blank">
                    <span class="level-left">
                        <span class="level-item">Hexo</span>
                    </span>
                    <span class="level-right">
                        <span class="level-item tag">hexo.io</span>
                    </span>
                </a>
            </li>
        
            <li>
                <a class="level is-mobile" href="https://github.com/ppoffice" target="_blank">
                    <span class="level-left">
                        <span class="level-item">PPOffice</span>
                    </span>
                    <span class="level-right">
                        <span class="level-item tag">github.com</span>
                    </span>
                </a>
            </li>
        
        </ul>
        </div>
    </div>
</div>


    
        
<div class="card widget">
    <div class="card-content">
        <div class="menu">
            <h3 class="menu-label">
                分类
            </h3>
            <ul class="menu-list">
            <li>
        <a class="level is-marginless" href="/categories/Android基础/">
            <span class="level-start">
                <span class="level-item">Android基础</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">51</span>
            </span>
        </a><ul><li>
        <a class="level is-marginless" href="/categories/Android基础/Android-Studio/">
            <span class="level-start">
                <span class="level-item">Android Studio</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">1</span>
            </span>
        </a></li></ul></li><li>
        <a class="level is-marginless" href="/categories/Android安全/">
            <span class="level-start">
                <span class="level-item">Android安全</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">3</span>
            </span>
        </a></li><li>
        <a class="level is-marginless" href="/categories/Android应用/">
            <span class="level-start">
                <span class="level-item">Android应用</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">25</span>
            </span>
        </a></li><li>
        <a class="level is-marginless" href="/categories/Android开源库/">
            <span class="level-start">
                <span class="level-item">Android开源库</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">24</span>
            </span>
        </a></li><li>
        <a class="level is-marginless" href="/categories/Android源码/">
            <span class="level-start">
                <span class="level-item">Android源码</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">10</span>
            </span>
        </a></li><li>
        <a class="level is-marginless" href="/categories/Android系统/">
            <span class="level-start">
                <span class="level-item">Android系统</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">1</span>
            </span>
        </a></li><li>
        <a class="level is-marginless" href="/categories/Android进阶/">
            <span class="level-start">
                <span class="level-item">Android进阶</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">8</span>
            </span>
        </a></li><li>
        <a class="level is-marginless" href="/categories/Angular/">
            <span class="level-start">
                <span class="level-item">Angular</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">1</span>
            </span>
        </a></li><li>
        <a class="level is-marginless" href="/categories/Flutter/">
            <span class="level-start">
                <span class="level-item">Flutter</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">1</span>
            </span>
        </a></li><li>
        <a class="level is-marginless" href="/categories/Kotlin/">
            <span class="level-start">
                <span class="level-item">Kotlin</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">5</span>
            </span>
        </a></li><li>
        <a class="level is-marginless" href="/categories/LeetCode/">
            <span class="level-start">
                <span class="level-item">LeetCode</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">4</span>
            </span>
        </a></li><li>
        <a class="level is-marginless" href="/categories/微信小程序/">
            <span class="level-start">
                <span class="level-item">微信小程序</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">3</span>
            </span>
        </a></li><li>
        <a class="level is-marginless" href="/categories/运维/">
            <span class="level-start">
                <span class="level-item">运维</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">13</span>
            </span>
        </a></li>
            </ul>
        </div>
    </div>
</div>
    
        
<div class="card widget">
    <div class="card-content">
        <h3 class="menu-label">
            标签云
        </h3>
        <a href="/tags/Aandroid实战/" style="font-size: 10px;">Aandroid实战</a> <a href="/tags/Android-Studio/" style="font-size: 13.08px;">Android Studio</a> <a href="/tags/Android基础/" style="font-size: 10px;">Android基础</a> <a href="/tags/Android实战/" style="font-size: 19.23px;">Android实战</a> <a href="/tags/Android开源库/" style="font-size: 10.77px;">Android开源库</a> <a href="/tags/Android源码/" style="font-size: 10px;">Android源码</a> <a href="/tags/Angular/" style="font-size: 10px;">Angular</a> <a href="/tags/BroadcastReceiver/" style="font-size: 10px;">BroadcastReceiver</a> <a href="/tags/CSDN迁移/" style="font-size: 13.08px;">CSDN迁移</a> <a href="/tags/CentOS/" style="font-size: 11.54px;">CentOS</a> <a href="/tags/CodeStyle/" style="font-size: 10px;">CodeStyle</a> <a href="/tags/Docker/" style="font-size: 12.31px;">Docker</a> <a href="/tags/Drawable/" style="font-size: 10.77px;">Drawable</a> <a href="/tags/EditText/" style="font-size: 10px;">EditText</a> <a href="/tags/FileProvider/" style="font-size: 10px;">FileProvider</a> <a href="/tags/Flex/" style="font-size: 10px;">Flex</a> <a href="/tags/Flutter/" style="font-size: 10px;">Flutter</a> <a href="/tags/Fragment/" style="font-size: 12.31px;">Fragment</a> <a href="/tags/Framework/" style="font-size: 15.38px;">Framework</a> <a href="/tags/Gank-io/" style="font-size: 12.31px;">Gank.io</a> <a href="/tags/Gitlab/" style="font-size: 10px;">Gitlab</a> <a href="/tags/HAL/" style="font-size: 10px;">HAL</a> <a href="/tags/IDEA插件/" style="font-size: 10px;">IDEA插件</a> <a href="/tags/JetPack/" style="font-size: 10px;">JetPack</a> <a href="/tags/Kotlin/" style="font-size: 13.85px;">Kotlin</a> <a href="/tags/LeetCode/" style="font-size: 12.31px;">LeetCode</a> <a href="/tags/Linux/" style="font-size: 13.85px;">Linux</a> <a href="/tags/MPAndroidChart/" style="font-size: 14.62px;">MPAndroidChart</a> <a href="/tags/MacOS/" style="font-size: 10px;">MacOS</a> <a href="/tags/Markdown/" style="font-size: 10px;">Markdown</a> <a href="/tags/MultiDex/" style="font-size: 10px;">MultiDex</a> <a href="/tags/Mysql/" style="font-size: 10.77px;">Mysql</a> <a href="/tags/PMDReader/" style="font-size: 10px;">PMDReader</a> <a href="/tags/Picasso/" style="font-size: 10px;">Picasso</a> <a href="/tags/PowerDesign/" style="font-size: 10px;">PowerDesign</a> <a href="/tags/Realm/" style="font-size: 16.15px;">Realm</a> <a href="/tags/RecyclerView/" style="font-size: 11.54px;">RecyclerView</a> <a href="/tags/Retrofit/" style="font-size: 10px;">Retrofit</a> <a href="/tags/RxJava/" style="font-size: 10.77px;">RxJava</a> <a href="/tags/Service/" style="font-size: 10px;">Service</a> <a href="/tags/Smali/" style="font-size: 10.77px;">Smali</a> <a href="/tags/TabLayout/" style="font-size: 10px;">TabLayout</a> <a href="/tags/Tomcat/" style="font-size: 10px;">Tomcat</a> <a href="/tags/View/" style="font-size: 10px;">View</a> <a href="/tags/WanANdroid/" style="font-size: 10px;">WanANdroid</a> <a href="/tags/WebService/" style="font-size: 10px;">WebService</a> <a href="/tags/Xen/" style="font-size: 11.54px;">Xen</a> <a href="/tags/allowBackup/" style="font-size: 10px;">allowBackup</a> <a href="/tags/事件分发/" style="font-size: 10px;">事件分发</a> <a href="/tags/动画/" style="font-size: 10.77px;">动画</a> <a href="/tags/四大组件/" style="font-size: 10px;">四大组件</a> <a href="/tags/多线程/" style="font-size: 10px;">多线程</a> <a href="/tags/局域网/" style="font-size: 10px;">局域网</a> <a href="/tags/工具/" style="font-size: 10px;">工具</a> <a href="/tags/布局控件/" style="font-size: 20px;">布局控件</a> <a href="/tags/应用/" style="font-size: 17.69px;">应用</a> <a href="/tags/开发问题/" style="font-size: 10px;">开发问题</a> <a href="/tags/开机动画/" style="font-size: 10.77px;">开机动画</a> <a href="/tags/开源/" style="font-size: 11.54px;">开源</a> <a href="/tags/开源库/" style="font-size: 18.46px;">开源库</a> <a href="/tags/微信公众号/" style="font-size: 10px;">微信公众号</a> <a href="/tags/快捷键/" style="font-size: 10px;">快捷键</a> <a href="/tags/手电筒/" style="font-size: 10px;">手电筒</a> <a href="/tags/技术选型/" style="font-size: 10px;">技术选型</a> <a href="/tags/文本/" style="font-size: 10px;">文本</a> <a href="/tags/框架/" style="font-size: 10px;">框架</a> <a href="/tags/源码分析/" style="font-size: 11.54px;">源码分析</a> <a href="/tags/百度地图/" style="font-size: 12.31px;">百度地图</a> <a href="/tags/系统源码/" style="font-size: 10px;">系统源码</a> <a href="/tags/终端/" style="font-size: 10px;">终端</a> <a href="/tags/聚合数据/" style="font-size: 10px;">聚合数据</a> <a href="/tags/自定义View/" style="font-size: 15.38px;">自定义View</a> <a href="/tags/虚拟化/" style="font-size: 11.54px;">虚拟化</a> <a href="/tags/设计模式/" style="font-size: 10px;">设计模式</a> <a href="/tags/译文/" style="font-size: 16.92px;">译文</a> <a href="/tags/贪吃蛇/" style="font-size: 10px;">贪吃蛇</a> <a href="/tags/资源/" style="font-size: 10px;">资源</a> <a href="/tags/资源配置/" style="font-size: 10px;">资源配置</a> <a href="/tags/辅助工具/" style="font-size: 10px;">辅助工具</a> <a href="/tags/配置/" style="font-size: 11.54px;">配置</a> <a href="/tags/问题/" style="font-size: 10px;">问题</a>
    </div>
</div>

    
    
        <div class="column-right-shadow is-hidden-widescreen ">
        
            
<div class="card widget">
    <div class="card-content">
        <h3 class="menu-label">
            最新文章
        </h3>
        
        <article class="media">
            
            <a href="/2019/06/14/《Android 基础（五）》MVVM/" class="media-left">
                <p class="image is-64x64">
                    <img class="thumbnail" src="/images/thumbnail.svg" alt>
                </p>
            </a>
            
            <div class="media-content">
                <div class="content">
                    <div><time class="has-text-grey is-size-7 is-uppercase" datetime="2019-06-14T11:22:12.040Z">2019-06-14</time></div>
                    <a href="/2019/06/14/《Android 基础（五）》MVVM/" class="has-link-black-ter is-size-6"></a>
                    <p class="is-size-7 is-uppercase">
                        
                    </p>
                </div>
            </div>
        </article>
        
        <article class="media">
            
            <a href="/2019/06/14/《Android 基础（二十五）》Frame Animation/" class="media-left">
                <p class="image is-64x64">
                    <img class="thumbnail" src="/images/thumbnail.svg" alt>
                </p>
            </a>
            
            <div class="media-content">
                <div class="content">
                    <div><time class="has-text-grey is-size-7 is-uppercase" datetime="2019-06-14T11:22:12.039Z">2019-06-14</time></div>
                    <a href="/2019/06/14/《Android 基础（二十五）》Frame Animation/" class="has-link-black-ter is-size-6"></a>
                    <p class="is-size-7 is-uppercase">
                        
                    </p>
                </div>
            </div>
        </article>
        
        <article class="media">
            
            <a href="/2019/06/14/《Android 基础（二十）》 CoordinatorLayout Behavior/" class="media-left">
                <p class="image is-64x64">
                    <img class="thumbnail" src="/images/thumbnail.svg" alt>
                </p>
            </a>
            
            <div class="media-content">
                <div class="content">
                    <div><time class="has-text-grey is-size-7 is-uppercase" datetime="2019-06-14T11:22:12.039Z">2019-06-14</time></div>
                    <a href="/2019/06/14/《Android 基础（二十）》 CoordinatorLayout Behavior/" class="has-link-black-ter is-size-6"></a>
                    <p class="is-size-7 is-uppercase">
                        
                    </p>
                </div>
            </div>
        </article>
        
        <article class="media">
            
            <a href="/2019/06/14/《Android 基础（二十一）》Android 屏幕适配/" class="media-left">
                <p class="image is-64x64">
                    <img class="thumbnail" src="/images/thumbnail.svg" alt>
                </p>
            </a>
            
            <div class="media-content">
                <div class="content">
                    <div><time class="has-text-grey is-size-7 is-uppercase" datetime="2019-06-14T11:22:12.037Z">2019-06-14</time></div>
                    <a href="/2019/06/14/《Android 基础（二十一）》Android 屏幕适配/" class="has-link-black-ter is-size-6"></a>
                    <p class="is-size-7 is-uppercase">
                        
                    </p>
                </div>
            </div>
        </article>
        
        <article class="media">
            
            <a href="/2019/06/14/《Android 基础（二十七）》 Android Studio常用技巧（免费代理下载Google内容）/" class="media-left">
                <p class="image is-64x64">
                    <img class="thumbnail" src="/images/thumbnail.svg" alt>
                </p>
            </a>
            
            <div class="media-content">
                <div class="content">
                    <div><time class="has-text-grey is-size-7 is-uppercase" datetime="2019-06-14T11:22:12.037Z">2019-06-14</time></div>
                    <a href="/2019/06/14/《Android 基础（二十七）》 Android Studio常用技巧（免费代理下载Google内容）/" class="has-link-black-ter is-size-6"></a>
                    <p class="is-size-7 is-uppercase">
                        
                    </p>
                </div>
            </div>
        </article>
        
    </div>
</div>

        
            <div class="card widget">
    <div class="card-content">
        <div class="menu">
        <h3 class="menu-label">
            归档
        </h3>
        <ul class="menu-list">
        
        <li>
            <a class="level is-marginless" href="/archives/2019/06/">
                <span class="level-start">
                    <span class="level-item">六月 2019</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">10</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2019/05/">
                <span class="level-start">
                    <span class="level-item">五月 2019</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">2</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2019/04/">
                <span class="level-start">
                    <span class="level-item">四月 2019</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">1</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2019/03/">
                <span class="level-start">
                    <span class="level-item">三月 2019</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">3</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2019/01/">
                <span class="level-start">
                    <span class="level-item">一月 2019</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">2</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2018/12/">
                <span class="level-start">
                    <span class="level-item">十二月 2018</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">1</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2018/10/">
                <span class="level-start">
                    <span class="level-item">十月 2018</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">4</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2018/08/">
                <span class="level-start">
                    <span class="level-item">八月 2018</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">2</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2018/06/">
                <span class="level-start">
                    <span class="level-item">六月 2018</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">4</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2018/05/">
                <span class="level-start">
                    <span class="level-item">五月 2018</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">1</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2018/04/">
                <span class="level-start">
                    <span class="level-item">四月 2018</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">4</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2018/03/">
                <span class="level-start">
                    <span class="level-item">三月 2018</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">1</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2018/02/">
                <span class="level-start">
                    <span class="level-item">二月 2018</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">1</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2018/01/">
                <span class="level-start">
                    <span class="level-item">一月 2018</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">4</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2017/11/">
                <span class="level-start">
                    <span class="level-item">十一月 2017</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">1</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2017/10/">
                <span class="level-start">
                    <span class="level-item">十月 2017</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">4</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2017/09/">
                <span class="level-start">
                    <span class="level-item">九月 2017</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">6</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2017/08/">
                <span class="level-start">
                    <span class="level-item">八月 2017</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">4</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2017/07/">
                <span class="level-start">
                    <span class="level-item">七月 2017</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">2</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2017/06/">
                <span class="level-start">
                    <span class="level-item">六月 2017</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">8</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2017/05/">
                <span class="level-start">
                    <span class="level-item">五月 2017</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">7</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2017/04/">
                <span class="level-start">
                    <span class="level-item">四月 2017</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">5</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2017/03/">
                <span class="level-start">
                    <span class="level-item">三月 2017</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">11</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2017/02/">
                <span class="level-start">
                    <span class="level-item">二月 2017</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">4</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2017/01/">
                <span class="level-start">
                    <span class="level-item">一月 2017</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">5</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2016/12/">
                <span class="level-start">
                    <span class="level-item">十二月 2016</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">5</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2016/11/">
                <span class="level-start">
                    <span class="level-item">十一月 2016</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">7</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2016/10/">
                <span class="level-start">
                    <span class="level-item">十月 2016</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">3</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2016/09/">
                <span class="level-start">
                    <span class="level-item">九月 2016</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">10</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2016/08/">
                <span class="level-start">
                    <span class="level-item">八月 2016</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">8</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2016/07/">
                <span class="level-start">
                    <span class="level-item">七月 2016</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">9</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2016/06/">
                <span class="level-start">
                    <span class="level-item">六月 2016</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">4</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2016/05/">
                <span class="level-start">
                    <span class="level-item">五月 2016</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">8</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2016/04/">
                <span class="level-start">
                    <span class="level-item">四月 2016</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">4</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2015/09/">
                <span class="level-start">
                    <span class="level-item">九月 2015</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">1</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2015/08/">
                <span class="level-start">
                    <span class="level-item">八月 2015</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">3</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2014/04/">
                <span class="level-start">
                    <span class="level-item">四月 2014</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">3</span>
                </span>
            </a>
        </li>
        
        </ul>
        </div>
    </div>
</div>
        
            <div class="card widget">
    <div class="card-content">
        <div class="menu">
            <h3 class="menu-label">
                标签
            </h3>
            <div class="field is-grouped is-grouped-multiline">
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Aandroid实战/">
                        <span class="tag">Aandroid实战</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Android-Studio/">
                        <span class="tag">Android Studio</span>
                        <span class="tag is-grey">5</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Android基础/">
                        <span class="tag">Android基础</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Android实战/">
                        <span class="tag">Android实战</span>
                        <span class="tag is-grey">26</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Android开源库/">
                        <span class="tag">Android开源库</span>
                        <span class="tag is-grey">2</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Android源码/">
                        <span class="tag">Android源码</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Angular/">
                        <span class="tag">Angular</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/BroadcastReceiver/">
                        <span class="tag">BroadcastReceiver</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/CSDN迁移/">
                        <span class="tag">CSDN迁移</span>
                        <span class="tag is-grey">5</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/CentOS/">
                        <span class="tag">CentOS</span>
                        <span class="tag is-grey">3</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/CodeStyle/">
                        <span class="tag">CodeStyle</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Docker/">
                        <span class="tag">Docker</span>
                        <span class="tag is-grey">4</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Drawable/">
                        <span class="tag">Drawable</span>
                        <span class="tag is-grey">2</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/EditText/">
                        <span class="tag">EditText</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/FileProvider/">
                        <span class="tag">FileProvider</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Flex/">
                        <span class="tag">Flex</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Flutter/">
                        <span class="tag">Flutter</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Fragment/">
                        <span class="tag">Fragment</span>
                        <span class="tag is-grey">4</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Framework/">
                        <span class="tag">Framework</span>
                        <span class="tag is-grey">8</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Gank-io/">
                        <span class="tag">Gank.io</span>
                        <span class="tag is-grey">4</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Gitlab/">
                        <span class="tag">Gitlab</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/HAL/">
                        <span class="tag">HAL</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/IDEA插件/">
                        <span class="tag">IDEA插件</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/JetPack/">
                        <span class="tag">JetPack</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Kotlin/">
                        <span class="tag">Kotlin</span>
                        <span class="tag is-grey">6</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/LeetCode/">
                        <span class="tag">LeetCode</span>
                        <span class="tag is-grey">4</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Linux/">
                        <span class="tag">Linux</span>
                        <span class="tag is-grey">6</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/MPAndroidChart/">
                        <span class="tag">MPAndroidChart</span>
                        <span class="tag is-grey">7</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/MacOS/">
                        <span class="tag">MacOS</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Markdown/">
                        <span class="tag">Markdown</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/MultiDex/">
                        <span class="tag">MultiDex</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Mysql/">
                        <span class="tag">Mysql</span>
                        <span class="tag is-grey">2</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/PMDReader/">
                        <span class="tag">PMDReader</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Picasso/">
                        <span class="tag">Picasso</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/PowerDesign/">
                        <span class="tag">PowerDesign</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Realm/">
                        <span class="tag">Realm</span>
                        <span class="tag is-grey">9</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/RecyclerView/">
                        <span class="tag">RecyclerView</span>
                        <span class="tag is-grey">3</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Retrofit/">
                        <span class="tag">Retrofit</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/RxJava/">
                        <span class="tag">RxJava</span>
                        <span class="tag is-grey">2</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Service/">
                        <span class="tag">Service</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Smali/">
                        <span class="tag">Smali</span>
                        <span class="tag is-grey">2</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/TabLayout/">
                        <span class="tag">TabLayout</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Tomcat/">
                        <span class="tag">Tomcat</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/View/">
                        <span class="tag">View</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/WanANdroid/">
                        <span class="tag">WanANdroid</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/WebService/">
                        <span class="tag">WebService</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Xen/">
                        <span class="tag">Xen</span>
                        <span class="tag is-grey">3</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/allowBackup/">
                        <span class="tag">allowBackup</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/事件分发/">
                        <span class="tag">事件分发</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/动画/">
                        <span class="tag">动画</span>
                        <span class="tag is-grey">2</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/四大组件/">
                        <span class="tag">四大组件</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/多线程/">
                        <span class="tag">多线程</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/局域网/">
                        <span class="tag">局域网</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/工具/">
                        <span class="tag">工具</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/布局控件/">
                        <span class="tag">布局控件</span>
                        <span class="tag is-grey">28</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/应用/">
                        <span class="tag">应用</span>
                        <span class="tag is-grey">23</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/开发问题/">
                        <span class="tag">开发问题</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/开机动画/">
                        <span class="tag">开机动画</span>
                        <span class="tag is-grey">2</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/开源/">
                        <span class="tag">开源</span>
                        <span class="tag is-grey">3</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/开源库/">
                        <span class="tag">开源库</span>
                        <span class="tag is-grey">24</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/微信公众号/">
                        <span class="tag">微信公众号</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/快捷键/">
                        <span class="tag">快捷键</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/手电筒/">
                        <span class="tag">手电筒</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/技术选型/">
                        <span class="tag">技术选型</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/文本/">
                        <span class="tag">文本</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/框架/">
                        <span class="tag">框架</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/源码分析/">
                        <span class="tag">源码分析</span>
                        <span class="tag is-grey">3</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/百度地图/">
                        <span class="tag">百度地图</span>
                        <span class="tag is-grey">4</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/系统源码/">
                        <span class="tag">系统源码</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/终端/">
                        <span class="tag">终端</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/聚合数据/">
                        <span class="tag">聚合数据</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/自定义View/">
                        <span class="tag">自定义View</span>
                        <span class="tag is-grey">8</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/虚拟化/">
                        <span class="tag">虚拟化</span>
                        <span class="tag is-grey">3</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/设计模式/">
                        <span class="tag">设计模式</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/译文/">
                        <span class="tag">译文</span>
                        <span class="tag is-grey">15</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/贪吃蛇/">
                        <span class="tag">贪吃蛇</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/资源/">
                        <span class="tag">资源</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/资源配置/">
                        <span class="tag">资源配置</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/辅助工具/">
                        <span class="tag">辅助工具</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/配置/">
                        <span class="tag">配置</span>
                        <span class="tag is-grey">3</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/问题/">
                        <span class="tag">问题</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
            </div>
        </div>
    </div>
</div>
        
        </div>
    
</div>

                




<div class="column is-4-tablet is-4-desktop is-3-widescreen is-hidden-touch is-hidden-desktop-only has-order-3 column-right ">
    
        
<div class="card widget">
    <div class="card-content">
        <h3 class="menu-label">
            最新文章
        </h3>
        
        <article class="media">
            
            <a href="/2019/06/14/《Android 基础（五）》MVVM/" class="media-left">
                <p class="image is-64x64">
                    <img class="thumbnail" src="/images/thumbnail.svg" alt>
                </p>
            </a>
            
            <div class="media-content">
                <div class="content">
                    <div><time class="has-text-grey is-size-7 is-uppercase" datetime="2019-06-14T11:22:12.040Z">2019-06-14</time></div>
                    <a href="/2019/06/14/《Android 基础（五）》MVVM/" class="has-link-black-ter is-size-6"></a>
                    <p class="is-size-7 is-uppercase">
                        
                    </p>
                </div>
            </div>
        </article>
        
        <article class="media">
            
            <a href="/2019/06/14/《Android 基础（二十五）》Frame Animation/" class="media-left">
                <p class="image is-64x64">
                    <img class="thumbnail" src="/images/thumbnail.svg" alt>
                </p>
            </a>
            
            <div class="media-content">
                <div class="content">
                    <div><time class="has-text-grey is-size-7 is-uppercase" datetime="2019-06-14T11:22:12.039Z">2019-06-14</time></div>
                    <a href="/2019/06/14/《Android 基础（二十五）》Frame Animation/" class="has-link-black-ter is-size-6"></a>
                    <p class="is-size-7 is-uppercase">
                        
                    </p>
                </div>
            </div>
        </article>
        
        <article class="media">
            
            <a href="/2019/06/14/《Android 基础（二十）》 CoordinatorLayout Behavior/" class="media-left">
                <p class="image is-64x64">
                    <img class="thumbnail" src="/images/thumbnail.svg" alt>
                </p>
            </a>
            
            <div class="media-content">
                <div class="content">
                    <div><time class="has-text-grey is-size-7 is-uppercase" datetime="2019-06-14T11:22:12.039Z">2019-06-14</time></div>
                    <a href="/2019/06/14/《Android 基础（二十）》 CoordinatorLayout Behavior/" class="has-link-black-ter is-size-6"></a>
                    <p class="is-size-7 is-uppercase">
                        
                    </p>
                </div>
            </div>
        </article>
        
        <article class="media">
            
            <a href="/2019/06/14/《Android 基础（二十一）》Android 屏幕适配/" class="media-left">
                <p class="image is-64x64">
                    <img class="thumbnail" src="/images/thumbnail.svg" alt>
                </p>
            </a>
            
            <div class="media-content">
                <div class="content">
                    <div><time class="has-text-grey is-size-7 is-uppercase" datetime="2019-06-14T11:22:12.037Z">2019-06-14</time></div>
                    <a href="/2019/06/14/《Android 基础（二十一）》Android 屏幕适配/" class="has-link-black-ter is-size-6"></a>
                    <p class="is-size-7 is-uppercase">
                        
                    </p>
                </div>
            </div>
        </article>
        
        <article class="media">
            
            <a href="/2019/06/14/《Android 基础（二十七）》 Android Studio常用技巧（免费代理下载Google内容）/" class="media-left">
                <p class="image is-64x64">
                    <img class="thumbnail" src="/images/thumbnail.svg" alt>
                </p>
            </a>
            
            <div class="media-content">
                <div class="content">
                    <div><time class="has-text-grey is-size-7 is-uppercase" datetime="2019-06-14T11:22:12.037Z">2019-06-14</time></div>
                    <a href="/2019/06/14/《Android 基础（二十七）》 Android Studio常用技巧（免费代理下载Google内容）/" class="has-link-black-ter is-size-6"></a>
                    <p class="is-size-7 is-uppercase">
                        
                    </p>
                </div>
            </div>
        </article>
        
    </div>
</div>

    
        <div class="card widget">
    <div class="card-content">
        <div class="menu">
        <h3 class="menu-label">
            归档
        </h3>
        <ul class="menu-list">
        
        <li>
            <a class="level is-marginless" href="/archives/2019/06/">
                <span class="level-start">
                    <span class="level-item">六月 2019</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">10</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2019/05/">
                <span class="level-start">
                    <span class="level-item">五月 2019</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">2</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2019/04/">
                <span class="level-start">
                    <span class="level-item">四月 2019</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">1</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2019/03/">
                <span class="level-start">
                    <span class="level-item">三月 2019</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">3</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2019/01/">
                <span class="level-start">
                    <span class="level-item">一月 2019</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">2</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2018/12/">
                <span class="level-start">
                    <span class="level-item">十二月 2018</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">1</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2018/10/">
                <span class="level-start">
                    <span class="level-item">十月 2018</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">4</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2018/08/">
                <span class="level-start">
                    <span class="level-item">八月 2018</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">2</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2018/06/">
                <span class="level-start">
                    <span class="level-item">六月 2018</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">4</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2018/05/">
                <span class="level-start">
                    <span class="level-item">五月 2018</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">1</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2018/04/">
                <span class="level-start">
                    <span class="level-item">四月 2018</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">4</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2018/03/">
                <span class="level-start">
                    <span class="level-item">三月 2018</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">1</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2018/02/">
                <span class="level-start">
                    <span class="level-item">二月 2018</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">1</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2018/01/">
                <span class="level-start">
                    <span class="level-item">一月 2018</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">4</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2017/11/">
                <span class="level-start">
                    <span class="level-item">十一月 2017</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">1</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2017/10/">
                <span class="level-start">
                    <span class="level-item">十月 2017</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">4</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2017/09/">
                <span class="level-start">
                    <span class="level-item">九月 2017</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">6</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2017/08/">
                <span class="level-start">
                    <span class="level-item">八月 2017</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">4</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2017/07/">
                <span class="level-start">
                    <span class="level-item">七月 2017</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">2</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2017/06/">
                <span class="level-start">
                    <span class="level-item">六月 2017</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">8</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2017/05/">
                <span class="level-start">
                    <span class="level-item">五月 2017</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">7</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2017/04/">
                <span class="level-start">
                    <span class="level-item">四月 2017</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">5</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2017/03/">
                <span class="level-start">
                    <span class="level-item">三月 2017</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">11</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2017/02/">
                <span class="level-start">
                    <span class="level-item">二月 2017</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">4</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2017/01/">
                <span class="level-start">
                    <span class="level-item">一月 2017</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">5</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2016/12/">
                <span class="level-start">
                    <span class="level-item">十二月 2016</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">5</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2016/11/">
                <span class="level-start">
                    <span class="level-item">十一月 2016</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">7</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2016/10/">
                <span class="level-start">
                    <span class="level-item">十月 2016</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">3</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2016/09/">
                <span class="level-start">
                    <span class="level-item">九月 2016</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">10</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2016/08/">
                <span class="level-start">
                    <span class="level-item">八月 2016</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">8</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2016/07/">
                <span class="level-start">
                    <span class="level-item">七月 2016</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">9</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2016/06/">
                <span class="level-start">
                    <span class="level-item">六月 2016</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">4</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2016/05/">
                <span class="level-start">
                    <span class="level-item">五月 2016</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">8</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2016/04/">
                <span class="level-start">
                    <span class="level-item">四月 2016</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">4</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2015/09/">
                <span class="level-start">
                    <span class="level-item">九月 2015</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">1</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2015/08/">
                <span class="level-start">
                    <span class="level-item">八月 2015</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">3</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2014/04/">
                <span class="level-start">
                    <span class="level-item">四月 2014</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">3</span>
                </span>
            </a>
        </li>
        
        </ul>
        </div>
    </div>
</div>
    
        <div class="card widget">
    <div class="card-content">
        <div class="menu">
            <h3 class="menu-label">
                标签
            </h3>
            <div class="field is-grouped is-grouped-multiline">
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Aandroid实战/">
                        <span class="tag">Aandroid实战</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Android-Studio/">
                        <span class="tag">Android Studio</span>
                        <span class="tag is-grey">5</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Android基础/">
                        <span class="tag">Android基础</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Android实战/">
                        <span class="tag">Android实战</span>
                        <span class="tag is-grey">26</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Android开源库/">
                        <span class="tag">Android开源库</span>
                        <span class="tag is-grey">2</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Android源码/">
                        <span class="tag">Android源码</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Angular/">
                        <span class="tag">Angular</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/BroadcastReceiver/">
                        <span class="tag">BroadcastReceiver</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/CSDN迁移/">
                        <span class="tag">CSDN迁移</span>
                        <span class="tag is-grey">5</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/CentOS/">
                        <span class="tag">CentOS</span>
                        <span class="tag is-grey">3</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/CodeStyle/">
                        <span class="tag">CodeStyle</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Docker/">
                        <span class="tag">Docker</span>
                        <span class="tag is-grey">4</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Drawable/">
                        <span class="tag">Drawable</span>
                        <span class="tag is-grey">2</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/EditText/">
                        <span class="tag">EditText</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/FileProvider/">
                        <span class="tag">FileProvider</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Flex/">
                        <span class="tag">Flex</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Flutter/">
                        <span class="tag">Flutter</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Fragment/">
                        <span class="tag">Fragment</span>
                        <span class="tag is-grey">4</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Framework/">
                        <span class="tag">Framework</span>
                        <span class="tag is-grey">8</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Gank-io/">
                        <span class="tag">Gank.io</span>
                        <span class="tag is-grey">4</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Gitlab/">
                        <span class="tag">Gitlab</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/HAL/">
                        <span class="tag">HAL</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/IDEA插件/">
                        <span class="tag">IDEA插件</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/JetPack/">
                        <span class="tag">JetPack</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Kotlin/">
                        <span class="tag">Kotlin</span>
                        <span class="tag is-grey">6</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/LeetCode/">
                        <span class="tag">LeetCode</span>
                        <span class="tag is-grey">4</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Linux/">
                        <span class="tag">Linux</span>
                        <span class="tag is-grey">6</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/MPAndroidChart/">
                        <span class="tag">MPAndroidChart</span>
                        <span class="tag is-grey">7</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/MacOS/">
                        <span class="tag">MacOS</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Markdown/">
                        <span class="tag">Markdown</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/MultiDex/">
                        <span class="tag">MultiDex</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Mysql/">
                        <span class="tag">Mysql</span>
                        <span class="tag is-grey">2</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/PMDReader/">
                        <span class="tag">PMDReader</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Picasso/">
                        <span class="tag">Picasso</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/PowerDesign/">
                        <span class="tag">PowerDesign</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Realm/">
                        <span class="tag">Realm</span>
                        <span class="tag is-grey">9</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/RecyclerView/">
                        <span class="tag">RecyclerView</span>
                        <span class="tag is-grey">3</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Retrofit/">
                        <span class="tag">Retrofit</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/RxJava/">
                        <span class="tag">RxJava</span>
                        <span class="tag is-grey">2</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Service/">
                        <span class="tag">Service</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Smali/">
                        <span class="tag">Smali</span>
                        <span class="tag is-grey">2</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/TabLayout/">
                        <span class="tag">TabLayout</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Tomcat/">
                        <span class="tag">Tomcat</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/View/">
                        <span class="tag">View</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/WanANdroid/">
                        <span class="tag">WanANdroid</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/WebService/">
                        <span class="tag">WebService</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Xen/">
                        <span class="tag">Xen</span>
                        <span class="tag is-grey">3</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/allowBackup/">
                        <span class="tag">allowBackup</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/事件分发/">
                        <span class="tag">事件分发</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/动画/">
                        <span class="tag">动画</span>
                        <span class="tag is-grey">2</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/四大组件/">
                        <span class="tag">四大组件</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/多线程/">
                        <span class="tag">多线程</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/局域网/">
                        <span class="tag">局域网</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/工具/">
                        <span class="tag">工具</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/布局控件/">
                        <span class="tag">布局控件</span>
                        <span class="tag is-grey">28</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/应用/">
                        <span class="tag">应用</span>
                        <span class="tag is-grey">23</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/开发问题/">
                        <span class="tag">开发问题</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/开机动画/">
                        <span class="tag">开机动画</span>
                        <span class="tag is-grey">2</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/开源/">
                        <span class="tag">开源</span>
                        <span class="tag is-grey">3</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/开源库/">
                        <span class="tag">开源库</span>
                        <span class="tag is-grey">24</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/微信公众号/">
                        <span class="tag">微信公众号</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/快捷键/">
                        <span class="tag">快捷键</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/手电筒/">
                        <span class="tag">手电筒</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/技术选型/">
                        <span class="tag">技术选型</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/文本/">
                        <span class="tag">文本</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/框架/">
                        <span class="tag">框架</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/源码分析/">
                        <span class="tag">源码分析</span>
                        <span class="tag is-grey">3</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/百度地图/">
                        <span class="tag">百度地图</span>
                        <span class="tag is-grey">4</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/系统源码/">
                        <span class="tag">系统源码</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/终端/">
                        <span class="tag">终端</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/聚合数据/">
                        <span class="tag">聚合数据</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/自定义View/">
                        <span class="tag">自定义View</span>
                        <span class="tag is-grey">8</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/虚拟化/">
                        <span class="tag">虚拟化</span>
                        <span class="tag is-grey">3</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/设计模式/">
                        <span class="tag">设计模式</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/译文/">
                        <span class="tag">译文</span>
                        <span class="tag is-grey">15</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/贪吃蛇/">
                        <span class="tag">贪吃蛇</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/资源/">
                        <span class="tag">资源</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/资源配置/">
                        <span class="tag">资源配置</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/辅助工具/">
                        <span class="tag">辅助工具</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/配置/">
                        <span class="tag">配置</span>
                        <span class="tag is-grey">3</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/问题/">
                        <span class="tag">问题</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
            </div>
        </div>
    </div>
</div>
    
    
</div>

            </div>
        </div>
    </section>
    <footer class="footer">
    <div class="container">
        <div class="level">
            <div class="level-start has-text-centered-mobile">
                <a class="footer-logo is-block has-mb-6" href="/">
                
                    <img src="/images/logo.svg" alt="onlyloveyd" height="28">
                
                </a>
                <p class="is-size-7">
                &copy; 2019 yidong&nbsp;
                Powered by <a href="https://hexo.io/" target="_blank">Hexo</a> & <a href="https://github.com/ppoffice/hexo-theme-icarus" target="_blank">Icarus</a>
                
                </p>
            </div>
            <div class="level-end">
            
                <div class="field has-addons is-flex-center-mobile has-mt-5-mobile is-flex-wrap is-flex-middle">
                
                
                <p class="control">
                    <a class="button is-white is-large" target="_blank" title="Creative Commons" href="https://creativecommons.org/">
                        
                        <i class="fab fa-creative-commons"></i>
                        
                    </a>
                </p>
                
                <p class="control">
                    <a class="button is-white is-large" target="_blank" title="Attribution 4.0 International" href="https://creativecommons.org/licenses/by/4.0/">
                        
                        <i class="fab fa-creative-commons-by"></i>
                        
                    </a>
                </p>
                
                <p class="control">
                    <a class="button is-white is-large" target="_blank" title="Download on GitHub" href="https://github.com/ppoffice/hexo-theme-icarus">
                        
                        <i class="fab fa-github"></i>
                        
                    </a>
                </p>
                
                </div>
            
            </div>
        </div>
    </div>
</footer>
    <script src="https://cdn.jsdelivr.net/npm/jquery@3.3.1/dist/jquery.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/moment@2.22.2/min/moment-with-locales.min.js"></script>
<script>moment.locale("zh-CN");</script>


    
    
    
    <script src="/js/animation.js"></script>
    

    
    
    
    <script src="https://cdn.jsdelivr.net/npm/lightgallery@1.6.8/dist/js/lightgallery.min.js" defer></script>
    <script src="https://cdn.jsdelivr.net/npm/justifiedGallery@3.7.0/dist/js/jquery.justifiedGallery.min.js" defer></script>
    <script src="/js/gallery.js" defer></script>
    

    
    

<div id="outdated">
    <h6>Your browser is out-of-date!</h6>
    <p>Update your browser to view this website correctly. <a id="btnUpdateBrowser" href="http://outdatedbrowser.com/">Update
            my browser now </a></p>
    <p class="last"><a href="#" id="btnCloseUpdateBrowser" title="Close">&times;</a></p>
</div>
<script src="https://cdn.jsdelivr.net/npm/outdatedbrowser@1.1.5/outdatedbrowser/outdatedbrowser.min.js" defer></script>
<script>
    document.addEventListener("DOMContentLoaded", function () {
        outdatedBrowser({
            bgColor: '#f25648',
            color: '#ffffff',
            lowerThan: 'flex'
        });
    });
</script>


    
    
<script src="https://cdn.jsdelivr.net/npm/mathjax@2.7.5/unpacked/MathJax.js?config=TeX-MML-AM_CHTML" defer></script>
<script>
document.addEventListener('DOMContentLoaded', function () {
    MathJax.Hub.Config({
        'HTML-CSS': {
            matchFontHeight: false
        },
        SVG: {
            matchFontHeight: false
        },
        CommonHTML: {
            matchFontHeight: false
        },
        tex2jax: {
            inlineMath: [
                ['$','$'],
                ['\\(','\\)']
            ]
        }
    });
});
</script>

    
    

<a id="back-to-top" title="回到顶端" href="javascript:;">
    <i class="fas fa-chevron-up"></i>
</a>
<script src="/js/back-to-top.js" defer></script>


    
    

    
    
    
    

    
    
    
    
    
    <script src="https://cdn.jsdelivr.net/npm/clipboard@2.0.4/dist/clipboard.min.js" defer></script>
    <script src="/js/clipboard.js" defer></script>
    

    
    
    


<script src="/js/main.js" defer></script>

    
    <div class="searchbox ins-search">
    <div class="searchbox-container ins-search-container">
        <div class="searchbox-input-wrapper">
            <input type="text" class="searchbox-input ins-search-input" placeholder="想要查找什么...">
            <span class="searchbox-close ins-close ins-selectable"><i class="fa fa-times-circle"></i></span>
        </div>
        <div class="searchbox-result-wrapper ins-section-wrapper">
            <div class="ins-section-container"></div>
        </div>
    </div>
</div>
<script>
    (function (window) {
        var INSIGHT_CONFIG = {
            TRANSLATION: {
                POSTS: '文章',
                PAGES: '页面',
                CATEGORIES: '分类',
                TAGS: '标签',
                UNTITLED: '(无标题)',
            },
            CONTENT_URL: '/content.json',
        };
        window.INSIGHT_CONFIG = INSIGHT_CONFIG;
    })(window);
</script>
<script src="/js/insight.js" defer></script>
<link rel="stylesheet" href="/css/search.css">
<link rel="stylesheet" href="/css/insight.css">
    
</body>
</html>