<!DOCTYPE html>
<html lang="zh">
<head><meta name="generator" content="Hexo 3.8.0">
    <meta charset="utf-8">
<title>标签: 布局控件 - onlyloveyd</title>
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">



    <meta name="description" content="小码过河，人人喊累">
<meta name="keywords" content="onlyloveyd">
<meta property="og:type" content="website">
<meta property="og:title" content="onlyloveyd">
<meta property="og:url" content="http://yoursite.com/tags/布局控件/index.html">
<meta property="og:site_name" content="onlyloveyd">
<meta property="og:description" content="小码过河，人人喊累">
<meta property="og:locale" content="zh-CN">
<meta property="og:image" content="http://yoursite.com/images/og_image.png">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="onlyloveyd">
<meta name="twitter:description" content="小码过河，人人喊累">
<meta name="twitter:image" content="http://yoursite.com/images/og_image.png">







<link rel="icon" href="/images/favicon.svg">


<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bulma@0.7.2/css/bulma.css">
<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.4.1/css/all.css">
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Ubuntu:400,600|Source+Code+Pro">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/highlight.js@9.12.0/styles/atom-one-light.css">


    
    
    
    <style>body>.footer,body>.navbar,body>.section{opacity:0}</style>
    

    
    
    
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/lightgallery@1.6.8/dist/css/lightgallery.min.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/justifiedGallery@3.7.0/dist/css/justifiedGallery.min.css">
    

    
    

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/outdatedbrowser@1.1.5/outdatedbrowser/outdatedbrowser.min.css">


    
    
    
    

<link rel="stylesheet" href="/css/back-to-top.css">


    
    

    
    
    
    

    
    
<link rel="stylesheet" href="/css/progressbar.css">
<script src="https://cdn.jsdelivr.net/npm/pace-js@1.0.2/pace.min.js"></script>

    
    
    

    
    
    


<link rel="stylesheet" href="/css/style.css">
</head>
<body class="is-3-column">
    <nav class="navbar navbar-main">
    <div class="container">
        <div class="navbar-brand is-flex-center">
            <a class="navbar-item navbar-logo" href="/">
            
                <img src="/images/logo.svg" alt="onlyloveyd" height="28">
            
            </a>
        </div>
        <div class="navbar-menu">
            
            <div class="navbar-start">
                
                <a class="navbar-item" href="/">Home</a>
                
                <a class="navbar-item" href="/archives">Archives</a>
                
                <a class="navbar-item" href="/categories">Categories</a>
                
                <a class="navbar-item" href="/tags">Tags</a>
                
                <a class="navbar-item" href="/about">About</a>
                
            </div>
            
            <div class="navbar-end">
                
                    
                    
                    <a class="navbar-item" target="_blank" title="Download on GitHub" href="https://github.com/ppoffice/hexo-theme-icarus">
                        
                        <i class="fab fa-github"></i>
                        
                    </a>
                    
                
                
                
                <a class="navbar-item search" title="搜索" href="javascript:;">
                    <i class="fas fa-search"></i>
                </a>
                
            </div>
        </div>
    </div>
</nav>
    
    <section class="section">
        <div class="container">
            <div class="columns">
                <div class="column is-8-tablet is-8-desktop is-6-widescreen has-order-2 column-main"><div class="card">
    <div class="card-content">
        <nav class="breadcrumb" aria-label="breadcrumbs">
        <ul>
            <li><a href="/tags">标签</a></li>
            <li class="is-active"><a href="#" aria-current="page">布局控件</a></li>
        </ul>
        </nav>
    </div>
</div>

    <div class="card">
    
    <div class="card-content article ">
        
        <div class="level article-meta is-size-7 is-uppercase is-mobile is-overflow-x-auto">
            <div class="level-left">
                <time class="level-item has-text-grey" datetime="2018-10-14T09:13:24.000Z">2018-10-14</time>
                
                <div class="level-item">
                <a class="has-link-grey -link" href="/categories/Android基础/">Android基础</a>
                </div>
                
                
                <span class="level-item has-text-grey">
                    
                    
                    40 分钟 读完 (大约 5946 个字)
                </span>
                
                
            </div>
        </div>
        
        <h1 class="title is-size-3 is-size-4-mobile has-text-weight-normal">
            
                <a class="has-link-black-ter" href="/2018/10/14/《Android 基础（四十九）》Navigation Of JetPack【译】/">《Android 基础（四十九）》Navigation Of JetPack【译】</a>
            
        </h1>
        <div class="content">
            <blockquote>
<p>原文地址:<br> <a href="https://developer.android.google.cn/topic/libraries/architecture/navigation/" target="_blank" rel="noopener">https://developer.android.google.cn/topic/libraries/architecture/navigation/</a></p>
</blockquote>
<h1 id="介绍"><a href="#介绍" class="headerlink" title="介绍"></a><a href></a>介绍</h1><blockquote>
<p>Jetpack是Android软件组件的集合，可以使你更轻松地开发出色的Android应用程序。这些组件可帮助你遵循最佳实践，免除编写样板代码并简化复杂任务，因此你可以专注于开发者更关系的业务代码。Jetpack包含androidx.*库中，与平台API分开。这意味着它提供向后兼容性并且比Android平台更频繁地更新，确保你始终可以访问最新和最好的Jetpack组件版本。<br> Navigation组件简化了Android应用程序中导航的实现。</p>
</blockquote>
<h1 id="Navigation原则"><a href="#Navigation原则" class="headerlink" title="Navigation原则"></a><a href></a>Navigation原则</h1><p> 任何应用内导航的目标应该是为用户提供一致且可预测的体验。为了实现这一目标，Navigation架构组件可帮助你构建符合以下每个导航原则的应用程序。</p>
<h2 id="应用具有固定的起点"><a href="#应用具有固定的起点" class="headerlink" title="应用具有固定的起点"></a><a href></a>应用具有固定的起点</h2><p> 应用应该具有固定起点，即用户从启动器启动应用时看到的界面。此起点也应该是用户在按下后退按钮后返回启动器时看到的最后一个界面。</p>
<blockquote>
<p>应用可能存在第一次使用时的设置界面或者登陆界面，这种特殊性的界面不应该被视为应用的起点。</p>
</blockquote>
<h2 id="堆栈用来代表应用的“导航状态”"><a href="#堆栈用来代表应用的“导航状态”" class="headerlink" title="堆栈用来代表应用的“导航状态”"></a><a href></a>堆栈用来代表应用的“导航状态”</h2><p> 应用的导航状态应使用后进先出的结构表示。此“导航堆栈”中堆栈底部为应用程序的起始界面，而栈顶为当前界面。<br> 改变此堆栈的操作必须全部集中在栈顶，要么“pushing”一个新的目标到栈顶，要们从栈顶“poping”一个目标出栈。</p>
<h2 id="“向上”按钮永远不会退出应用"><a href="#“向上”按钮永远不会退出应用" class="headerlink" title="“向上”按钮永远不会退出应用"></a><a href></a>“向上”按钮永远不会退出应用</h2><p> 起点界面中不应该出现向上按钮。当应用是通过其他应用使用deeplink的方式启动时，向上按钮应该将用户带回上层界面而不是当时启动此应用的其他应用。</p>
<h2 id="Up和Back在应用程序任务中是等效的"><a href="#Up和Back在应用程序任务中是等效的" class="headerlink" title="Up和Back在应用程序任务中是等效的"></a><a href></a>Up和Back在应用程序任务中是等效的</h2><p> 当系统返回键不会导致应用程序退出时，如在应用程序的任务栈中，当前用户不处于起点界面，这个时候系统返回键就不会退出应用。这种情况下呢，我们的Up按钮操作应该和系统返回键的操作效果相同。</p>
<h2 id="DeepLink或者Navigate至相同界面生成相同的堆栈"><a href="#DeepLink或者Navigate至相同界面生成相同的堆栈" class="headerlink" title="DeepLink或者Navigate至相同界面生成相同的堆栈"></a><a href></a>DeepLink或者Navigate至相同界面生成相同的堆栈</h2><p> 用户可以在起始界面进入应用程序并导航到一个目标界面。如果可以的话，用户同样可以通过deeplink，跳转到相同的目标界面。上面这两种情况下，针对目标界面，我们应该产生相同的目标堆栈。说白了就是，无论他们如何到达目标界面，用户应该能够使用“Back”或“Up”按钮，都可以在目标界面导航回到起始界面。清除已有导航栈，取而代之的是deeplink的导航栈。</p>
<h1 id="使用Navigation架构组件实现导航"><a href="#使用Navigation架构组件实现导航" class="headerlink" title="使用Navigation架构组件实现导航"></a><a href></a>使用Navigation架构组件实现导航</h1><p> Navigation架构组件简化了应用中_destinations_之间导航的实现。一组目标界面组成应用程序的_navigation graph_。</p>
<p> 目的地是你可以在应用中导航到的任何位置。虽然目标通常是代表特定屏幕的Fragment，但Navigation架构组件支持其他目标类型：</p>
<ul>
<li>Activity </li>
<li>导航图和子图 - 当目标是导航图或子图时，导航到该图或子图的起始目标 </li>
<li>自定义目标类型  除目标之外，导航图还在称为_actions_的目标之间建立连接。图1显示了一个示例应用程序的导航图的直观表示，该应用程序包含由5个操作连接的6个目标。<br><img src="http://www.onlyloveyd.cn/upload/2018/10/08e23enm8ghsircn8ifi9cknnf.png" alt="alt"></li>
</ul>
<h2 id="项目中构建Navigation"><a href="#项目中构建Navigation" class="headerlink" title="项目中构建Navigation"></a><a href></a>项目中构建Navigation</h2><p> 在创建导航图之前，必须为项目配置导航架构组件。要在Android Studio中设置项目，请执行以下步骤：  </p>
<ol start="2">
<li>如果使用Beta，Release Candidate或Stable构建，则必须启用导航编辑器。点击<strong>File &gt; Settings(Android Studio &gt; Preferences</strong>on Mac)，在左侧菜单中选择<strong>Experimental</strong>，然后勾选<strong>Enable Navigation Editor</strong>并且重启Android Studio。 </li>
<li>在应用或者模块的build.gradle中添加Navigation组件  <figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">dependencies &#123;</span><br><span class="line">    def nav_version = &quot;1.0.0-alpha06&quot;</span><br><span class="line"></span><br><span class="line">    implementation &quot;android.arch.navigation:navigation-fragment:$nav_version&quot; // use -ktx for Kotlin</span><br><span class="line">    implementation &quot;android.arch.navigation:navigation-ui:$nav_version&quot; // use -ktx for Kotlin</span><br><span class="line"></span><br><span class="line">    // optional - Test helpers</span><br><span class="line">    androidTestImplementation &quot;android.arch.navigation:navigation-testing:$nav_version&quot; // use -ktx for Kotlin</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


</li>
</ol>
<ol start="2">
<li><p>项目工程窗口，右键点击<strong>res</strong>目录并且选择<strong>New &gt; Android Resource File</strong>。<strong>New Resource File</strong>对话框出现。 </p>
</li>
<li><p>在输入框中键入一个<strong>File name</strong>，如“nav_graph”。 </p>
</li>
<li><p>在<strong>Resource type</strong>下拉框中选择<strong>Navigation</strong>。 </p>
</li>
<li><p>点击<strong>OK</strong>后，将进行下列操作  </p>
<ul>
<li>navigation目录将出现在res目录下 </li>
<li>nav_graph.xml文件将被创建于navigation目录下 </li>
<li>nav_graph.xml将被导航编辑器打开。这个xml文件中包含你的导航视图。   </li>
</ul>
</li>
<li><p>点击<strong>Text</strong>切换到xml文本视图。一个空的导航视图如下：</p>
<figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">     &lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;</span><br><span class="line">&lt;navigation xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;</span><br></pre></td></tr></table></figure>

  <figure class="highlight plain hljs"><figcaption><span>点击**Design**切换到导航编辑视图。 </span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line">## []()看看导航编辑器</span><br><span class="line"></span><br><span class="line"> 在导航编辑器中，你可以快速构建导航图，而不是手动构建图形的XML。如下图所示，导航编辑器有三个部分：</span><br><span class="line"></span><br><span class="line"> ![alt](http://www.onlyloveyd.cn/upload/2018/10/qkqqribmrihonp7t4bj1s11mn8.png)</span><br><span class="line"></span><br><span class="line"> 导航编辑器的三部分如下：</span><br><span class="line"></span><br><span class="line">  </span><br><span class="line">  2. “目标”列表 - 列出“导航图编辑器”中当前的所有目标。 </span><br><span class="line">  4. 导航图编辑器 - 包含导航图的可视化表示。 </span><br><span class="line">  6. 属性编辑器 - 包含与导航图中的目标或操作关联的属性。  </span><br><span class="line">## []()明确目的地</span><br><span class="line"></span><br><span class="line"> 创建导航图的第一步是确定应用的目的地。你可以创建空白目标或从现有项目中的Fragment和Activity创建目标。  </span><br><span class="line"> 要确定应用的目标，请使用以下步骤：</span><br><span class="line"></span><br><span class="line">  </span><br><span class="line">  2. 在“导航图编辑器”中，单击**New Destination**出现**New Destination**对话框。 </span><br><span class="line">  4. 点击**Create blank destination**或者点击一个Fragment或者Activity。一个新的**Android Component**对话框将会出现 </span><br><span class="line">  6. 键入名称到**Fragment Name**，作为新建Fragment的类名。 </span><br><span class="line">  8. 键入名称到**Fragment Layout Name**，作为新建Fragment的布局名称。 </span><br><span class="line">  10. 点击**Finish**。表示目标的框显示在“导航图编辑器”和“目标”列表中。然后将进行下列内部操作：  </span><br><span class="line">       * 如果你创建了空白目标，则“导航图编辑器”会在目标中显示消息“Hello blank fragment”。如果单击Fragment或Activity，则“导航图编辑器”将显示该Activity或Fragment的布局预览。 </span><br><span class="line">       * 为项目创建Fragment子类。此类具有在步骤3中指定的名称 </span><br><span class="line">       * 为项目创建资源文件。此文件具有在步骤4中指定的名称  </span><br><span class="line">          下图显示空白和现有目的地。  </span><br><span class="line">          ![alt](http://www.onlyloveyd.cn/upload/2018/10/p6qpdrsr5ij16p4skflhq77a2p.png)   </span><br><span class="line">  12. 单击新插入的目标以突出显示目标。 “属性”面板中显示以下属性：  </span><br><span class="line">       * Type字段包含“Fragment”或“Activity”，以指示目标是否在源代码中实现为Fragment或Activity </span><br><span class="line">       * Label字段包含目标XML布局文件名 </span><br><span class="line">       * ID字段包含将用于在代码中引用目标的目标ID </span><br><span class="line">       * Class字段包含目标类的名称   </span><br><span class="line">  14. 单击**Text**选项卡以切换到XML文本视图。 XML现在包含基于现有类和布局文件的名称的id，名称（类名），标签和布局属性。具体如下：</span><br></pre></td></tr></table></figure>

</li>
</ol>
<?xml version="1.0" encoding="utf-8"?>
<p><navigation xmlns:app="http://schemas.android.com/apk/res-auto" xmlns:tools="http://schemas.android.com/tools" xmlns:android="http://schemas.android.com/apk/res/android" app:startdestination="@id/blankFragment"><br>    <fragment android:id="@+id/blankFragment" android:name="com.example.cashdog.cashdog.BlankFragment" android:label="Blank" tools:layout="@layout/fragment_blank"><br></fragment></navigation></p>
<figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"> </span><br><span class="line">## []()目的地之间建立衔接</span><br><span class="line"></span><br><span class="line"> 有多个目的地时才能建立连接。以下是包含两个空白目标的导航图的XML：</span><br></pre></td></tr></table></figure>

<p><navigation xmlns:app="http://schemas.android.com/apk/res-auto" xmlns:tools="http://schemas.android.com/tools" xmlns:android="http://schemas.android.com/apk/res/android" app:startdestination="@id/blankFragment"><br>    <fragment android:id="@+id/blankFragment" android:name="com.example.cashdog.cashdog.BlankFragment" android:label="fragment_blank" tools:layout="@layout/fragment_blank"><br>    <fragment android:id="@+id/blankFragment2" android:name="com.example.cashdog.cashdog.BlankFragment2" android:label="Blank2" tools:layout="@layout/fragment_blank_fragment2"><br></fragment></fragment></navigation></p>
<figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">我们通过actions来连接目的地。如下步骤连接目的地：</span><br><span class="line"></span><br><span class="line"> </span><br><span class="line"> 2. 在导航图编辑器中，将鼠标悬停在你希望用户导航的目标的右侧。目的地上会出现一个圆圈。  </span><br><span class="line">     ![alt](http://www.onlyloveyd.cn/upload/2018/10/0tb4sakcu8iilqp2oft9ui71re.png) </span><br><span class="line"> 4. 单击并按住，将光标拖动到希望用户导航到的目标上，然后释放。绘制一条线以指示两个目的地之间的导航。  </span><br><span class="line">     ![alt](http://www.onlyloveyd.cn/upload/2018/10/5mshju8q06hu5o0d2rb3s0aqv0.png) </span><br><span class="line"> 6. 点击箭头凸显Actions。如下属性将出现在属性界面：  </span><br><span class="line">      * Type字段显示“Action” </span><br><span class="line">      * ID字段包含系统为操作分配的ID </span><br><span class="line">      * Destination字段包含目标Fragment或Activity的ID   </span><br><span class="line"> 8. 单击**Text**选项卡以切换到XML视图。已将一个**action**元素添加到父目标。该操作具有系统分配的ID和目标属性，其中包含下一个目标的ID。例如:</span><br></pre></td></tr></table></figure>

<?xml version="1.0" encoding="utf-8"?>
<p><navigation xmlns:app="http://schemas.android.com/apk/res-auto" xmlns:tools="http://schemas.android.com/tools" xmlns:android="http://schemas.android.com/apk/res/android" app:startdestination="@id/blankFragment"><br>    <fragment android:id="@+id/blankFragment" android:name="com.example.cashdog.cashdog.BlankFragment" android:label="fragment_blank" tools:layout="@layout/fragment_blank"><br>        <action android:id="@+id/action_blankFragment_to_blankFragment2" app:destination="@id/blankFragment2"><br>    </action></fragment><br>    <fragment android:id="@+id/blankFragment2" android:name="com.example.cashdog.cashdog.BlankFragment2" android:label="fragment_blank_fragment2" tools:layout="@layout/fragment_blank_fragment2"><br></fragment></navigation></p>
<figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"> </span><br><span class="line">## []()将界面指定为起始目的地</span><br><span class="line"></span><br><span class="line"> 导航图编辑器在应用程序的第一个目标名称旁边放置一个房屋图标。此图标表示这是导航图中的起始目标。你可以使用以下步骤将另一个目标指定为起始目标：</span><br><span class="line"></span><br><span class="line">  </span><br><span class="line">  2. 从导航图编辑器中，单击目标凸显； </span><br><span class="line">  4. 单击“属性”面板中的**Set Start Destination**。选中目的地现在是起始目的地。  </span><br><span class="line">## []()修改Activity以支持Navigation</span><br><span class="line"></span><br><span class="line"> Activity通过在布局中添加NavHost界面来托管应用程序的导航。 NavHost是一个空视图，当用户浏览应用程序时，目的地会被换入和换出。  </span><br><span class="line"> 在Navigation架构组件中的默认NavHost实现是NavHostFragment。  </span><br><span class="line"> 在布局中添加NavHost以后，我们需要使用navGraph属性来将我们的导航图和NavHostFragment联系起来。</span><br></pre></td></tr></table></figure>

<?xml version="1.0" encoding="utf-8"?>
<p>&lt;android.support.constraint.ConstraintLayout<br>    xmlns:android=”<a href="http://schemas.android.com/apk/res/android&quot;" target="_blank" rel="noopener">http://schemas.android.com/apk/res/android&quot;</a><br>    xmlns:app=”<a href="http://schemas.android.com/apk/res-auto&quot;" target="_blank" rel="noopener">http://schemas.android.com/apk/res-auto&quot;</a><br>    xmlns:tools=”<a href="http://schemas.android.com/tools&quot;" target="_blank" rel="noopener">http://schemas.android.com/tools&quot;</a><br>    android:layout_width=”match_parent”<br>    android:layout_height=”match_parent”<br>    tools:context=”.MainActivity”&gt;</p>
<pre><code>&lt;fragment
    android:layout_width=&quot;match_parent&quot;
    android:layout_height=&quot;match_parent&quot;
    android:id=&quot;@+id/my_nav_host_fragment&quot;
    android:name=&quot;androidx.navigation.fragment.NavHostFragment&quot;
    app:navGraph=&quot;@navigation/nav_graph&quot;
    app:defaultNavHost=&quot;true&quot;
    /&gt;</code></pre><p>&lt;/android.support.constraint.ConstraintLayout&gt;</p>
<figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">上面的例子中包含“app:defaultNavHost=&quot;true&quot;属性，这个属性保证来NavHostFragment可拦截系统返回键的事件。你可以覆写AppCompatActivity.onSupportNavigateUp()方法并调用NavController.navigateUp，如下所示：</span><br></pre></td></tr></table></figure>

<p>@Override<br>public boolean onSupportNavigateUp() {<br>    return Navigation.findNavController(this, R.id.nav_host_fragment).navigateUp();<br>}</p>
<figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"> </span><br><span class="line">### []()以编程方式创建NavHostFragment</span><br><span class="line"></span><br><span class="line"> 你也可以使用NavHostFragment.create()以编程方式创建具有特定图形资源的NavHostFragment，如下例所示：</span><br></pre></td></tr></table></figure>

<p>NavHostFragment finalHost = NavHostFragment.create(R.navigation.example_graph);<br>getSupportFragmentManager().beginTransaction()<br>    .replace(R.id.nav_host, finalHost)<br>    .setPrimaryNavigationFragment(finalHost) // this is the equivalent to app:defaultNavHost=”true”<br>    .commit();</p>
<figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"> </span><br><span class="line">## []()绑定目的地跳转到UI Widgets</span><br><span class="line"></span><br><span class="line"> 使用NavController类导航到目标。可以使用以下静态方法之一拿到NavController：</span><br><span class="line"></span><br><span class="line">  </span><br><span class="line">  * NavHostFragment.findNavController(Fragment) </span><br><span class="line">  * Navigation.findNavController(Activity, @IdRes int viewId) </span><br><span class="line">  * Navigation.findNavController(View)  拿到NavController以后，我们可以通过使用navigate()方法跳转到对应的目的地。navigate()方法接受一个resId作为参数。ID可以是导航图中特定目的地的ID或导航图中的 action ID。使用Action ID，相较于使用目的地ID有一些优势，如和导航相关的过渡效果。如下代码展示如何跳转到ViewTransactionsFragment：</span><br></pre></td></tr></table></figure>

<p>viewTransactionsButton.setOnClickListener(new View.OnClickListener() {<br>    @Override<br>    public void onClick(View view) {<br>        Navigation.findNavController(view).navigate(R.id.viewTransactionsAction);<br>    }<br>});</p>
<figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Android系统维护一个包含最后访问目的地的后栈。当用户打开应用程序时，应用程序的第一个目标位于堆栈中。每次调用navigate（）方法都会将另一个目标放在堆栈顶部。相反，按向上或向后按钮分别调用NavController.navigateUp（）和NavController.popBackStack（）方法，以从堆栈中弹出顶部目标。  </span><br><span class="line">对于按钮，你还可以使用Navigation类的createNavigateOnClickListener（）便捷方法导航到目标：</span><br></pre></td></tr></table></figure>

<p>button.setOnClickListener(Navigation.createNavigateOnClickListener(R.id.next_fragment, null));</p>
<figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"> </span><br><span class="line">### []()将目标绑定到菜单驱动的UI组件</span><br><span class="line"></span><br><span class="line"> 你可以通过在抽屉导航菜单或者是溢出菜单的xml中配置对应的目标ID来关联两者。以下代码段显示了详细信息界面目标，其ID为details_page_fragment</span><br></pre></td></tr></table></figure>

<p><fragment android:id="@+id/details_page_fragment" android:label="@string/details" android:name="com.example.android.myapp.DetailsFragment"></fragment></p>
<figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">目的地和菜单项使用同一个ID将会让两者自动关联。如下代码将展示如何让一个目的地和一个抽屉菜单关联（如menu_nav_drawer.xml）</span><br></pre></td></tr></table></figure>

<p><item android:id="@id/details_page_fragment" android:icon="@drawable/ic_details" android:title="@string/details"></item></p>
<figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">下面这段xml将展示如何将一个目的地和一个溢出菜单项关联（如menu_overflow.xml）</span><br></pre></td></tr></table></figure>

<p>&lt;item<br>    android:id=”@id/details_page_fragment”<br>    android:icon=”@drawable/ic_details”<br>    android:title=”@string/details”<br>    android:menuCategory:”secondary” /&gt;</p>
<figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Navigation架构组件包含一个NavigationUI类。这个类中有几个静态方法可以用来关联菜单和目的地。例如，以下代码显示如何使用setupWithNavController（）方法将抽屉菜单项连接到NavigationView。</span><br></pre></td></tr></table></figure>

<p>NavigationView navigationView = (NavigationView) findViewById(R.id.nav_view);<br>NavigationUI.setupWithNavController(navigationView, navController);</p>
<figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"> 有必要使用这些NavigationUI方法设置菜单驱动的导航组件，以便这些UI元素的状态与NavController的更改保持同步。</span><br><span class="line"></span><br><span class="line"> </span><br><span class="line">## []()在目的地之间传递数据</span><br><span class="line"></span><br><span class="line"> 你可以通过两种方式在目标之间传递数据：使用Bundle对象或使用safe args Gradle插件以类型安全的方式传递数据。按照以下步骤使用Bundle对象在目标之间传递数据：</span><br><span class="line"></span><br><span class="line">  </span><br><span class="line">  2. 在导航图编辑器中，单击接收参数的目标位置。 </span><br><span class="line">  4. 在属性面板的Arguments一栏中点击**Add (+)**，将会出现空名称和默认值字段。 </span><br><span class="line">  6. 双击名称并输入参数的名称 </span><br><span class="line">  8. 按Tab键切换到参数值文本框并输入参数的默认值 </span><br><span class="line">  10. 点击此目标左边的action 箭头，属性面板将会出现我们刚才添加的参数 </span><br><span class="line">  12. 点击**Text**切换到文本视图，对应的属性名称和默认值印入眼帘。</span><br></pre></td></tr></table></figure>

<p><fragment android:id="@+id/confirmationFragment" android:name="com.example.cashdog.cashdog.ConfirmationFragment" android:label="fragment_confirmation" tools:layout="@layout/fragment_confirmation"><br>   <argument android:name="amount" android:defaultvalue="”0”"></argument></fragment></p>
<figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">2. 在代码中，创建一个bundle对象并通过navigate（）方法将其传递到目标</span><br></pre></td></tr></table></figure>

<p>Bundle bundle = new Bundle();<br>bundle.putString(“amount”, amount);<br>Navigation.findNavController(view).navigate(R.id.confirmationAction, bundle);</p>
<figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">接收方采用如下方式</span><br></pre></td></tr></table></figure>

<p>TextView tv = view.findViewById(R.id.textViewAmount);<br>tv.setText(getArguments().getString(“amount”));</p>
<figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"> </span><br><span class="line">## []()添加侦听器以处理导航事件</span><br><span class="line"></span><br><span class="line"> 你可以使用addOnNavigatedListener（）方法将OnNavigatedListener添加到NavController。OnNavigatedListener在控制器导航到新目标时接收事件。你可以使用此处理程序进行特定于目标的更改，例如显示或隐藏某些UI元素。调用addOnNavigatedListener（）时，如果当前目标存在，则立即将其发送给您的侦听器。</span><br><span class="line"></span><br><span class="line"> </span><br><span class="line">## []()以类型安全的方式在目标之间传递数据</span><br><span class="line"></span><br><span class="line"> Navigation 架构组件有一个Gradle插件，称为safeargs，它生成简单的对象和构建器类，以便对目标和操作指定的参数进行类型安全访问。Safe args建立在Bundle方法的基础之上，但需要一些额外的代码来换取更多类型的安全性。如果你使用的是Gradle，则可以使用safe args插件。要添加此插件，请将“androidx.navigation.safeargs”插件添加到build.gradle。</span><br></pre></td></tr></table></figure>

<p>apply plugin: ‘com.android.application’<br>apply plugin: ‘androidx.navigation.safeargs’</p>
<p>android {<br>   //…<br>}</p>
<figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">配置Gradle插件后，请按照以下步骤使用类型安全的args：</span><br><span class="line"></span><br><span class="line"> </span><br><span class="line"> 2. 在导航图编辑器中，单击接收参数的目标位置。 </span><br><span class="line"> 4. 在属性面板的Arguments一栏中点击**Add (+)**，将会出现空名称和默认值字段。 </span><br><span class="line"> 6. 双击名称并输入参数的名称 </span><br><span class="line"> 8. 按Tab键切换到参数类型下拉列表，选择参数类型 </span><br><span class="line"> 10. 按Tab键切换到参数值文本框并输入参数的默认值 </span><br><span class="line"> 12. 点击此目标左边的action 箭头，属性面板将会出现我们刚才添加的参数 </span><br><span class="line"> 14. 点击**Text**切换到文本视图，对应的属性名称和默认值印入眼帘。</span><br></pre></td></tr></table></figure>

<p><fragment android:id="@+id/confirmationFragment" android:name="com.example.buybuddy.buybuddy.ConfirmationFragment" android:label="fragment_confirmation" tools:layout="@layout/fragment_confirmation"><br>    <argument android:name="amount" android:defaultvalue="1" app:type="integer"><br></argument></fragment></p>
<figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">使用safeargs插件生成代码时，会为action以及发送和接收目标创建简单对象和构建器类。这些类是：</span><br><span class="line"></span><br><span class="line"> </span><br><span class="line"> * 一个针对目的地的类，包含action相关内容，以“Directions”结尾  </span><br><span class="line">    所以，如果一个名为SpecifyAmountFragment的类，则生成对应的类为SpecifyAmountFragmentDirections，类中有一个和action相关的方法用来传递参数如confirmationAction() </span><br><span class="line"> * 一个内部类，其名称基于用于传递参数的action。如果action的名称为confirmationAction，则这个类名为ConfirmationAction </span><br><span class="line"> * 传递参数的目标的类，以“Args”结尾  </span><br><span class="line">    所以，如果目的地为ConfirmationFragment，生成的参数类则为ConfirmationFragmentArgs，使用此类中的fromBundle()方法来解析对应的参数。  以下代码显示如何使用这些方法设置参数并将其传递给navigate（）方法。</span><br></pre></td></tr></table></figure>

<p>@Override<br>public void onClick(View view) {<br>   EditText amountTv = (EditText) getView().findViewById(R.id.editTextAmount);<br>   int amount = Integer.parseInt(amountTv.getText().toString());<br>   ConfirmationAction action =<br>           SpecifyAmountFragmentDirections.confirmationAction()<br>   action.setAmount(amount)<br>   Navigation.findNavController(view).navigate(action);<br>}</p>
<figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">在接收目标的代码中，使用getArguments（）方法拿到bundle并使用其内容。</span><br></pre></td></tr></table></figure>

<p>@Override<br>public void onViewCreated(View view, @Nullable Bundle savedInstanceState) {<br>    TextView tv = view.findViewById(R.id.textViewAmount);<br>    int amount = ConfirmationFragmentArgs.fromBundle(getArguments()).getAmount();<br>    tv.setText(amount + “”)<br>}</p>
<figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"> </span><br><span class="line">## []()将目标分组为嵌套导航图</span><br><span class="line"></span><br><span class="line"> 可以将一系列目的地分组为导航图中的子图。子图称为嵌套图，而包含图称为“根图”。嵌套图对于组织和重用应用程序UI的各个部分非常有用，例如单独的登录流程。与根图一样，嵌套图必须也有一个起始目标。嵌套图形封装了它的目的地;嵌套图外部的目标（例如根图上的目标）仅通过其起始目标访问嵌套图。下图显示了简单汇款应用程序的导航图。该图有两个流程：允许用户汇款的流程和允许用户查看其余额的流程。  </span><br><span class="line"> ![alt](http://www.onlyloveyd.cn/upload/2018/10/1hllf7kaoohfapuo4tujp0fgr4.png)</span><br><span class="line"></span><br><span class="line"> 分组目的地为嵌套图，可进行如下步骤：</span><br><span class="line"></span><br><span class="line">  </span><br><span class="line">  2. 在“导航图编辑器”中，按住shift并单击要包含在嵌套图形中的目标。每个目的地都突出显示。 </span><br><span class="line">  4. 打开上下文菜单，然后选择**Move to Nested Graph &gt; New Graph**。目标包含在嵌套图中。下图显示了Graph Editor中的嵌套图。  </span><br><span class="line">      ![alt](http://www.onlyloveyd.cn/upload/2018/10/uc0fq8jn00jfbq2uq4jlg3g41o.png) </span><br><span class="line">  6. 单击嵌套图以突出显示它。 “属性”面板中显示以下属性：  </span><br><span class="line">       * Type字段为Nested Graph </span><br><span class="line">       * ID字段包含嵌套图的系统分配ID。此ID用于引用代码中的嵌套图   </span><br><span class="line">  8. 双击嵌套图。将显示嵌套图中的目标。 </span><br><span class="line">  10. 在“目标”列表中，单击**“Root”**以返回到根导航图 </span><br><span class="line">  12. 点击**Text**切换到文本视图。一个嵌套导航图被加入到导航图中。此导航图具有自己的收尾呼应的navigation元素。此嵌套图的ID为sendMoneyGraph，startDestination属性指向嵌套图中的第一个目标（chooseRecipient）</span><br></pre></td></tr></table></figure>

<?xml version="1.0" encoding="utf-8"?>
<p><navigation xmlns:app="http://schemas.android.com/apk/res-auto" xmlns:tools="http://schemas.android.com/tools" xmlns:android="http://schemas.android.com/apk/res/android" app:startdestination="@id/mainFragment"><br>   <fragment android:id="@+id/mainFragment" android:name="com.example.cashdog.cashdog.MainFragment" android:label="fragment_main" tools:layout="@layout/fragment_main"><br>       <action android:id="@+id/action_mainFragment_to_chooseRecipient" app:destination="@id/sendMoneyGraph"><br>       <action android:id="@+id/action_mainFragment_to_viewBalanceFragment" app:destination="@id/viewBalanceFragment"><br>   </action></action></fragment><br>   <fragment android:id="@+id/viewBalanceFragment" android:name="com.example.cashdog.cashdog.ViewBalanceFragment" android:label="fragment_view_balance" tools:layout="@layout/fragment_view_balance"><br>   <navigation android:id="@+id/sendMoneyGraph" app:startdestination="@id/chooseRecipient"><br>       <fragment android:id="@+id/chooseRecipient" android:name="com.example.cashdog.cashdog.ChooseRecipient" android:label="fragment_choose_recipient" tools:layout="@layout/fragment_choose_recipient"><br>           <action android:id="@+id/action_chooseRecipient_to_chooseAmountFragment" app:destination="@id/chooseAmountFragment"><br>       </action></fragment><br>       <fragment android:id="@+id/chooseAmountFragment" android:name="com.example.cashdog.cashdog.ChooseAmountFragment" android:label="fragment_choose_amount" tools:layout="@layout/fragment_choose_amount"><br>   </fragment></navigation><br></fragment></navigation></p>
<figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">2. 在代码中，将连接根图的操作的资源ID传递给嵌套图</span><br></pre></td></tr></table></figure>

<p>Navigation.findNavController(view).navigate(R.id.action_mainFragment_to_sendMoneyGraph);</p>
<figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"> </span><br><span class="line">## []()使用引用其他导航图</span><br></pre></td></tr></table></figure>

<include app:graph="@navigation/included_graph">

<figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"> </span><br><span class="line">## []()为目标创建Deep Link</span><br><span class="line"></span><br><span class="line"> 在Android中，deep link是指向应用中特定目标的URI。当你希望跳转到特定目的地以在应用中执行某项任务  </span><br><span class="line"> 时，这些URI非常有用，例如汇款流程，允许用户快速汇款给某人。</span><br><span class="line"></span><br><span class="line"> </span><br><span class="line">### []()给目的地添加Deep Link</span><br><span class="line"></span><br><span class="line"> 要在导航图中为目标添加Deep Link，请执行以下操作：</span><br><span class="line"></span><br><span class="line">  </span><br><span class="line">  2. 从导航图编辑器中，为deep link选择一个destination </span><br><span class="line">  4. 单击“属性”面板的“Deep Link”部分中的+。将出现“Add Deep Link ”对话框。 </span><br><span class="line">  6. 在URI字段中键入URI，例如“[www.cashdog.com/sendmoney”，它表示应用程序中发送货币嵌套图的起始目标。请注意以下事项：](http://www.cashdog.com/sendmoney%E2%80%9D%EF%BC%8C%E5%AE%83%E8%A1%A8%E7%A4%BA%E5%BA%94%E7%94%A8%E7%A8%8B%E5%BA%8F%E4%B8%AD%E5%8F%91%E9%80%81%E8%B4%A7%E5%B8%81%E5%B5%8C%E5%A5%97%E5%9B%BE%E7%9A%84%E8%B5%B7%E5%A7%8B%E7%9B%AE%E6%A0%87%E3%80%82%E8%AF%B7%E6%B3%A8%E6%84%8F%E4%BB%A5%E4%B8%8B%E4%BA%8B%E9%A1%B9%EF%BC%9A)  </span><br><span class="line">       * 没有scheme的URI被假定为http和https。例如 [www.cashdog.com](http://www.cashdog.com) 匹配 [http://www.cashdog.com](http://www.cashdog.com) 和https://www.cashdog.com。 </span><br><span class="line">       * 占位符以&#123;placeholder_name&#125;的形式匹配1个或多个字符。占位符的String值在参数Bundle中可用，并带有相同名称的键。例如http://www.example.com/users/&#123;id&#125; 匹配 [http://www.example.com/users/4](http://www.example.com/users/4) </span><br><span class="line">       * .*通配符可用于匹配0个或多个字符   </span><br><span class="line">  8. (可选）选中“自动验证”以要求Google验证URI的所有者 </span><br><span class="line">  10. 单击添加。所选目标上方会显示一个链接图标，表示该目标具有Deep Link </span><br><span class="line">  12. 单击**Text**选项卡以切换到XML视图。已将嵌套的Deep Link元素添加到目标.</span><br></pre></td></tr></table></figure>

<deeplink app:uri="https://cashdog.com/sendmoney">

<figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"> </span><br><span class="line">### []()为Deep Link添加意图过滤</span><br><span class="line"></span><br><span class="line"> 你必须在manifest.xml文件增加额外内容来启用Deep Link。</span><br><span class="line"></span><br><span class="line">  </span><br><span class="line">  * 在Android Studio3.0和3.1中，你必须手动添加intent-filter元素。 </span><br><span class="line">  * 在Android Studio3.2+版本中，你可以通过添加**nav-graph**元素到Activity 中来实现。</span><br></pre></td></tr></table></figure>

<activity name=".MainActivity">
    <nav-graph android:value="@navigation/main_nav">
</nav-graph></activity>

<figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"> 作为清单合并构建步骤的一部分，此元素将替换为匹配导航图中所有deeplink所需的生成的元素</span><br><span class="line"></span><br><span class="line"> </span><br><span class="line">### []()以编程方式使用NavDeepLinkBuil创建Deep Link</span><br><span class="line"></span><br><span class="line"> 你可以使用NavDeepLinkBuilder类构造PendingIntent，将用户带到特定目标界面。  </span><br><span class="line"> 触发此deep link时，将清除任务后台堆栈并替换为deep link目标界面。</span><br><span class="line"></span><br><span class="line"> 嵌套图形时，每个嵌套级别的起始目标（即层次结构中每个元素的起始目标）也会添加到堆栈中。  </span><br><span class="line"> 你可以使用NavDeepLinkBuilder（Context）直接构造PendingIntent，如下例所示。请注意，如果提供的上下文不是Activity，则构造函数使用PackageManager.getLaunchIntentForPackage（）作为要启动的默认Activity（如果可用）。</span><br></pre></td></tr></table></figure>

<p>PendingIntent pendingIntent = new NavDeepLinkBuilder(context)<br>    .setGraph(R.navigation.mobile_navigation)<br>    .setDestination(R.id.android)<br>    .setArguments(args)<br>    .createPendingIntent();</p>
<figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"> </span><br><span class="line">## []()在目的地之间创建过渡效果</span><br><span class="line"></span><br><span class="line"> 添加方式和上面添加deep link或者action操作类似，操作结果代码如下：</span><br></pre></td></tr></table></figure>

<p><fragment android:id="@+id/specifyAmountFragment" android:name="com.example.buybuddy.buybuddy.SpecifyAmountFragment" android:label="fragment_specify_amount" tools:layout="@layout/fragment_specify_amount"><br>    <action android:id="@+id/confirmationAction" app:destination="@id/confirmationFragment" app:enteranim="@anim/slide_in_right" app:exitanim="@anim/slide_out_left" app:popenteranim="@anim/slide_in_left" app:popexitanim="@anim/slide_out_right"><br> </action></fragment></p>
<figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"> </span><br><span class="line">### []()在目标之间添加共享元素</span><br><span class="line"></span><br><span class="line"> 除了过渡动画之外，Navigation架构组件还支持在目标之间添加共享元素过渡。  </span><br><span class="line"> 与动画不同，共享元素是以编程方式提供的，而不是通过导航XML文件提供的，因为它们需要引用你希望包含在共享元素转换中的View实例。  </span><br><span class="line"> 每种类型的目标都通过Navigator.Extras接口的子类实现此编程API。 Extras被传递给navigate（）的调用。</span><br><span class="line"></span><br><span class="line"> </span><br><span class="line">#### []()Fragment间共享元素</span><br><span class="line"></span><br><span class="line"> FragmentNavigator.Extras类允许您将共享元素附加到对Fragment目标的navigate（）调用，如下例所示：</span><br></pre></td></tr></table></figure>

<p>FragmentNavigator.Extras extras = new FragmentNavigator.Extras.Builder()<br>    .addSharedElement(imageView, “header_image”)<br>    .addSharedElement(titleView, “header_title”)<br>    .build();<br>Navigation.findNavController(view).navigate(R.id.details,<br>    null, // Bundle of args<br>    null, // NavOptions<br>    extras);</p>
<pre><code>
#### []()Activity间共享元素

 活依赖于ActivityOptionsCompat来控制共享元素转换，详见使用共享元素文档启动活动，如下例所示

</code></pre></deeplink></include>
        </div>
        
        
        
    </div>
</div>








    <div class="card">
    
    <div class="card-content article ">
        
        <div class="level article-meta is-size-7 is-uppercase is-mobile is-overflow-x-auto">
            <div class="level-left">
                <time class="level-item has-text-grey" datetime="2018-10-01T02:43:23.000Z">2018-10-01</time>
                
                <div class="level-item">
                <a class="has-link-grey -link" href="/categories/Android基础/">Android基础</a>
                </div>
                
                
                <span class="level-item has-text-grey">
                    
                    
                    23 分钟 读完 (大约 3400 个字)
                </span>
                
                
            </div>
        </div>
        
        <h1 class="title is-size-3 is-size-4-mobile has-text-weight-normal">
            
                <a class="has-link-black-ter" href="/2018/10/01/《Android 基础（四十八）》ConstrainLayout【译】/">《Android 基础（四十八）》ConstrainLayout【译】</a>
            
        </h1>
        <div class="content">
            <h1 id="原文地址"><a href="#原文地址" class="headerlink" title="原文地址"></a><a href></a>原文地址</h1><p> <a href="https://developer.android.google.cn/reference/android/support/constraint/ConstraintLayout" target="_blank" rel="noopener">https://developer.android.google.cn/reference/android/support/constraint/ConstraintLayout</a></p>
<h1 id="介绍"><a href="#介绍" class="headerlink" title="介绍"></a><a href></a>介绍</h1><blockquote>
<p>ConstrainLayout是一个允许开发者灵活地设置控件的位置和大小的ViewGroup。<br> 只要你使用的Android系统版本在9以上，你便可以通过添加依赖的方式来使用ConstrainLayout.</p>
</blockquote>
<h1 id="使用"><a href="#使用" class="headerlink" title="使用"></a><a href></a>使用</h1><h2 id="添加依赖"><a href="#添加依赖" class="headerlink" title="添加依赖"></a><a href></a>添加依赖</h2><blockquote>
<p>implementation ‘com.android.support.constraint:constraint-layout:1.1.3’</p>
</blockquote>
<h2 id="常用约束"><a href="#常用约束" class="headerlink" title="常用约束"></a><a href></a>常用约束</h2><h3 id="相对定位-Relative-positioning"><a href="#相对定位-Relative-positioning" class="headerlink" title="相对定位(Relative positioning)"></a><a href></a>相对定位(Relative positioning)</h3><p> 相对定位是ConstrainLayout构建布局的一种基本方式。相对定位约束可以帮助我们通过一个给定的Widget来摆放另外一个Widget。我们可以在横纵两个方向上约束Widget。</p>
<blockquote>
<p>横向: left, right, start and end sides<br> 纵向: top, bottom sides and text baseline</p>
<p> 一般思路是将一个 Widget的给定侧约束到其他Widget的另一侧。</p>
</blockquote>
<p> 比如，把button B放置到button A的右侧(下图)</p>
<p> <img src="http://www.onlyloveyd.cn/upload/2018/10/pga1qopccqgo7rccn2jldujc0d.png" alt="alt"></p>
<p> 实现可以如下</p>
<figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;Button android:id=&quot;@+id/buttonA&quot; ... /&gt;</span><br><span class="line">&lt;Button android:id=&quot;@+id/buttonB&quot; ...</span><br><span class="line"> app:layout_constraintLeft_toRightOf=&quot;@+id/buttonA&quot; /&gt;</span><br></pre></td></tr></table></figure>

<p> 上述代码就是告诉系统，我们想让button B的左侧约束到button A的右侧。这样一个位置约束意味着，系统将让button A的右侧和button B的左侧在X轴上具有相同的位置。</p>
<p> 此类相对位置属性还有很多，具体如下：<br> <img src="http://www.onlyloveyd.cn/upload/2018/10/r0tlg97g86hjcp556qp7bo0ggh.png" alt="alt"></p>
<ul>
<li><strong>layout_constraintLeft_toLeftOf</strong> </li>
<li><strong>layout_constraintLeft_toRightOf</strong> </li>
<li><strong>layout_constraintRight_toLeftOf</strong> </li>
<li><strong>layout_constraintRight_toRightOf</strong> </li>
<li><strong>layout_constraintTop_toTopOf</strong> </li>
<li><strong>layout_constraintTop_toBottomOf</strong> </li>
<li><strong>layout_constraintBottom_toTopOf</strong> </li>
<li><strong>layout_constraintBottom_toBottomOf</strong> </li>
<li><strong>layout_constraintBaseline_toBaselineOf</strong> </li>
<li><strong>layout_constraintStart_toEndOf</strong> </li>
<li><strong>layout_constraintStart_toStartOf</strong> </li>
<li><strong>layout_constraintEnd_toStartOf</strong> </li>
<li><strong>layout_constraintEnd_toEndOf</strong>  这些属性通过引用<strong>id</strong>来代表一个Widget，或者使用<strong>parent</strong>来代表父布局</li>
</ul>
<figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&lt;Button android:id=&quot;@+id/buttonB&quot; ...</span><br><span class="line">  app:layout_constraintLeft_toLeftOf=&quot;parent&quot; /&gt;</span><br></pre></td></tr></table></figure>


<h3 id="边距-Margins"><a href="#边距-Margins" class="headerlink" title="边距(Margins)"></a><a href></a>边距(Margins)</h3><p> <img src="http://www.onlyloveyd.cn/upload/2018/10/shcki04bl0go4qdsod8nf5meao.png" alt="alt"></p>
<p> 如果设置了边距，则它们将应用于相应的约束，将边距强制设置为目标Widget和源Widget之间的空间。通常的布局边距属性就可以达到此效果。</p>
<ul>
<li><strong>android:layout_marginStart</strong> </li>
<li><strong>android:layout_marginEnd</strong> </li>
<li><strong>android:layout_marginLeft</strong> </li>
<li><strong>android:layout_marginTop</strong> </li>
<li><strong>android:layout_marginRight</strong> </li>
<li><strong>android:layout_marginBottom</strong>  注意: 边距只能是正数或等于零，采用Dimension形式。</li>
</ul>
<h3 id="约束目标GONE后边距处理-Margins-when-connected-to-a-GONE-widget"><a href="#约束目标GONE后边距处理-Margins-when-connected-to-a-GONE-widget" class="headerlink" title="约束目标GONE后边距处理 (Margins when connected to a GONE widget)"></a><a href></a>约束目标GONE后边距处理 (Margins when connected to a GONE widget)</h3><p> 当约束目标的可见性为View.GONE时，你还可以使用以下属性指示要使用的不同边距值：</p>
<ul>
<li><p><strong>layout_goneMarginStart</strong> </p>
</li>
<li><p><strong>layout_goneMarginEnd</strong> </p>
</li>
<li><p><strong>layout_goneMarginLeft</strong> </p>
</li>
<li><p><strong>layout_goneMarginTop</strong> </p>
</li>
<li><p><strong>layout_goneMarginRight</strong> </p>
</li>
<li><p><strong>layout_goneMarginBottom</strong>  </p>
<h3 id="居中定位和位置偏差"><a href="#居中定位和位置偏差" class="headerlink" title="居中定位和位置偏差"></a><a href></a>居中定位和位置偏差</h3><p>ConstraintLayout的一个有用方面是它如何处理“不可能”的约束。例如，如果我们有如下代码：</p>
</li>
</ul>
<figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;android.support.constraint.ConstraintLayout ...&gt;</span><br><span class="line">    &lt;Button android:id=&quot;@+id/button&quot; ...</span><br><span class="line">         app:layout_constraintLeft_toLeftOf=&quot;parent&quot;</span><br><span class="line">         app:layout_constraintRight_toRightOf=&quot;parent&quot;/&gt;</span><br><span class="line">         &lt;/&gt;</span><br></pre></td></tr></table></figure>

<p> 除非ConstraintLayout恰好具有与Button完全相同的大小，否则两个约束不能同时满足（双方都不能成为我们想要它们的位置）。</p>
<p> <img src="http://www.onlyloveyd.cn/upload/2018/10/56l42bsil0j5rqt5u6gpc7gbd1.png" alt="alt"></p>
<p> 在这种情况下，约束的作用就像是相反的力量将Widget拉平（上图）;这样Widget最终将会在父容器中居中显示。这种使用方式在纵轴方向上同样适用。</p>
<h4 id="偏差-Bias"><a href="#偏差-Bias" class="headerlink" title="偏差(Bias)"></a><a href></a>偏差(Bias)</h4><p> 遇到这种相反的约束时的默认设置是使Widget居中;但是你可以使用偏差属性调整定位以使一侧偏向另一侧。</p>
<ul>
<li><strong>layout_constraintHorizontal_bias</strong> </li>
<li><strong>layout_constraintVertical_bias</strong>  例如，如下代码将使左侧具有30％的偏差而不是默认的50％，使得左侧将更短，Widget更倾向于左侧（具体效果如下图）：</li>
</ul>
<figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&lt;android.support.constraint.ConstraintLayout ...&gt;</span><br><span class="line">       &lt;Button android:id=&quot;@+id/button&quot; ...</span><br><span class="line">           app:layout_constraintHorizontal_bias=&quot;0.3&quot;</span><br><span class="line">           app:layout_constraintLeft_toLeftOf=&quot;parent&quot;</span><br><span class="line">           app:layout_constraintRight_toRightOf=&quot;parent/&gt;</span><br><span class="line">         &lt;/&gt;</span><br></pre></td></tr></table></figure>

<p> <img src="http://www.onlyloveyd.cn/upload/2018/10/u5fpnj4qc4jcbra4m6n2hd1r1c.png" alt="alt"></p>
<p> 使用偏差属性，你可以制作更好地适应屏幕尺寸变化的用户界面。</p>
<h3 id="环形定位-Circular-positioning-Added-in-1-1"><a href="#环形定位-Circular-positioning-Added-in-1-1" class="headerlink" title="环形定位(Circular positioning (Added in 1.1))"></a><a href></a>环形定位(Circular positioning (Added in 1.1))</h3><p> 你可以以距离或者角度来约束一个Widget中心相对于另一个Widget的中心。这样我们就可以将Widget放置到一个圆环上。具体属性如下：</p>
<ul>
<li><strong>layout_constraintCircle</strong> : 引用widget ID </li>
<li><strong>layout_constraintCircleRadius</strong> : 到另一个widget的距离 </li>
<li><strong>layout_constraintCircleAngle</strong> : widget需要摆放在哪个角度 (0-360)  <img src="http://www.onlyloveyd.cn/upload/2018/10/t0d1lsuouahrpqv0v619b6trte.png" alt="alt"><br><img src="http://www.onlyloveyd.cn/upload/2018/10/67n9m05ncmjeaqrvgs6ltf7j8v.png" alt="alt"></li>
</ul>
<figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;Button android:id=&quot;@+id/buttonA&quot; ... /&gt;</span><br><span class="line">  &lt;Button android:id=&quot;@+id/buttonB&quot; ...</span><br><span class="line">      app:layout_constraintCircle=&quot;@+id/buttonA&quot;</span><br><span class="line">      app:layout_constraintCircleRadius=&quot;100dp&quot;</span><br><span class="line">      app:layout_constraintCircleAngle=&quot;45&quot; /&gt;</span><br></pre></td></tr></table></figure>


<h3 id="可见性行为-Visibility-behavior"><a href="#可见性行为-Visibility-behavior" class="headerlink" title="可见性行为(Visibility behavior)"></a><a href></a>可见性行为(Visibility behavior)</h3><p> ConstraintLayout对于可见性为<strong>View.GONE</strong>的Widget有明确的处理方式。</p>
<p> <strong>GONE</strong> widget，一般情况下，将不会显示在界面上，同时也不再是布局中的一部分。</p>
<p> 但就布局计算而言，GONE Widget仍然是其中的一部分，这是有很大区别的。</p>
<ul>
<li><p>对于布局传递，它们的尺寸将被视为零（基本上，它们将被解析为一个点） </p>
</li>
<li><p>如果他们对其他Widget有限制，这些限制仍然会得到体现，但任何边距都会等于零  <img src="http://www.onlyloveyd.cn/upload/2018/10/u0iqch7uv4hogo603fsp4jr605.png" alt="alt"></p>
<p>这种特定的行为可以满足你在不破坏布局的情况下构建布局，只需要暂时将对应的Widget标记为GONE即可，这在构建简单的布局动画时是很有用的。</p>
<p>如上图，当A GONE后，B使用的左边距是B相对于A的边距。在某些情况下，这个边距可能并不是你所需要的(比如，A相对于容器存在20dp的左边距，B相对于A有40dp的左边距，当A被标记为GONE后，B相对于容器就会存在40dp的左边距)。因此，你可以指定在连接到的Widget标记为GONE时的margin作为备用边距值。具体看上一章节的【约束目标GONE后边距处理】。</p>
</li>
</ul>
<h3 id="尺寸约束-Dimensions-constraints"><a href="#尺寸约束-Dimensions-constraints" class="headerlink" title="尺寸约束(Dimensions constraints)"></a><a href></a>尺寸约束(Dimensions constraints)</h3><h4 id="ConstraintLayout最小尺寸和最大尺寸"><a href="#ConstraintLayout最小尺寸和最大尺寸" class="headerlink" title="ConstraintLayout最小尺寸和最大尺寸"></a><a href></a>ConstraintLayout最小尺寸和最大尺寸</h4><p> 通过如下属性你可以给ConstrainLayout定义最大或是最小尺寸。</p>
<ul>
<li><strong>android:minWidth</strong> set the minimum width for the layout </li>
<li><strong>android:minHeight</strong> set the minimum height for the layout </li>
<li><strong>android:maxWidth</strong> set the maximum width for the layout </li>
<li><strong>android:maxHeight</strong> set the maximum height for the layout  当其尺寸设置为WRAP_CONTENT时，这些最小和最大尺寸将会被ConstraintLayout使用到。</li>
</ul>
<h4 id="Widgets尺寸约束"><a href="#Widgets尺寸约束" class="headerlink" title="Widgets尺寸约束"></a><a href></a>Widgets尺寸约束</h4><p> Widgets的尺寸需要通过如下三种方式设置<strong>android:layout_width</strong>和<strong>android:layout_height</strong>来明确。</p>
<ul>
<li><p>使用一个明确的尺寸大小 (数字值如123dp或者是一个尺寸引用) </p>
</li>
<li><p>使用WRAP_CONTENT, 让控件自己计算其大小 </p>
</li>
<li><p>使用0dp, 等价于 “MATCH_CONSTRAINT”  <img src="http://www.onlyloveyd.cn/upload/2018/10/2ovn1a1tnqiubquk091p60s3h0.png" alt="alt"></p>
<p>前两种设置的效果和其他布局一样。最后一个将以匹配所设置的约束的方式调整Widget的大小（上图中（a）wrap_content,（b）0dp）。如果设置来边距，它们也将被计算在内（上图中（c）0dp with margin）。</p>
<p><strong>重要</strong> 针对ConstrainLayout中的Widget，我们不推荐使用<strong>MATCH_PARENT</strong>。我们可以通过使用MATCH_CONSTRAINT配合约束 Widget 的left/right或者top/bottom 到<strong>“parent”</strong>来定义类似的行为。</p>
</li>
</ul>
<h4 id="WRAP-CONTENT：强制执行约束-Added-in-1-1"><a href="#WRAP-CONTENT：强制执行约束-Added-in-1-1" class="headerlink" title="WRAP_CONTENT：强制执行约束 (Added in 1.1)"></a><a href></a>WRAP_CONTENT：强制执行约束 (Added in 1.1)</h4><p> 如果一个尺寸设置为<strong>WRAP_CONTENT</strong>，在1.1版本之前，他们将会被定义为数值类的尺寸大小，约束将不会限制结果尺寸。一般情况下这样已经足够满足需求并且运行速度也是很快的，但是在某些情况下，你可能想用<strong>WRAP_CONTENT</strong>来设置尺寸，同时也想强制约束来限制结果布局尺寸。这种情况下，你可以使用如下属性：</p>
<ul>
<li><p><strong>app:layout_constrainedWidth=”true|false”</strong> </p>
</li>
<li><p><strong>app:layout_constrainedHeight=”true|false”</strong>  </p>
<h4 id="MATCH-CONSTRAINT-Added-in-1-1"><a href="#MATCH-CONSTRAINT-Added-in-1-1" class="headerlink" title="MATCH_CONSTRAINT(Added in 1.1)"></a><a href></a>MATCH_CONSTRAINT(Added in 1.1)</h4><p>当Widget的尺寸被设置为MATCH_CONSTRAINT时，默认的结果就是使用所有可用的空间。如下几个额外的属性可以被使用到：</p>
</li>
</ul>
<ul>
<li><p><strong>layout_constraintWidth_min and layout_constraintHeight_min : 将为这个尺寸设置最小值</strong> </p>
</li>
<li><p><strong>layout_constraintWidth_max and layout_constraintHeight_max : 将为这个尺寸设置最大值</strong> </p>
</li>
<li><p><strong>layout_constraintWidth_percent and layout_constraintHeight_percent : 将按相对父布局的百分比来设置尺寸</strong>  </p>
<h4 id="最小值和最大值-Min-and-Max"><a href="#最小值和最大值-Min-and-Max" class="headerlink" title="最小值和最大值(Min and Max)"></a><a href></a>最小值和最大值(Min and Max)</h4><p>为min和max指示的值可以是Dp单位，也可以是“wrap”，它将使用与WRAP_CONTENT将执行的值相同的值</p>
</li>
</ul>
<h4 id="百分比尺寸-Percent-dimension"><a href="#百分比尺寸-Percent-dimension" class="headerlink" title="百分比尺寸(Percent dimension)"></a><a href></a>百分比尺寸(Percent dimension)</h4><p> 要使用百分比，你需要做如下配置：</p>
<ul>
<li><p>尺寸设置为<strong>MATCH_CONSTRAINT（0dp）</strong> </p>
</li>
<li><p>默认值设置为percent** app:layout_constraintWidth_default=“percent”** 或者<strong>app:layout_constraintHeight_default=”percent”</strong><br> (备注: 在版本1.1-beta1 and 1.1-beta2中这些配置是需要的, 但是在后续的版本中只要百分比属性被定义，便不再需要这些配置) </p>
</li>
<li><p>然后设置<strong>layout_constraintWidth_percent</strong>或者 <strong>layout_constraintHeight_percent</strong>属性值，范围0-1  </p>
<h4 id="比率"><a href="#比率" class="headerlink" title="比率"></a><a href></a>比率</h4><p>你可以定义Widget的宽高比例。为了实现这个效果，宽高中至少又一个设置为<strong>0dp(i.e.,MATCH_CONSTRAINT)</strong>， 然后给** layout_constraintDimensionRatio**指定一个比例值，如下</p>
</li>
</ul>
<figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;Button android:layout_width=&quot;wrap_content&quot;</span><br><span class="line">    android:layout_height=&quot;0dp&quot;</span><br><span class="line">    app:layout_constraintDimensionRatio=&quot;1:1&quot; /&gt;</span><br></pre></td></tr></table></figure>

<p> 这段代码将设置button的宽高一样。比例值可以通过如下两种方式设置：</p>
<ul>
<li>float值, 代表宽高的比例 </li>
<li>比例值按照“width:height”的格式书写  在宽高都设置为MATCH_CONSTRAINT(0dp)时，我们仍然能够使用比例属性。在这种情况下，系统设置满足所有约束的最大尺寸并保持指定的纵横比。要根据另一个的尺寸约束一个特定边，可以预先附加<strong>“W,”</strong>或<strong>“H,”</strong>分别约束宽度或高度。比如，一个尺寸被两个目标约束(宽度0dp并且在父布局居中)，你可以通过在比例值前添加<strong>“W(约束宽度)”</strong>或者<strong>“H(约束高度)”</strong>，来指明约束宽度或者高度。</li>
</ul>
<figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;Button android:layout_width=&quot;0dp&quot;</span><br><span class="line">                   android:layout_height=&quot;0dp&quot;</span><br><span class="line">       app:layout_constraintDimensionRatio=&quot;H,16:9&quot;</span><br><span class="line">       app:layout_constraintBottom_toBottomOf=&quot;parent&quot;</span><br><span class="line">       app:layout_constraintTop_toTopOf=&quot;parent&quot;/&gt;</span><br></pre></td></tr></table></figure>

<p> 如上代码，将按照16:9的比例来设置button的高度，而宽度将匹配父布局的约束。也就是这种情况下<strong>宽度:高度=16:9</strong>，由宽度来决定高度。</p>
<h3 id="链-chain"><a href="#链-chain" class="headerlink" title="链(chain)"></a><a href></a>链(chain)</h3><p> 链在单个轴（水平或垂直）上提供组群行为。另一个轴可以独立约束</p>
<h4 id="创建一个链"><a href="#创建一个链" class="headerlink" title="创建一个链"></a><a href></a>创建一个链</h4><p> 如果一组Widgets通过双向连接链接在一起，则它们被视为链。（下图展示的是一个由两个Widget组成的最小的链）</p>
<p> <img src="http://www.onlyloveyd.cn/upload/2018/10/1lapf2latcid3rsddqhjle1jih.png" alt="alt"></p>
<h4 id="链头"><a href="#链头" class="headerlink" title="链头"></a><a href></a>链头</h4><p> 链由在链的第一个元素上设置的属性控制(我们可以将其视为链的“头”)</p>
<p> <img src="http://www.onlyloveyd.cn/upload/2018/10/o2cu4q0j4khu1qsmac66ohjc2n.png" alt="alt"></p>
<p> 头部是水平链的最左侧Widget，垂直链的最顶部Widget。</p>
<h4 id="链间边距"><a href="#链间边距" class="headerlink" title="链间边距"></a><a href></a>链间边距</h4><p> 如果在双向连接上指定了边距，则他们将会被计算在内。在扩散链的情况下，将从分配的空间中减去这些边距</p>
<h4 id="链Style"><a href="#链Style" class="headerlink" title="链Style"></a><a href></a>链Style</h4><p> 在链的第一个元素上设置属性<strong>layout_constraintHorizo​​ntal_chainStyle</strong>或<strong>layout_constraintVertical_chainStyle</strong>时，链的行为将根据指定的样式更改（默认为<strong>CHAIN_SPREAD</strong>）</p>
<ul>
<li><strong>CHAIN_SPREAD</strong> – 元素将等间距散开(默认style) </li>
<li>Weighted链 – <strong>CHAIN_SPREAD</strong> 模式, 当一些Widgets设置为MATCH_CONSTRAINT,他们将被分配所有可用空间。 </li>
<li><strong>CHAIN_SPREAD_INSIDE</strong> – 相似地, 但是链的两端不会被分配空间。 </li>
<li><strong>CHAIN_PACKED</strong> – 链上元素会被打包在一起。子项的水平或垂直偏差属性将影响整个打包元素的定位。  <img src="http://www.onlyloveyd.cn/upload/2018/10/okuugqrdpqi3qqlae13nt5auv2.png" alt="alt"></li>
</ul>
<h5 id="权重链"><a href="#权重链" class="headerlink" title="权重链"></a><a href></a>权重链</h5><p> 链的默认行为是在可用空间中平均分布元素。如果一个或多个元素使用MATCH_CONSTRAINT，则它们将使用可用的空白空间(他们之间平等分配)。<br> <strong>layout_constraintHorizo​​ntal_weight</strong>和<strong>layout_constraintVertical_weight</strong>属性将控制如何使用MATCH_CONSTRAINT在元素之间分配空间。例如，在使用MATCH_CONSTRAINT的包含两个元素的链上，第一个元素使用权重2，第二个元素使用权重1，第一个元素占用的空间将是第二个元素占用的空间的两倍。</p>
<h5 id="边距和链（1-1版本）"><a href="#边距和链（1-1版本）" class="headerlink" title="边距和链（1.1版本）"></a><a href></a>边距和链（1.1版本）</h5><p> 在链中的元素上使用边距时，边距是相加的<br> 例如，在水平链上，如果一个元素定义了10dp的右边距而下一个元素定义了5dp的左边距，则这两个元素之间产生的边距为15dp。<br> 在计算链用于定位项目的剩余空间时，会同时考虑项目及其边距。剩余空间不包含边距。</p>
<h3 id="虚拟助手-Virtual-Helper-objects"><a href="#虚拟助手-Virtual-Helper-objects" class="headerlink" title="虚拟助手(Virtual Helper objects)"></a><a href></a>虚拟助手(Virtual Helper objects)</h3><p> 除了之前详述的内在功能外，您还可以使用ConstraintLayout中的特殊帮助程序对象来帮助您进行布局。现在，Guideline可以帮助你创建相对于ConstraintLayout容器定位的水平和垂直Guideline。然后Widgets可以被约束到这些Guideline上。在1.1版本中，Barrier和Group也别加入进来。</p>
<h3 id="优化器-in-1-1"><a href="#优化器-in-1-1" class="headerlink" title="优化器(in 1.1)"></a><a href></a>优化器(in 1.1)</h3><p> 在1.1版本中，我们提供约束优化器。你可以通过将标记app：layout_optimizationLevel添加到ConstraintLayout元素来决定应用哪些优化。</p>
<ul>
<li><strong>none</strong> : 不做任何优化 </li>
<li><strong>standard</strong> : 默认值. 只优化 direct 和 barrier 约束 </li>
<li><strong>direct</strong> : 优化 direct 约束 </li>
<li><strong>barrier</strong> : 优化 barrier 约束 </li>
<li><strong>chain</strong> : 优化 chain 约束 (试验版) </li>
<li><strong>dimensions</strong> : 优化 dimensions 测量 (试验版), 减少match constrains元素的测量次数。  此属性是一个掩码，因此您可以通过列出所需的优化来决定打开或关闭特定的优化。例如</li>
</ul>
<figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">app:layout_optimizationLevel=&quot;direct|barrier|chain&quot;</span><br></pre></td></tr></table></figure>



        </div>
        
        
        
    </div>
</div>








    <div class="card">
    
    <div class="card-content article ">
        
        <div class="level article-meta is-size-7 is-uppercase is-mobile is-overflow-x-auto">
            <div class="level-left">
                <time class="level-item has-text-grey" datetime="2018-06-09T00:34:04.000Z">2018-06-09</time>
                
                <div class="level-item">
                <a class="has-link-grey -link" href="/categories/Android基础/">Android基础</a>
                </div>
                
                
                <span class="level-item has-text-grey">
                    
                    
                    2 分钟 读完 (大约 296 个字)
                </span>
                
                
            </div>
        </div>
        
        <h1 class="title is-size-3 is-size-4-mobile has-text-weight-normal">
            
                <a class="has-link-black-ter" href="/2018/06/09/《Android 基础（四十六）》 LayerDrawable & layer-list/">《Android 基础（四十六）》 LayerDrawable &amp; layer-list</a>
            
        </h1>
        <div class="content">
            <h2 id="介绍"><a href="#介绍" class="headerlink" title="介绍"></a>介绍</h2><p> LayerDrawable 是管理其他可绘制对象阵列的可绘制对象。列表中的每个可绘制对象按照列表的顺序绘制，列表中的最后一个可绘制对象绘于顶部。</p>
<p> 每个可绘制对象由单一 &lt; layer-list &gt; 元素内的 &lt; item &gt; 元素表示。</p>
<h3 id="语法"><a href="#语法" class="headerlink" title="语法"></a>语法</h3><figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;</span><br><span class="line">&lt;layer-list</span><br><span class="line">    xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot; &gt;</span><br><span class="line">    &lt;item</span><br><span class="line">        android:drawable=&quot;@[package:]drawable/drawable_resource&quot;</span><br><span class="line">        android:id=&quot;@[+][package:]id/resource_name&quot;</span><br><span class="line">        android:top=&quot;dimension&quot;</span><br><span class="line">        android:right=&quot;dimension&quot;</span><br><span class="line">        android:bottom=&quot;dimension&quot;</span><br><span class="line">        android:left=&quot;dimension&quot; /&gt;</span><br><span class="line">&lt;/layer-list&gt;</span><br></pre></td></tr></table></figure>


<h3 id="作用"><a href="#作用" class="headerlink" title="作用"></a>作用</h3><p> layer-list，图层列表，可以帮助我们绘制一些特殊的图形。</p>
<h2 id="部分实践"><a href="#部分实践" class="headerlink" title="部分实践"></a>部分实践</h2><h3 id="Line-amp-Dot"><a href="#Line-amp-Dot" class="headerlink" title="Line &amp; Dot"></a>Line &amp; Dot</h3><h4 id="layer-list"><a href="#layer-list" class="headerlink" title="layer-list"></a>layer-list</h4><figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;</span><br><span class="line">&lt;layer-list xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;</span><br><span class="line">    &lt;item</span><br><span class="line">        android:bottom=&quot;2dp&quot;</span><br><span class="line">        android:right=&quot;2dp&quot;</span><br><span class="line">        android:top=&quot;2dp&quot;&gt;</span><br><span class="line">        &lt;shape android:shape=&quot;rectangle&quot;&gt;</span><br><span class="line">            &lt;solid android:color=&quot;#1750ff&quot; /&gt;</span><br><span class="line">        &lt;/shape&gt;</span><br><span class="line">    &lt;/item&gt;</span><br><span class="line">    &lt;item android:gravity=&quot;right&quot;&gt;</span><br><span class="line">        &lt;shape android:shape=&quot;oval&quot;&gt;</span><br><span class="line">            &lt;solid android:color=&quot;#1750ff&quot; /&gt;</span><br><span class="line">            &lt;size</span><br><span class="line">                android:width=&quot;5dp&quot;</span><br><span class="line">                android:height=&quot;5dp&quot; /&gt;</span><br><span class="line">        &lt;/shape&gt;</span><br><span class="line">    &lt;/item&gt;</span><br><span class="line">&lt;/layer-list&gt;</span><br></pre></td></tr></table></figure>


<h4 id="use-in-layout"><a href="#use-in-layout" class="headerlink" title="use in layout"></a>use in layout</h4><figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&lt;View</span><br><span class="line">      android:layout_width=&quot;100dp&quot;</span><br><span class="line">      android:layout_height=&quot;5dp&quot;</span><br><span class="line">      android:layout_marginLeft=&quot;50dp&quot;</span><br><span class="line">      android:layout_marginTop=&quot;50dp&quot;</span><br><span class="line">      android:background=&quot;@drawable/horizontal_line_dot&quot; /&gt;</span><br></pre></td></tr></table></figure>


<h4 id="result"><a href="#result" class="headerlink" title="result"></a>result</h4><p> <img src="https://img-blog.csdn.net/20180609075131231" alt="这里写图片描述"></p>
<p> <img src="https://img-blog.csdn.net/20180609075334427" alt="这里写图片描述"></p>
<h2 id="代码修改Drawable颜色"><a href="#代码修改Drawable颜色" class="headerlink" title="代码修改Drawable颜色"></a>代码修改Drawable颜色</h2><p> 通过LayerDrawable类中的部分方法，我们可以拿到每一层的Drawable，这样针对不通层级的Drawable，我们可以根据自己的需要，在用户交互过程中执行修改等操作。</p>
<figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">bt_change_color.setOnClickListener(&#123;</span><br><span class="line">    var background: LayerDrawable = horizontal_line_dot.background as LayerDrawable</span><br><span class="line">    for (index in 0..(background.numberOfLayers - 1)) &#123;</span><br><span class="line">        var drawable: GradientDrawable = background.getDrawable(index) as GradientDrawable</span><br><span class="line">        drawable.setColor(Color.BLACK)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure>

<p> <img src="https://img-blog.csdn.net/20180609082051965" alt="这里写图片描述"></p>
<h2 id="Shape"><a href="#Shape" class="headerlink" title="Shape"></a>Shape</h2><p> 关于Shape的用法，请阅<a href="https://blog.csdn.net/poorkick/article/details/51824524" target="_blank" rel="noopener">Shape</a><br> <img src="https://img-blog.csdn.net/20180609083337113" alt="这里写图片描述"></p>

        </div>
        
        
        
    </div>
</div>








    <div class="card">
    
    <div class="card-content article ">
        
        <div class="level article-meta is-size-7 is-uppercase is-mobile is-overflow-x-auto">
            <div class="level-left">
                <time class="level-item has-text-grey" datetime="2018-04-09T13:48:29.000Z">2018-04-09</time>
                
                <div class="level-item">
                <a class="has-link-grey -link" href="/categories/Android基础/">Android基础</a>
                </div>
                
                
                <span class="level-item has-text-grey">
                    
                    
                    10 分钟 读完 (大约 1564 个字)
                </span>
                
                
            </div>
        </div>
        
        <h1 class="title is-size-3 is-size-4-mobile has-text-weight-normal">
            
                <a class="has-link-black-ter" href="/2018/04/09/《Android 基础（四十五）》 RecyclerView.ItemDecoration源码浅析/">《Android 基础（四十五）》 RecyclerView.ItemDecoration源码浅析</a>
            
        </h1>
        <div class="content">
            <h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p> RecyclerView目前来说，是日常开发中使用最多的控件，功能强大而且复杂。而Item Decoration作为RecyclerView开发过程中不可或缺的部分，需要深入的了解一下。</p>
<h1 id="源码分析"><a href="#源码分析" class="headerlink" title="源码分析"></a>源码分析</h1><figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br></pre></td><td class="code"><pre><span class="line">/**</span><br><span class="line"> * An ItemDecoration allows the application to add a special drawing and layout offset</span><br><span class="line"> * to specific item views from the adapter&apos;s data set. This can be useful for drawing dividers</span><br><span class="line"> * between items, highlights, visual grouping boundaries and more.</span><br><span class="line"> *</span><br><span class="line"> * &lt;p&gt;All ItemDecorations are drawn in the order they were added, before the item</span><br><span class="line"> * views (in &#123;@link ItemDecoration#onDraw(Canvas, RecyclerView, RecyclerView.State) onDraw()&#125;</span><br><span class="line"> * and after the items (in &#123;@link ItemDecoration#onDrawOver(Canvas, RecyclerView,</span><br><span class="line"> * RecyclerView.State)&#125;.&lt;/p&gt;</span><br><span class="line"> */</span><br><span class="line">public abstract static class ItemDecoration &#123;</span><br><span class="line">    /**</span><br><span class="line">     * Draw any appropriate decorations into the Canvas supplied to the RecyclerView.</span><br><span class="line">     * Any content drawn by this method will be drawn before the item views are drawn,</span><br><span class="line">     * and will thus appear underneath the views.</span><br><span class="line">     *</span><br><span class="line">     * @param c Canvas to draw into</span><br><span class="line">     * @param parent RecyclerView this ItemDecoration is drawing into</span><br><span class="line">     * @param state The current state of RecyclerView</span><br><span class="line">     */</span><br><span class="line">    public void onDraw(Canvas c, RecyclerView parent, State state) &#123;</span><br><span class="line">        onDraw(c, parent);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    /**</span><br><span class="line">     * @deprecated</span><br><span class="line">     * Override &#123;@link #onDraw(Canvas, RecyclerView, RecyclerView.State)&#125;</span><br><span class="line">     */</span><br><span class="line">    @Deprecated</span><br><span class="line">    public void onDraw(Canvas c, RecyclerView parent) &#123;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    /**</span><br><span class="line">     * Draw any appropriate decorations into the Canvas supplied to the RecyclerView.</span><br><span class="line">     * Any content drawn by this method will be drawn after the item views are drawn</span><br><span class="line">     * and will thus appear over the views.</span><br><span class="line">     *</span><br><span class="line">     * @param c Canvas to draw into</span><br><span class="line">     * @param parent RecyclerView this ItemDecoration is drawing into</span><br><span class="line">     * @param state The current state of RecyclerView.</span><br><span class="line">     */</span><br><span class="line">    public void onDrawOver(Canvas c, RecyclerView parent, State state) &#123;</span><br><span class="line">        onDrawOver(c, parent);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    /**</span><br><span class="line">     * @deprecated</span><br><span class="line">     * Override &#123;@link #onDrawOver(Canvas, RecyclerView, RecyclerView.State)&#125;</span><br><span class="line">     */</span><br><span class="line">    @Deprecated</span><br><span class="line">    public void onDrawOver(Canvas c, RecyclerView parent) &#123;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    /**</span><br><span class="line">     * @deprecated</span><br><span class="line">     * Use &#123;@link #getItemOffsets(Rect, View, RecyclerView, State)&#125;</span><br><span class="line">     */</span><br><span class="line">    @Deprecated</span><br><span class="line">    public void getItemOffsets(Rect outRect, int itemPosition, RecyclerView parent) &#123;</span><br><span class="line">        outRect.set(0, 0, 0, 0);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    /**</span><br><span class="line">     * Retrieve any offsets for the given item. Each field of &lt;code&gt;outRect&lt;/code&gt; specifies</span><br><span class="line">     * the number of pixels that the item view should be inset by, similar to padding or margin.</span><br><span class="line">     * The default implementation sets the bounds of outRect to 0 and returns.</span><br><span class="line">     *</span><br><span class="line">     * &lt;p&gt;</span><br><span class="line">     * If this ItemDecoration does not affect the positioning of item views, it should set</span><br><span class="line">     * all four fields of &lt;code&gt;outRect&lt;/code&gt; (left, top, right, bottom) to zero</span><br><span class="line">     * before returning.</span><br><span class="line">     *</span><br><span class="line">     * &lt;p&gt;</span><br><span class="line">     * If you need to access Adapter for additional data, you can call</span><br><span class="line">     * &#123;@link RecyclerView#getChildAdapterPosition(View)&#125; to get the adapter position of the</span><br><span class="line">     * View.</span><br><span class="line">     *</span><br><span class="line">     * @param outRect Rect to receive the output.</span><br><span class="line">     * @param view    The child view to decorate</span><br><span class="line">     * @param parent  RecyclerView this ItemDecoration is decorating</span><br><span class="line">     * @param state   The current state of RecyclerView.</span><br><span class="line">     */</span><br><span class="line">    public void getItemOffsets(Rect outRect, View view, RecyclerView parent, State state) &#123;</span><br><span class="line">        getItemOffsets(outRect, ((LayoutParams) view.getLayoutParams()).getViewLayoutPosition(),</span><br><span class="line">                parent);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p> 注意看英文注释，ItemDecoration是用于装饰RecyclerView的Item的，主要关注如下三个方法</p>
<h2 id="getItemOffsets"><a href="#getItemOffsets" class="headerlink" title="getItemOffsets"></a>getItemOffsets</h2><pre><code>参数      | 意义                          
------- | ---------------------------- 
outRect | ItemView的外围矩形               
view    | ItemView                    
parent  | RecyclerView,ItemView的Parent
state   | RecyclerView的状态             </code></pre><p> 直接这样子说看不出效果，上几张图区分一下</p>
<figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">outRect.top =20;</span><br><span class="line">outRect.bottom =20;</span><br><span class="line"></span><br><span class="line">outRect.left=60;</span><br><span class="line">outRect.right =60;</span><br></pre></td></tr></table></figure>

<p> <img src="https://img-blog.csdn.net/20180409205118149?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3Bvb3JraWNr/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" alt="这里写图片描述"></p>
<figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">outRect.top =20;</span><br><span class="line">outRect.bottom =20;</span><br><span class="line"></span><br><span class="line">outRect.left=60;</span><br><span class="line">outRect.right =0;</span><br></pre></td></tr></table></figure>

<p> <img src="https://img-blog.csdn.net/20180409205141863?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3Bvb3JraWNr/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" alt="这里写图片描述"></p>
<figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">outRect.top =60;</span><br><span class="line">outRect.bottom =60;</span><br><span class="line"></span><br><span class="line">outRect.left=20;</span><br><span class="line">outRect.right =20;</span><br></pre></td></tr></table></figure>

<p> <img src="https://img-blog.csdn.net/20180409205207700?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3Bvb3JraWNr/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" alt="这里写图片描述"><br> 看上去设置outRect设置top,left,right,bottom有一种padding的效果，但是实际上只是它是ItemView外围的空间，你可以将其理解成RecyclerView针对每个ItemView设置的Padding，而不是ItemView自身的padding。</p>
<h2 id="onDraw"><a href="#onDraw" class="headerlink" title="onDraw"></a>onDraw</h2><pre><code>参数     | 意义                          
------ | ---------------------------- 
c      | RecyclerView的Canvas         
parent | RecyclerView,ItemView的Parent
state  | RecyclerView的状态             </code></pre><p> onDraw操作是在RecyclerView所在的画布上绘制内容，也就是在ItemView的背后绘制内容，重叠部分会被ItemView遮挡。<br> 比如我们在Item View的背后画一个圆圈圈。</p>
<figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">public YdDividerItemDecoration()&#123;</span><br><span class="line">    mPaint = new Paint();</span><br><span class="line">    mPaint.setColor(Color.GREEN);</span><br><span class="line">    mPaint.setAntiAlias(true);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">@Override</span><br><span class="line">public void onDraw(Canvas c, RecyclerView parent, RecyclerView.State state) &#123;</span><br><span class="line">    super.onDraw(c, parent, state);</span><br><span class="line">    Logger.d(&quot;yidong -- onDraw&quot;);</span><br><span class="line"></span><br><span class="line">    int width = parent.getWidth();</span><br><span class="line">    int height = parent.getHeight();</span><br><span class="line"></span><br><span class="line">    int radius = Math.min(width, height)/2;</span><br><span class="line"></span><br><span class="line">    c.drawCircle(width/2, height/2, radius, mPaint);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p> <img src="https://img-blog.csdn.net/20180409210308167?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3Bvb3JraWNr/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" alt="这里写图片描述"><br> 这个是为了说明，我们操作的画布是RecyclerView的画布，而不是针对ItemView，所以一般情况下，我们需要针对每个ItemView做操作，比如画分割线，官方给出的DividerItemDecoration的onDraw方法</p>
<figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">@Override</span><br><span class="line">public void onDraw(Canvas c, RecyclerView parent, RecyclerView.State state) &#123;</span><br><span class="line">    if (parent.getLayoutManager() == null || mDivider == null) &#123;</span><br><span class="line">        return;</span><br><span class="line">    &#125;</span><br><span class="line">    if (mOrientation == VERTICAL) &#123;</span><br><span class="line">        drawVertical(c, parent);</span><br><span class="line">    &#125; else &#123;</span><br><span class="line">        drawHorizontal(c, parent);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


<figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">private void drawVertical(Canvas canvas, RecyclerView parent) &#123;</span><br><span class="line">     canvas.save();</span><br><span class="line">     final int left;</span><br><span class="line">     final int right;</span><br><span class="line">     //noinspection AndroidLintNewApi - NewApi lint fails to handle overrides.</span><br><span class="line">     if (parent.getClipToPadding()) &#123;</span><br><span class="line">         left = parent.getPaddingLeft();</span><br><span class="line">         right = parent.getWidth() - parent.getPaddingRight();</span><br><span class="line">         canvas.clipRect(left, parent.getPaddingTop(), right,</span><br><span class="line">                 parent.getHeight() - parent.getPaddingBottom());</span><br><span class="line">     &#125; else &#123;</span><br><span class="line">         left = 0;</span><br><span class="line">         right = parent.getWidth();</span><br><span class="line">     &#125;</span><br><span class="line"></span><br><span class="line">     final int childCount = parent.getChildCount();</span><br><span class="line">     for (int i = 0; i &lt; childCount; i++) &#123;</span><br><span class="line">         final View child = parent.getChildAt(i);</span><br><span class="line">         parent.getDecoratedBoundsWithMargins(child, mBounds);</span><br><span class="line">         final int bottom = mBounds.bottom + Math.round(child.getTranslationY());</span><br><span class="line">         final int top = bottom - mDivider.getIntrinsicHeight();</span><br><span class="line">         mDivider.setBounds(left, top, right, bottom);</span><br><span class="line">         mDivider.draw(canvas);</span><br><span class="line">     &#125;</span><br><span class="line">     canvas.restore();</span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure>

<p> 可以看出都是便利RecyclerView的Item来做操作的。</p>
<h2 id="onDrawOver"><a href="#onDrawOver" class="headerlink" title="onDrawOver"></a>onDrawOver</h2><pre><code>参数     | 意义                          
------ | ---------------------------- 
c      | RecyclerView的Canvas         
parent | RecyclerView,ItemView的Parent
state  | RecyclerView的状态             </code></pre><p> 参数类型和意义和onDraw一模一样，但是效果确实在RecyclerView的ItemView之上。<br> 还是换个圆圈圈，代码和上面一样，只是移动到onDrawOver方法下执行。<br> <img src="https://img-blog.csdn.net/20180409210936439?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3Bvb3JraWNr/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" alt="这里写图片描述"><br> 可以很明显的看到，我们的圆圈圈覆盖了ItemView。至于谁覆盖谁，显然是绘制顺序的问题。<br> <img src="https://img-blog.csdn.net/2018040921134330?watermark/2/text/aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3Bvb3JraWNr/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70" alt="这里写图片描述"><br> 可以看到执行顺序，onDrawOver是在onDraw之后的，但是ItemView的绘制是否在这个两个操作之前，从最后的效果来看，是的，但是需要代码证实。直接看RecyclerView绘制相关的方法即可。</p>
<figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">@Override</span><br><span class="line">public void draw(Canvas c) &#123;</span><br><span class="line">    //这里是RecyclerView的绘制过程，和View的绘制过程类似，先是背景，然后是调用</span><br><span class="line">    //recyclerview的onDraw方法绘制自身，然后通过dispatchDraw来绘制子View</span><br><span class="line">    // 而onDraw(下面)执行的就是ItemDecoration的onDraw方法，所以顺序很明显了。</span><br><span class="line">    //ItemDecoration－&gt; ItemView -&gt; ItemDecoration.onDrawOver</span><br><span class="line">    super.draw(c);</span><br><span class="line">    // 执行ItemDecoration onDrawOver方法，最顶层</span><br><span class="line">    final int count = mItemDecorations.size();</span><br><span class="line">    for (int i = 0; i &lt; count; i++) &#123;</span><br><span class="line">        mItemDecorations.get(i).onDrawOver(c, this, mState);</span><br><span class="line">    &#125;</span><br><span class="line">    ……</span><br></pre></td></tr></table></figure>


<figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">@Override</span><br><span class="line">public void onDraw(Canvas c) &#123;</span><br><span class="line">    super.onDraw(c);</span><br><span class="line"></span><br><span class="line">    // 执行ItemDecoration的onDraw方法，最底层</span><br><span class="line">    final int count = mItemDecorations.size();</span><br><span class="line">    for (int i = 0; i &lt; count; i++) &#123;</span><br><span class="line">        mItemDecorations.get(i).onDraw(c, this, mState);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


<h1 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h1><p> 看清楚了ItemDecoration的实现原理，具体通过什么方式绘制出什么样的图形，应该只是设计和时间的问题，Github上有不错的一些实现，大家有空可以去学习借鉴一下。</p>

        </div>
        
        
        
    </div>
</div>








    <div class="card">
    
    <div class="card-content article ">
        
        <div class="level article-meta is-size-7 is-uppercase is-mobile is-overflow-x-auto">
            <div class="level-left">
                <time class="level-item has-text-grey" datetime="2017-09-23T10:53:55.000Z">2017-09-23</time>
                
                <div class="level-item">
                <a class="has-link-grey -link" href="/categories/Android基础/">Android基础</a>
                </div>
                
                
                <span class="level-item has-text-grey">
                    
                    
                    几秒 读完 (大约 69 个字)
                </span>
                
                
            </div>
        </div>
        
        <h1 class="title is-size-3 is-size-4-mobile has-text-weight-normal">
            
                <a class="has-link-black-ter" href="/2017/09/23/《Android 基础（零)》 Android知识框架梳理/">《Android 基础（零)》 Android知识框架梳理</a>
            
        </h1>
        <div class="content">
            <h2 id="1-前言"><a href="#1-前言" class="headerlink" title="1. 前言"></a><a href></a>1. 前言</h2><p> 最近想梳理一下Android的基础知识，让知识有一些体系的概念。</p>
<h2 id="2-Android-基础知识体系"><a href="#2-Android-基础知识体系" class="headerlink" title="2. Android 基础知识体系"></a><a href></a>2. Android 基础知识体系</h2><p> <img src="https://img-blog.csdn.net/20170924074004120?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvcG9vcmtpY2s=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="这里写图片描述"></p>

        </div>
        
        
        
    </div>
</div>








    <div class="card">
    
    <div class="card-content article ">
        
        <div class="level article-meta is-size-7 is-uppercase is-mobile is-overflow-x-auto">
            <div class="level-left">
                <time class="level-item has-text-grey" datetime="2017-09-19T22:57:39.000Z">2017-09-20</time>
                
                <div class="level-item">
                <a class="has-link-grey -link" href="/categories/Android基础/">Android基础</a>
                </div>
                
                
                <span class="level-item has-text-grey">
                    
                    
                    10 分钟 读完 (大约 1527 个字)
                </span>
                
                
            </div>
        </div>
        
        <h1 class="title is-size-3 is-size-4-mobile has-text-weight-normal">
            
                <a class="has-link-black-ter" href="/2017/09/20/《Android 基础（四十四）》 View事件分发机制/">《Android 基础（四十四）》 View事件分发机制</a>
            
        </h1>
        <div class="content">
            <h2 id="1-前言"><a href="#1-前言" class="headerlink" title="1. 前言"></a><a href></a>1. 前言</h2><p> View的事件分发机制，指的时当一个点击事件或者一个触摸事件发生时，Android系统如何讲这个事件进行处理，“分发“表示这里存在上下级关系，就如同部门经理分发任务一样，这就涉及到任务从何而来，分发到谁手上，是否继续分发或者返回上级，直到最终确定任务谁来处理，如何处理。</p>
<hr>
<h2 id="2-小测试"><a href="#2-小测试" class="headerlink" title="2. 小测试"></a><a href></a>2. 小测试</h2><p> 写一个简单的测试Demo，看看运行过程</p>
<h3 id="2-1-ChildView"><a href="#2-1-ChildView" class="headerlink" title="2.1 ChildView"></a><a href></a>2.1 ChildView</h3><p> ChildView继承AppCompatButton,然后添加一些log</p>
<figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">public class ChildView extends android.support.v7.widget.AppCompatButton &#123;</span><br><span class="line">    public ChildView(Context context) &#123;</span><br><span class="line">        super(context);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public ChildView(Context context, @Nullable AttributeSet attrs) &#123;</span><br><span class="line">        super(context, attrs);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public ChildView(Context context, @Nullable AttributeSet attrs, int defStyleAttr) &#123;</span><br><span class="line">        super(context, attrs, defStyleAttr);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    @Override</span><br><span class="line">    public boolean onTouchEvent(MotionEvent event) &#123;</span><br><span class="line">        System.err.println(&quot;yidong -- ChildView onTouchEvent event = &quot; + event.getAction());</span><br><span class="line">        return super.onTouchEvent(event);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    @Override</span><br><span class="line">    public boolean dispatchTouchEvent(MotionEvent event) &#123;</span><br><span class="line">        System.err.println(&quot;yidong -- ChildView dispatchTouchEvent event = &quot; + event.getAction());</span><br><span class="line">        return super.dispatchTouchEvent(event);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


<h3 id="2-2-ParentLayout"><a href="#2-2-ParentLayout" class="headerlink" title="2.2 ParentLayout"></a><a href></a>2.2 ParentLayout</h3><p> ParentLayout继承LinearLayout，而LinearLayout时继承ViewGroup的添加一些log</p>
<figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line">public class ParentLayout extends LinearLayout &#123;</span><br><span class="line">    public ParentLayout(Context context) &#123;</span><br><span class="line">        super(context);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public ParentLayout(Context context, @Nullable AttributeSet attrs) &#123;</span><br><span class="line">        super(context, attrs);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    public ParentLayout(Context context, @Nullable AttributeSet attrs, int defStyleAttr) &#123;</span><br><span class="line">        super(context, attrs, defStyleAttr);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    @Override</span><br><span class="line">    public boolean onTouchEvent(MotionEvent event) &#123;</span><br><span class="line">        System.err.println(&quot;yidong -- ParentLayout onTouchEvent event = &quot; + event.getAction());</span><br><span class="line">        return super.onTouchEvent(event);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    @Override</span><br><span class="line">    public boolean onInterceptTouchEvent(MotionEvent ev) &#123;</span><br><span class="line">        System.err.println(&quot;yidong -- ParentLayout onInterceptTouchEvent event = &quot; + ev.getAction());</span><br><span class="line">        //return super.onInterceptTouchEvent(ev);</span><br><span class="line">        return false;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    @Override</span><br><span class="line">    public boolean dispatchTouchEvent(MotionEvent ev) &#123;</span><br><span class="line">        System.err.println(&quot;yidong -- ParentLayout dispatchTouchEvent event = &quot; + ev.getAction());</span><br><span class="line">        return super.dispatchTouchEvent(ev);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


<h3 id="2-3-布局文件"><a href="#2-3-布局文件" class="headerlink" title="2.3 布局文件"></a><a href></a>2.3 布局文件</h3><figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;</span><br><span class="line">&lt;cn.onlyloveyd.androideventdispatchdemo.ParentLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;</span><br><span class="line">    xmlns:tools=&quot;http://schemas.android.com/tools&quot;</span><br><span class="line">    android:layout_width=&quot;match_parent&quot;</span><br><span class="line">    android:layout_height=&quot;match_parent&quot;</span><br><span class="line">    android:id=&quot;@+id/parentLayout&quot;</span><br><span class="line">    tools:context=&quot;cn.onlyloveyd.androideventdispatchdemo.MainActivity&quot;&gt;</span><br><span class="line"></span><br><span class="line">    &lt;cn.onlyloveyd.androideventdispatchdemo.ChildView</span><br><span class="line">        android:id=&quot;@+id/childview&quot;</span><br><span class="line">        android:layout_width=&quot;match_parent&quot;</span><br><span class="line">        android:layout_height=&quot;wrap_content&quot;</span><br><span class="line">        android:text=&quot;ChildView&quot;/&gt;</span><br><span class="line"></span><br><span class="line">&lt;/cn.onlyloveyd.androideventdispatchdemo.ParentLayout&gt;</span><br></pre></td></tr></table></figure>


<h3 id="2-4-MainActivity"><a href="#2-4-MainActivity" class="headerlink" title="2.4 MainActivity"></a><a href></a>2.4 MainActivity</h3><p> 测试一下事件的传递过程</p>
<figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line">public class MainActivity extends AppCompatActivity &#123;</span><br><span class="line">    private ParentLayout parentLayout;</span><br><span class="line">    private ChildView childView;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    @Override</span><br><span class="line">    protected void onCreate(Bundle savedInstanceState) &#123;</span><br><span class="line">        super.onCreate(savedInstanceState);</span><br><span class="line">        setContentView(R.layout.activity_main);</span><br><span class="line"></span><br><span class="line">        parentLayout = (ParentLayout) findViewById(R.id.parentLayout);</span><br><span class="line">        childView = (ChildView) findViewById(R.id.childview);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        parentLayout.setOnTouchListener(new View.OnTouchListener() &#123;</span><br><span class="line">            @Override</span><br><span class="line">            public boolean onTouch(View view, MotionEvent motionEvent) &#123;</span><br><span class="line">                System.err.println(&quot;yidong -- ParentLayout onTouch event = &quot; + motionEvent.getAction());</span><br><span class="line">                return false;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br><span class="line"></span><br><span class="line">        childView.setOnTouchListener(new View.OnTouchListener() &#123;</span><br><span class="line">            @Override</span><br><span class="line">            public boolean onTouch(View view, MotionEvent motionEvent) &#123;</span><br><span class="line">                System.err.println(&quot;yidong -- ChildView onTouch event = &quot; + motionEvent.getAction());</span><br><span class="line">                return false;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br><span class="line"></span><br><span class="line">        childView.setOnClickListener(new View.OnClickListener() &#123;</span><br><span class="line">            @Override</span><br><span class="line">            public void onClick(View view) &#123;</span><br><span class="line">                System.err.println(&quot;yidong -- ChildView onClick&quot;);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


<h4 id="2-4-1-ParentLayout不拦截事件"><a href="#2-4-1-ParentLayout不拦截事件" class="headerlink" title="2.4.1 ParentLayout不拦截事件"></a><a href></a>2.4.1 ParentLayout不拦截事件</h4><p> ParentLayout的onInterceptTouchEvent方法直接return false；虽然使用super方法也是返回false，因为ViewGroup中就是直接返回的false。</p>
<figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">@Override</span><br><span class="line">public boolean onInterceptTouchEvent(MotionEvent ev) &#123;</span><br><span class="line">    System.err.println(&quot;yidong -- ParentLayout onInterceptTouchEvent event = &quot; + ev.getAction());</span><br><span class="line">    return false;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


<ul>
<li><p>点击Button<br> <img src="https://img-blog.csdn.net/20170921210813365?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvcG9vcmtpY2s=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="这里写图片描述"><br> 解释：<br> ACTION_DOWN事件由ParentLayout开始分发（暂时不考虑从Activity开始，只考虑View和ViewGroup），经过dispatchTouchEvent方法，首先判断是否拦截该事件，由于我们没有设置拦截，事件继续传递到ChildView，ChildView拿到事件之后，也是通过dispatchTouchEvent来进行分发，由于没有子View，开始执行设置的onTouch方法，由于我们onTouch返回的是false，表示没有消耗事件，继续交给ChildView的onTouchEvent处理，而ChildView继承的时AppCompatButton，在onTouchEvent中会消耗掉事件，这样后续的ACTION_UP事件才会继续被处理，最后会ACTION_DOWN和ACTION_UP一起形成onClick事件。这里假设在ChildView的onTouchEvent返回的时false，我们将会看到另外一种log。</p>
<p> <img src="https://img-blog.csdn.net/20170921213312836?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvcG9vcmtpY2s=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="这里写图片描述"><br> 解释：<br> 由于ChildView在onTouch和onTouchEvent中都没有消耗掉ACTION_DOWN事件，事件被返回给ParentLayout，而ParentLayout的onTouch和onTouchEvent中也都是返回的false，表示没有消耗事件，因此，这个事件一直都没有被处理。就好像领导给你一个任务，你竟然说你完成不了，后续的任务，你觉得会给你嘛？所以后面的ACTION_UP的影子都看不到。假如我们在ParentLayout的onTouch或者onTouchEvent中返回true。<br> <strong>若ParentLayout.onTouch返回true</strong><br> <img src="https://img-blog.csdn.net/20170921214032049?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvcG9vcmtpY2s=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="这里写图片描述"><br> 可以看到对于ACTION_DOWN事件在ParentLayout.onTouch结束，没有执行ParentLayout.onTouchEvent方法。而ACTION_UP在没有执行拦截判断的情况下，直接把事件交给ParentLayout的onTouch处理。就好像一个项目中的同一个模块的第一个任务，你很好的完成来，那么第二个任务，自然就是你的。因为你有能力完成，并且两个任务也是同一个模块。<br> <strong>若ParentLayout.onTouchEvetn返回true</strong><br> 前提时ParentLayout.onTouch方法return false<br> <img src="https://img-blog.csdn.net/20170921214538156?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvcG9vcmtpY2s=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="这里写图片描述"><br> 结果和上面的差不多，只是终点换来一个位置而已。</p>
</li>
</ul>
<ul>
<li>点击Button外空白区域<br> <img src="https://img-blog.csdn.net/20170921211445086?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvcG9vcmtpY2s=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="这里写图片描述"><br> 解释：<br> 由于ParentLayout的onTouch和onTouchEvent都是返回的false，ACTION_DOWN 事件并没有被消耗，所以后续的ACTION_UP事件自然是没有的，假如我们在onTouch或者onTouchEvent中return true。<br> <strong>若ParentLayout.onTouch返回true</strong><br> <img src="https://img-blog.csdn.net/20170921215200846?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvcG9vcmtpY2s=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="这里写图片描述"><br> <strong>若PatentLayout.onTouchEvent返回true</strong><br> <img src="https://img-blog.csdn.net/20170921214954710?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvcG9vcmtpY2s=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="这里写图片描述"><br> 解释基本和上面的一毛一样，不做赘述。</li>
</ul>
<h3 id="2-4-2-ParentLayout拦截事件"><a href="#2-4-2-ParentLayout拦截事件" class="headerlink" title="2.4.2 ParentLayout拦截事件"></a><a href></a>2.4.2 ParentLayout拦截事件</h3><figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">@Override</span><br><span class="line">public boolean onInterceptTouchEvent(MotionEvent ev) &#123;</span><br><span class="line">    System.err.println(&quot;yidong -- ParentLayout onInterceptTouchEvent event = &quot; + ev.getAction());</span><br><span class="line">    //return super.onInterceptTouchEvent(ev);</span><br><span class="line">    return true;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p> 结果可想而知，你的组长把活都自己做来，作为组员的你，自然时看不到任务的。运行结果和上面不拦截的情况下点击Button外部相同。具体的log要看ParentLayout的onTouch和onTouchEvent的执行结果。</p>
<h2 id="2-5-总结"><a href="#2-5-总结" class="headerlink" title="2.5 总结"></a><a href></a>2.5 总结</h2><p> <img src="https://img-blog.csdn.net/20170921220951549?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvcG9vcmtpY2s=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="这里写图片描述"></p>
<hr>
<h2 id="2-6-测试代码"><a href="#2-6-测试代码" class="headerlink" title="2.6 测试代码"></a><a href></a>2.6 测试代码</h2><p> <a href="https://github.com/onlyloveyd/AndroidEventDispatchDemo" target="_blank" rel="noopener">AndroidEventDispatchDemo</a></p>

        </div>
        
        
        
    </div>
</div>








    <div class="card">
    
    <div class="card-content article ">
        
        <div class="level article-meta is-size-7 is-uppercase is-mobile is-overflow-x-auto">
            <div class="level-left">
                <time class="level-item has-text-grey" datetime="2017-09-15T23:26:09.000Z">2017-09-16</time>
                
                <div class="level-item">
                <a class="has-link-grey -link" href="/categories/Android基础/">Android基础</a>
                </div>
                
                
                <span class="level-item has-text-grey">
                    
                    
                    9 分钟 读完 (大约 1291 个字)
                </span>
                
                
            </div>
        </div>
        
        <h1 class="title is-size-3 is-size-4-mobile has-text-weight-normal">
            
                <a class="has-link-black-ter" href="/2017/09/16/《Android 基础（四十三）》 SnapHelper/">《Android 基础（四十三）》 SnapHelper</a>
            
        </h1>
        <div class="content">
            <h2 id="1-简介"><a href="#1-简介" class="headerlink" title="1. 简介"></a><a href></a>1. 简介</h2><p> 先看看英文介绍</p>
<blockquote>
<p>/**</p>
</blockquote>
<ul>
<li><p>Class intended to support snapping for a {@link RecyclerView}. </p>
</li>
<li></li>
<li><p>SnapHelper tries to handle fling as well but for this to work properly, the </p>
</li>
<li><p>{@link RecyclerView.LayoutManager} must implement the {@link ScrollVectorProvider} interface or </p>
</li>
<li><p>you should override {@link #onFling(int, int)} and handle fling manually.<br> */  可以看出SnapHelper是对RecyclerView的一种拓展功能，支持snapping。SnapHelper通过处理RecyclerView的fling，来达到要展示的效果，但是这需要一个前提条件，就是RecyclerView的LayoutManager必须实现ScrollVectorProvider接口或者手动实现onFling接口，自己实现fling处理。</p>
<p>SnapHelper的实现原理是监听RecyclerView.OnFlingListener中的onFling接口。LinearSnapHelper&amp;PagerSnapHelper是抽象类SnapHelper的具体实现。<br>区别在于：<br>LinerSnapHelper，可滑动多页，居中显示；<br>PagerSnapHelper，每次只能滑动一页，居中显示；</p>
</li>
</ul>
<hr>
<h2 id="2-基本实现"><a href="#2-基本实现" class="headerlink" title="2. 基本实现"></a><a href></a>2. 基本实现</h2><h3 id="2-1-横向LinearSnapHelper"><a href="#2-1-横向LinearSnapHelper" class="headerlink" title="2.1 横向LinearSnapHelper"></a><a href></a>2.1 横向LinearSnapHelper</h3><figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">LinearLayoutManager llm = new LinearLayoutManager(this, LinearLayoutManager.HORIZONTAL, false);</span><br><span class="line">CardAdapter cardAdapter = new CardAdapter(this);</span><br><span class="line">LinearSnapHelper linearSnapHelper = new LinearSnapHelper();</span><br><span class="line"></span><br><span class="line">mRvContent.setLayoutManager(llm);</span><br><span class="line">mRvContent.setAdapter(cardAdapter);</span><br><span class="line">linearSnapHelper.attachToRecyclerView(mRvContent);</span><br></pre></td></tr></table></figure>

<p> <img src="https://img-blog.csdn.net/20170916082509676?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvcG9vcmtpY2s=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="这里写图片描述"></p>
<h3 id="2-2-纵向LinearSnapHelper"><a href="#2-2-纵向LinearSnapHelper" class="headerlink" title="2.2 纵向LinearSnapHelper"></a><a href></a>2.2 纵向LinearSnapHelper</h3><figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">LinearLayoutManager llm = new LinearLayoutManager(this, LinearLayoutManager.VERTICAL, false);</span><br><span class="line">CardAdapter cardAdapter = new CardAdapter(this);</span><br><span class="line">LinearSnapHelper linearSnapHelper = new LinearSnapHelper();</span><br><span class="line"></span><br><span class="line">mRvContent.setLayoutManager(llm);</span><br><span class="line">mRvContent.setAdapter(cardAdapter);</span><br><span class="line">linearSnapHelper.attachToRecyclerView(mRvContent);</span><br></pre></td></tr></table></figure>

<p> <img src="https://img-blog.csdn.net/20170916082714767?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvcG9vcmtpY2s=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="这里写图片描述"></p>
<h3 id="2-3-PagerSnapHelper-以横向为例"><a href="#2-3-PagerSnapHelper-以横向为例" class="headerlink" title="2.3 PagerSnapHelper(以横向为例)"></a><a href></a>2.3 PagerSnapHelper(以横向为例)</h3><figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">LinearLayoutManager llm = new LinearLayoutManager(this, LinearLayoutManager.HORIZONTAL, false);</span><br><span class="line">CardAdapter cardAdapter = new CardAdapter(this);</span><br><span class="line">PagerSnapHelper pagerSnapHelper = new PagerSnapHelper();</span><br><span class="line"></span><br><span class="line">mRvContent.setLayoutManager(llm);</span><br><span class="line">mRvContent.setAdapter(cardAdapter);</span><br><span class="line">pagerSnapHelper.attachToRecyclerView(mRvContent);</span><br></pre></td></tr></table></figure>

<p> <img src="https://img-blog.csdn.net/20170916082913366?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvcG9vcmtpY2s=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="这里写图片描述"></p>
<p> 一般步骤：</p>
<ol>
<li>创建SnapHelper； </li>
<li>attachToRecyclerView。  </li>
</ol>
<hr>
<h2 id="3-源码分析"><a href="#3-源码分析" class="headerlink" title="3. 源码分析"></a><a href></a>3. 源码分析</h2><p> SnapHelper源码结构：</p>
<p> <img src="https://img-blog.csdn.net/20170916083634162?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvcG9vcmtpY2s=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="这里写图片描述"></p>
<p> SnapHelper是一个抽象类，无构造方法。其中有三个抽象方法是需要子类去实现的</p>
<p> <img src="https://img-blog.csdn.net/20170916083929468?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvcG9vcmtpY2s=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="这里写图片描述"></p>
<pre><code>方法名                          | 描述                                                                                                                                            
---------------------------- | ---------------------------------------------------------------------------------------------------------------------------------------------- 
calculateDistanceToFinalSnap | 计算第二个参数对应的ItemView当前的坐标与需要对齐的坐标之间的距离。返回一个int[2]数组，分别对应x轴和y轴方向上的距离                                                                             
findSnapView                 | 找到最接近对齐位置的view，该view称为SanpView，对应的position称为SnapPosition。如果返回null，就表示没有需要对齐的View，也就不会做滚动对齐调整                                                  
findTargetSnapPosition       | 根据Fling操作的速率（参数velocityX和参数velocityY）找到需要滚动到的targetSnapPosition，该位置对应的View就是targetSnapView。如果找不到targetSnapPosition，就返回RecyclerView.NO_POSITION</code></pre><h3 id="3-1-attachToRecyclerView"><a href="#3-1-attachToRecyclerView" class="headerlink" title="3.1 attachToRecyclerView"></a><a href></a>3.1 attachToRecyclerView</h3><figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">public void attachToRecyclerView(@Nullable RecyclerView recyclerView)</span><br><span class="line">        throws IllegalStateException &#123;</span><br><span class="line">    if (mRecyclerView == recyclerView) &#123;</span><br><span class="line">        return; // nothing to do</span><br><span class="line">    &#125;</span><br><span class="line">    if (mRecyclerView != null) &#123;</span><br><span class="line">        destroyCallbacks();</span><br><span class="line">    &#125;</span><br><span class="line">    mRecyclerView = recyclerView;</span><br><span class="line">    if (mRecyclerView != null) &#123;</span><br><span class="line">        setupCallbacks();</span><br><span class="line">        mGravityScroller = new Scroller(mRecyclerView.getContext(),</span><br><span class="line">                new DecelerateInterpolator());</span><br><span class="line">        snapToTargetExistingView();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p> 1.判断绑定的RecyclerView 和之前的是否相同，不重复绑定；<br> 2.如果传入的RecyclerView不为空，则执行destoryCallbacks(), 移除滚动监听和onFlingListener</p>
<figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">private void destroyCallbacks() &#123;</span><br><span class="line">       mRecyclerView.removeOnScrollListener(mScrollListener);</span><br><span class="line">       mRecyclerView.setOnFlingListener(null);</span><br><span class="line">   &#125;</span><br></pre></td></tr></table></figure>

<p> 3.赋值成员变量mRecyclerView<br> 4.setupCallbacks()和destoryCallbacks()对应</p>
<figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">private void setupCallbacks() throws IllegalStateException &#123;</span><br><span class="line">     //如果onFlingListener已经设置过，则抛出异常</span><br><span class="line">     if (mRecyclerView.getOnFlingListener() != null) &#123;</span><br><span class="line">         throw new IllegalStateException(&quot;An instance of OnFlingListener already set.&quot;);</span><br><span class="line">     &#125;</span><br><span class="line">     mRecyclerView.addOnScrollListener(mScrollListener);</span><br><span class="line">     mRecyclerView.setOnFlingListener(this);</span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure>

<p> 5.创建mGravityScroller<br> 6.snapToTargetExistingView()<br> 这个方法在这里调用一次，其实更关键的调用地方是在OnScrollListener中</p>
<figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">// Handles the snap on scroll case.</span><br><span class="line">private final RecyclerView.OnScrollListener mScrollListener =</span><br><span class="line">        new RecyclerView.OnScrollListener() &#123;</span><br><span class="line">            boolean mScrolled = false;</span><br><span class="line"></span><br><span class="line">            @Override</span><br><span class="line">            public void onScrollStateChanged(RecyclerView recyclerView, int newState) &#123;</span><br><span class="line">                super.onScrollStateChanged(recyclerView, newState);</span><br><span class="line">                if (newState == RecyclerView.SCROLL_STATE_IDLE &amp;&amp; mScrolled) &#123;</span><br><span class="line">                    mScrolled = false;</span><br><span class="line">                    //当滑动状态为idle状态时并且刚结束滚动</span><br><span class="line">                    snapToTargetExistingView();</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            @Override</span><br><span class="line">            public void onScrolled(RecyclerView recyclerView, int dx, int dy) &#123;</span><br><span class="line">                if (dx != 0 || dy != 0) &#123;</span><br><span class="line">                    mScrolled = true;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;;</span><br></pre></td></tr></table></figure>


<figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">void snapToTargetExistingView() &#123;</span><br><span class="line">    if (mRecyclerView == null) &#123;</span><br><span class="line">        return;</span><br><span class="line">    &#125;</span><br><span class="line">    LayoutManager layoutManager = mRecyclerView.getLayoutManager();</span><br><span class="line">    if (layoutManager == null) &#123;</span><br><span class="line">        return;</span><br><span class="line">    &#125;</span><br><span class="line">    //找到SnapView</span><br><span class="line">    View snapView = findSnapView(layoutManager);</span><br><span class="line">    if (snapView == null) &#123;</span><br><span class="line">        return;</span><br><span class="line">    &#125;</span><br><span class="line">    //计算偏移量然后平滑的滑动过去</span><br><span class="line">    int[] snapDistance = calculateDistanceToFinalSnap(layoutManager, snapView);</span><br><span class="line">    if (snapDistance[0] != 0 || snapDistance[1] != 0) &#123;</span><br><span class="line">        mRecyclerView.smoothScrollBy(snapDistance[0], snapDistance[1]);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


<h3 id="3-2-onFling"><a href="#3-2-onFling" class="headerlink" title="3.2 onFling"></a><a href></a>3.2 onFling</h3><p> Fling操作：<br> 手指在屏幕上滑动RecyclerView后松手，RecyclerView中的内容会靠着惯性继续往之前滑动的方向继续滚动直到停止，这个过程叫做Fling。Fling操作从手指离开屏幕瞬间被触发，在滚动停止时结束。</p>
<p> 刚才在setupCallbacks()中设置的onFlingerListener</p>
<figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">public boolean onFling(int velocityX, int velocityY) &#123;</span><br><span class="line">    LayoutManager layoutManager = mRecyclerView.getLayoutManager();</span><br><span class="line">    if (layoutManager == null) &#123;</span><br><span class="line">        return false;</span><br><span class="line">    &#125;</span><br><span class="line">    RecyclerView.Adapter adapter = mRecyclerView.getAdapter();</span><br><span class="line">    if (adapter == null) &#123;</span><br><span class="line">        return false;</span><br><span class="line">    &#125;</span><br><span class="line">    //获取触发fling的最小速度</span><br><span class="line">    int minFlingVelocity = mRecyclerView.getMinFlingVelocity();</span><br><span class="line">    //横向或者纵向必须有一个滑动速度可以触发fling，snapFromFling和上面滚动监听器中的实现思路类似</span><br><span class="line">    return (Math.abs(velocityY) &gt; minFlingVelocity || Math.abs(velocityX) &gt; minFlingVelocity)</span><br><span class="line">            &amp;&amp; snapFromFling(layoutManager, velocityX, velocityY);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


<figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">private boolean snapFromFling(@NonNull LayoutManager layoutManager, int velocityX,</span><br><span class="line">        int velocityY) &#123;</span><br><span class="line">     //这就是为何前文中提到需要实现ScrollVectorProvider否则旧得自己实现onFling接口</span><br><span class="line">    if (!(layoutManager instanceof ScrollVectorProvider)) &#123;</span><br><span class="line">        return false;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    //创建scroller</span><br><span class="line">    RecyclerView.SmoothScroller smoothScroller = createSnapScroller(layoutManager);</span><br><span class="line">    if (smoothScroller == null) &#123;</span><br><span class="line">        return false;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    //找到目标snap位置</span><br><span class="line">    int targetPosition = findTargetSnapPosition(layoutManager, velocityX, velocityY);</span><br><span class="line">    if (targetPosition == RecyclerView.NO_POSITION) &#123;</span><br><span class="line">        return false;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    //平滑的滚动过去</span><br><span class="line">    smoothScroller.setTargetPosition(targetPosition);</span><br><span class="line">    layoutManager.startSmoothScroll(smoothScroller);</span><br><span class="line">    return true;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p> 有兴趣的盆友可以去查阅下LinearSnapHelper和PagerSnapHelper的源码。<br> 推荐源码阅读网站<br> <a href="http://androidxref.com/" target="_blank" rel="noopener">androidxref.com</a></p>
<hr>
<h2 id="4-源码"><a href="#4-源码" class="headerlink" title="4. 源码"></a><a href></a>4. 源码</h2><p> <a href="https://github.com/onlyloveyd/RecyclerViewGallery" target="_blank" rel="noopener">RecyclerViewGallery</a></p>
<hr>
<h2 id="5-推荐开源库"><a href="#5-推荐开源库" class="headerlink" title="5. 推荐开源库"></a><a href></a>5. 推荐开源库</h2><p> <a href="https://github.com/rubensousa/RecyclerViewSnap" target="_blank" rel="noopener">RecyclerViewSnap</a></p>

        </div>
        
        
        
    </div>
</div>








    <div class="card">
    
    <div class="card-content article ">
        
        <div class="level article-meta is-size-7 is-uppercase is-mobile is-overflow-x-auto">
            <div class="level-left">
                <time class="level-item has-text-grey" datetime="2017-09-12T13:23:09.000Z">2017-09-12</time>
                
                <div class="level-item">
                <a class="has-link-grey -link" href="/categories/Android基础/">Android基础</a>
                </div>
                
                
                <span class="level-item has-text-grey">
                    
                    
                    3 分钟 读完 (大约 403 个字)
                </span>
                
                
            </div>
        </div>
        
        <h1 class="title is-size-3 is-size-4-mobile has-text-weight-normal">
            
                <a class="has-link-black-ter" href="/2017/09/12/《Android 基础（四十二）》 MultiDex/">《Android 基础（四十二）》 MultiDex</a>
            
        </h1>
        <div class="content">
            <p> 版权声明：本文为博主原创文章，未经博主允许不得转载。 <a href="https://blog.csdn.net/poorkick/article/details/77946572" target="_blank" rel="noopener">https://blog.csdn.net/poorkick/article/details/77946572</a>   </p>
<h2 id="1-前言"><a href="#1-前言" class="headerlink" title="1. 前言"></a><a href></a>1. 前言</h2><p> 最近做项目开发的时候，遇到一个问题，NoClassDef,NoMethod之类的错误，但是把log往前看，会发现一些Dalvik的一些报错，看到这些log之后，就会觉得后面的什么方法找不到，类没有定义什么的错误真是的应该出现，那么这些Dalvik的错误怎么解释呢？<br> 因为类似的报错只出现在了一个同事的手机上，而且是KK版本，比较老。介绍下我的分析思路：</p>
<ol start="2">
<li><p>确定问题发生位置，注释掉（并解决因注释引起的编译错误）—&gt; Defeat </p>
</li>
<li><p>因为是KK版本，调整minSDK到19 —&gt; Defeat </p>
</li>
<li><p>删除或者更新引起问题的jar包 —&gt; Defeat </p>
</li>
<li><p>考虑到MultiDex在Android5.0 以后默认支持，为兼容旧版本，手动兼容一下<br> ————————&gt;Victory  </p>
<h2 id="2-配置MultiDex"><a href="#2-配置MultiDex" class="headerlink" title="2. 配置MultiDex"></a><a href></a>2. 配置MultiDex</h2><p>Android5.0及以上版本默认支持MultiDex</p>
</li>
</ol>
<h3 id="2-1-修改build-gradle"><a href="#2-1-修改build-gradle" class="headerlink" title="2.1 修改build.gradle"></a><a href></a>2.1 修改build.gradle</h3><figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">android &#123;</span><br><span class="line">    compileSdkVersion 21 </span><br><span class="line">    buildToolsVersion &quot;21.1.0&quot;</span><br><span class="line"></span><br><span class="line">    defaultConfig &#123;</span><br><span class="line">        ...</span><br><span class="line">        minSdkVersion 14</span><br><span class="line">        targetSdkVersion 21</span><br><span class="line">        ...</span><br><span class="line"></span><br><span class="line">        // Enabling MultiDex support.</span><br><span class="line">        multiDexEnabled true</span><br><span class="line">        &#125;</span><br><span class="line">        ...</span><br><span class="line">    &#125;</span><br><span class="line">    dependencies &#123; compile &apos;com.android.support:multidex:1.0.1&apos;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


<h3 id="2-2-修改application"><a href="#2-2-修改application" class="headerlink" title="2.2 修改application"></a><a href></a>2.2 修改application</h3><p> 三种方法</p>
<h4 id="2-2-1-在AndroidManifest-xml的application中声明android-support-MultiDex-MultiDexApplication"><a href="#2-2-1-在AndroidManifest-xml的application中声明android-support-MultiDex-MultiDexApplication" class="headerlink" title="2.2.1 在AndroidManifest.xml的application中声明android.support.MultiDex.MultiDexApplication"></a><a href></a>2.2.1 在AndroidManifest.xml的application中声明android.support.MultiDex.MultiDexApplication</h4><h4 id="2-2-2-让自己的application类继承MultiDexApplication；"><a href="#2-2-2-让自己的application类继承MultiDexApplication；" class="headerlink" title="2.2.2 让自己的application类继承MultiDexApplication；"></a><a href></a>2.2.2 让自己的application类继承MultiDexApplication；</h4><h4 id="2-2-3-重写attachBaseContext-方法"><a href="#2-2-3-重写attachBaseContext-方法" class="headerlink" title="2.2.3 重写attachBaseContext()方法"></a><a href></a>2.2.3 重写attachBaseContext()方法</h4><figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">@Override </span><br><span class="line">protected void attachBaseContext(Context base) &#123;</span><br><span class="line">    super.attachBaseContext(base);</span><br><span class="line">    MultiDex.install(this);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


<h2 id="3-推荐文章"><a href="#3-推荐文章" class="headerlink" title="3. 推荐文章"></a><a href></a>3. 推荐文章</h2><p> 更多关于MultiDex可以查阅<br> <a href="https://tech.meituan.com/mt-android-auto-split-dex.html" target="_blank" rel="noopener">美团技术沙龙关于分包的博客</a><br> 或者直接查看<a href="http://androidxref.com/7.1.1_r6/xref/frameworks/multidex/library/src/android/support/multidex/MultiDex.java" target="_blank" rel="noopener">MultiDex源码</a>。</p>

        </div>
        
        
        
    </div>
</div>








    <div class="card">
    
    <div class="card-content article ">
        
        <div class="level article-meta is-size-7 is-uppercase is-mobile is-overflow-x-auto">
            <div class="level-left">
                <time class="level-item has-text-grey" datetime="2017-08-27T05:04:27.000Z">2017-08-27</time>
                
                <div class="level-item">
                <a class="has-link-grey -link" href="/categories/Android基础/">Android基础</a>
                </div>
                
                
                <span class="level-item has-text-grey">
                    
                    
                    11 分钟 读完 (大约 1689 个字)
                </span>
                
                
            </div>
        </div>
        
        <h1 class="title is-size-3 is-size-4-mobile has-text-weight-normal">
            
                <a class="has-link-black-ter" href="/2017/08/27/《Android 基础（四十一）》 ExpandableListView/">《Android 基础（四十一）》 ExpandableListView</a>
            
        </h1>
        <div class="content">
            <h2 id="1-简介"><a href="#1-简介" class="headerlink" title="1. 简介"></a><a href></a>1. 简介</h2><p> 看下源码中的英文介绍</p>
<blockquote>
<p>/**</p>
</blockquote>
<ul>
<li>A view that shows items in a vertically scrolling two-level list. This </li>
<li>differs from the {@link ListView} by allowing two levels: groups which can </li>
<li>individually be expanded to show its children. The items come from the </li>
<li>{@link ExpandableListAdapter} associated with this view. </li>
<li></li>
<li>Expandable lists are able to show an indicator beside each item to display </li>
<li>the item’s current state (the states are usually one of expanded group, </li>
<li>collapsed group, child, or last child). Use </li>
<li>{@link #setChildIndicator(Drawable)} or {@link #setGroupIndicator(Drawable)} </li>
<li>(or the corresponding XML attributes) to set these indicators (see the docs </li>
<li>for each method to see additional state that each Drawable can have). The </li>
<li>default style for an {@link ExpandableListView} provides indicators which </li>
<li>will be shown next to Views given to the {@link ExpandableListView}. The </li>
<li>layouts android.R.layout.simple_expandable_list_item_1 and </li>
<li>android.R.layout.simple_expandable_list_item_2 (which should be used with </li>
<li>{@link SimpleCursorTreeAdapter}) contain the preferred position information </li>
<li>for indicators. </li>
<li></li>
<li>The context menu information set by an {@link ExpandableListView} will be a </li>
<li>{@link ExpandableListContextMenuInfo} object with </li>
<li>{@link ExpandableListContextMenuInfo#packedPosition} being a packed position </li>
<li>that can be used with {@link #getPackedPositionType(long)} and the other </li>
<li>similar methods. </li>
<li></li>
<li><em><strong>Note:</strong></em> You cannot use the value  <code>wrap_content</code>  </li>
<li>for the  <code>android:layout_height</code>  attribute of a </li>
<li>ExpandableListView in XML if the parent’s size is also not strictly specified </li>
<li>(for example, if the parent were ScrollView you could not specify </li>
<li>wrap_content since it also can be any length. However, you can use </li>
<li>wrap_content if the ExpandableListView parent has a specific size, such as </li>
<li>100 pixels. </li>
<li></li>
<li>@attr ref android.R.styleable#ExpandableListView_groupIndicator </li>
<li>@attr ref android.R.styleable#ExpandableListView_indicatorLeft </li>
<li>@attr ref android.R.styleable#ExpandableListView_indicatorRight </li>
<li>@attr ref android.R.styleable#ExpandableListView_childIndicator </li>
<li>@attr ref android.R.styleable#ExpandableListView_childIndicatorLeft </li>
<li>@attr ref android.R.styleable#ExpandableListView_childIndicatorRight </li>
<li>@attr ref android.R.styleable#ExpandableListView_childDivider </li>
<li>@attr ref android.R.styleable#ExpandableListView_indicatorStart </li>
<li>@attr ref android.R.styleable#ExpandableListView_indicatorEnd </li>
<li>@attr ref android.R.styleable#ExpandableListView_childIndicatorStart </li>
<li>@attr ref android.R.styleable#ExpandableListView_childIndicatorEnd<br> */  ExpandableListView是不同于ListView的两级列表View，可以收起可以展开。通过ExpandableListAdapter来配置需要现实的items。</li>
</ul>
<hr>
<h2 id="2-基本使用"><a href="#2-基本使用" class="headerlink" title="2. 基本使用"></a><a href></a>2. 基本使用</h2><h3 id="2-1-布局文件"><a href="#2-1-布局文件" class="headerlink" title="2.1 布局文件"></a><a href></a>2.1 布局文件</h3><p> group.xml(一级节点item布局)</p>
<figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;</span><br><span class="line">&lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;</span><br><span class="line">    android:layout_width=&quot;match_parent&quot;</span><br><span class="line">    android:layout_height=&quot;wrap_content&quot;</span><br><span class="line">    android:paddingLeft=&quot;30dp&quot;</span><br><span class="line">    android:orientation=&quot;vertical&quot; &gt;</span><br><span class="line">    &lt;TextView</span><br><span class="line">        android:id=&quot;@+id/group_text&quot;</span><br><span class="line">        android:layout_width=&quot;match_parent&quot;</span><br><span class="line">        android:layout_height=&quot;wrap_content&quot;</span><br><span class="line">        android:paddingTop=&quot;10dip&quot;</span><br><span class="line">        android:paddingBottom=&quot;10dip&quot;</span><br><span class="line">        android:text=&quot;&quot;</span><br><span class="line">        /&gt;</span><br><span class="line">&lt;/LinearLayout&gt;</span><br></pre></td></tr></table></figure>

<p> child.xml(二级节点item)</p>
<figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;</span><br><span class="line">&lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;</span><br><span class="line">    android:layout_width=&quot;match_parent&quot;</span><br><span class="line">    android:layout_height=&quot;match_parent&quot;</span><br><span class="line">    android:orientation=&quot;horizontal&quot;</span><br><span class="line">    android:paddingLeft=&quot;40dp&quot;&gt;</span><br><span class="line"></span><br><span class="line">    &lt;TextView</span><br><span class="line">        android:id=&quot;@+id/textOne&quot;</span><br><span class="line">        android:layout_width=&quot;match_parent&quot;</span><br><span class="line">        android:layout_height=&quot;match_parent&quot;</span><br><span class="line">        android:text=&quot;&quot; /&gt;</span><br><span class="line">&lt;/LinearLayout&gt;</span><br></pre></td></tr></table></figure>

<p> actiivty_main.xml(主界面布局)</p>
<figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;</span><br><span class="line">&lt;LinearLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;</span><br><span class="line">    xmlns:tools=&quot;http://schemas.android.com/tools&quot;</span><br><span class="line">    android:layout_width=&quot;match_parent&quot;</span><br><span class="line">    android:layout_height=&quot;match_parent&quot;</span><br><span class="line">    tools:context=&quot;cn.onlyloveyd.expandablelistviewdemo.MainActivity&quot;&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    &lt;ExpandableListView</span><br><span class="line">        android:id=&quot;@+id/expandable_list&quot;</span><br><span class="line">        android:layout_width=&quot;match_parent&quot;</span><br><span class="line">        android:layout_height=&quot;match_parent&quot;</span><br><span class="line">        android:groupIndicator=&quot;@drawable/expand&quot;</span><br><span class="line">        android:childIndicator=&quot;@drawable/collapse&quot;</span><br><span class="line">        /&gt;</span><br><span class="line"></span><br><span class="line">&lt;/LinearLayout&gt;</span><br></pre></td></tr></table></figure>


<h3 id="2-2-代码"><a href="#2-2-代码" class="headerlink" title="2.2 代码"></a><a href></a>2.2 代码</h3><p> YEAdapter.java(可伸展列表对应的Adapter)</p>
<figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br></pre></td><td class="code"><pre><span class="line">public class YEAdapter extends BaseExpandableListAdapter &#123;</span><br><span class="line"></span><br><span class="line">    //一级节点数据</span><br><span class="line">    private List&lt;GroupItem&gt; mGroupItems;</span><br><span class="line">    private Context mContext;</span><br><span class="line"></span><br><span class="line">    public YEAdapter(Context context, List&lt;GroupItem&gt; mData) &#123;</span><br><span class="line">        mGroupItems = mData;</span><br><span class="line">        mContext = context;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    /**</span><br><span class="line">     * 一级节点数量</span><br><span class="line">     * @return</span><br><span class="line">     */</span><br><span class="line">    @Override</span><br><span class="line">    public int getGroupCount() &#123;</span><br><span class="line">        return mGroupItems.size();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    /**</span><br><span class="line">     * 指定位置一级节点下二级节点数量</span><br><span class="line">     * @param groupPosition</span><br><span class="line">     * @return</span><br><span class="line">     */</span><br><span class="line">    @Override</span><br><span class="line">    public int getChildrenCount(int groupPosition) &#123;</span><br><span class="line">        return mGroupItems.get(groupPosition).mChildList.size();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    /**</span><br><span class="line">     * 获取一级节点对象</span><br><span class="line">     * @param groupPosition</span><br><span class="line">     * @return</span><br><span class="line">     */</span><br><span class="line">    @Override</span><br><span class="line">    public Object getGroup(int groupPosition) &#123;</span><br><span class="line">        return mGroupItems.get(groupPosition);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    /**</span><br><span class="line">     * 获取二级节点对象</span><br><span class="line">     * @param groupPosition</span><br><span class="line">     * @param childPosition</span><br><span class="line">     * @return</span><br><span class="line">     */</span><br><span class="line">    @Override</span><br><span class="line">    public Object getChild(int groupPosition, int childPosition) &#123;</span><br><span class="line">        return mGroupItems.get(groupPosition).mChildList.get(childPosition);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    /**</span><br><span class="line">     * 获取一级节点ID，这里用位置值表示</span><br><span class="line">     * @param groupPosition</span><br><span class="line">     * @return</span><br><span class="line">     */</span><br><span class="line">    @Override</span><br><span class="line">    public long getGroupId(int groupPosition) &#123;</span><br><span class="line">        return groupPosition;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    /**</span><br><span class="line">     * 获取二级节点ID，这里用位置值表示</span><br><span class="line">     * @param groupPosition</span><br><span class="line">     * @param childPosition</span><br><span class="line">     * @return</span><br><span class="line">     */</span><br><span class="line">    @Override</span><br><span class="line">    public long getChildId(int groupPosition, int childPosition) &#123;</span><br><span class="line">        return childPosition;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    /**</span><br><span class="line">     * ID是否稳定</span><br><span class="line">     * @return</span><br><span class="line">     */</span><br><span class="line">    @Override</span><br><span class="line">    public boolean hasStableIds() &#123;</span><br><span class="line">        return true;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    /**</span><br><span class="line">     * 获取一级节点view</span><br><span class="line">     * @param groupPosition</span><br><span class="line">     * @param isExpanded</span><br><span class="line">     * @param convertView</span><br><span class="line">     * @param parent</span><br><span class="line">     * @return</span><br><span class="line">     */</span><br><span class="line">    @Override</span><br><span class="line">    public View getGroupView(int groupPosition, boolean isExpanded, View convertView, ViewGroup parent) &#123;</span><br><span class="line">        View view=null;</span><br><span class="line">        TextView mTv;</span><br><span class="line">        if(convertView!=null)&#123;</span><br><span class="line">            view = convertView;</span><br><span class="line">            mTv = (TextView) view.getTag();</span><br><span class="line">        &#125;else&#123;</span><br><span class="line">            view = View.inflate(mContext,R.layout.group, null);</span><br><span class="line">            mTv = (TextView) view.findViewById(R.id.group_text);</span><br><span class="line">            view.setTag(mTv);</span><br><span class="line">        &#125;</span><br><span class="line">        mTv.setText(mGroupItems.get(groupPosition).title);</span><br><span class="line">        return view;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    /**</span><br><span class="line">     * 获取二级节点View</span><br><span class="line">     * @param groupPosition</span><br><span class="line">     * @param childPosition</span><br><span class="line">     * @param isLastChild</span><br><span class="line">     * @param convertView</span><br><span class="line">     * @param parent</span><br><span class="line">     * @return</span><br><span class="line">     */</span><br><span class="line">    @Override</span><br><span class="line">    public View getChildView(int groupPosition, int childPosition, boolean isLastChild, View convertView, ViewGroup parent) &#123;</span><br><span class="line">        View view=null;</span><br><span class="line">        TextView mTextView;</span><br><span class="line">        if(convertView!=null)&#123;</span><br><span class="line">            view = convertView;</span><br><span class="line">            mTextView = (TextView) view.getTag();</span><br><span class="line">        &#125;else&#123;</span><br><span class="line">            view = View.inflate(mContext,R.layout.child, null);</span><br><span class="line">            mTextView = (TextView) view.findViewById(R.id.textOne);</span><br><span class="line">            view.setTag(mTextView);</span><br><span class="line">        &#125;</span><br><span class="line">        mTextView.setText(mGroupItems.get(groupPosition).mChildList.get(childPosition).message);</span><br><span class="line">        return view;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    /**</span><br><span class="line">     * 二级菜单是否可选（true为可选，false为不可选，也就是响应和不响应点击事件）</span><br><span class="line">     * @param groupPosition</span><br><span class="line">     * @param childPosition</span><br><span class="line">     * @return</span><br><span class="line">     */</span><br><span class="line">    @Override</span><br><span class="line">    public boolean isChildSelectable(int groupPosition, int childPosition) &#123;</span><br><span class="line">        return true;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    /**</span><br><span class="line">     * 一级节点对象</span><br><span class="line">     */</span><br><span class="line">    public static class GroupItem &#123;</span><br><span class="line">        String title;</span><br><span class="line">        List&lt;ChildItem&gt; mChildList;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    /**</span><br><span class="line">     * 二级节点对象</span><br><span class="line">     */</span><br><span class="line">    public static class ChildItem &#123;</span><br><span class="line">        String message;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p> 具体解释请查阅注释信息</p>
<p> MainActivity.java</p>
<figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br></pre></td><td class="code"><pre><span class="line">public class MainActivity extends AppCompatActivity &#123;</span><br><span class="line"></span><br><span class="line">    @Override</span><br><span class="line">    protected void onCreate(Bundle savedInstanceState) &#123;</span><br><span class="line">        super.onCreate(savedInstanceState);</span><br><span class="line">        setContentView(R.layout.activity_main);</span><br><span class="line"></span><br><span class="line">        List&lt;YEAdapter.GroupItem&gt; mGroupItems = new ArrayList&lt;&gt;();</span><br><span class="line">        for (int i = 0; i &lt; 5; i++) &#123;</span><br><span class="line">            YEAdapter.GroupItem item = new YEAdapter.GroupItem();</span><br><span class="line">            item.title = &quot;this is &quot; + i + &quot;nd group item&quot;;</span><br><span class="line">            List&lt;YEAdapter.ChildItem&gt; mChildItems = new ArrayList&lt;&gt;();</span><br><span class="line">            for (int j = 0; j &lt; 4; j++) &#123;</span><br><span class="line">                YEAdapter.ChildItem item1 = new YEAdapter.ChildItem();</span><br><span class="line">                item1.message = &quot;this is &quot; + i + &quot;nd group item&apos;s &quot; + j + &quot;nd child&quot;;</span><br><span class="line">                mChildItems.add(item1);</span><br><span class="line">            &#125;</span><br><span class="line">            item.mChildList = mChildItems;</span><br><span class="line">            mGroupItems.add(item);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        ExpandableListView expandableListView = (ExpandableListView) this.findViewById(R.id.expandable_list);</span><br><span class="line"></span><br><span class="line">        YEAdapter yeAdapter = new YEAdapter(this, mGroupItems);</span><br><span class="line">        expandableListView.setAdapter(yeAdapter);</span><br><span class="line"></span><br><span class="line">        expandableListView.setOnChildClickListener(new ExpandableListView.OnChildClickListener() &#123;</span><br><span class="line">            @Override</span><br><span class="line">            public boolean onChildClick(ExpandableListView parent, View v, int groupPosition, int childPosition, long id) &#123;</span><br><span class="line">                Toast.makeText(MainActivity.this,  groupPosition + &quot;nd group&apos;s &quot; + childPosition + &quot;nd Item is clicked!&quot;, Toast.LENGTH_SHORT).show();</span><br><span class="line">                return false;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br><span class="line"></span><br><span class="line">        expandableListView.setOnGroupClickListener(new ExpandableListView.OnGroupClickListener() &#123;</span><br><span class="line">            @Override</span><br><span class="line">            public boolean onGroupClick(ExpandableListView parent, View v, int groupPosition, long id) &#123;</span><br><span class="line">                Toast.makeText(MainActivity.this, groupPosition + &quot;nd group is clicked&quot;, Toast.LENGTH_SHORT).show();</span><br><span class="line">                return false;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br><span class="line"></span><br><span class="line">        expandableListView.setOnGroupCollapseListener(new ExpandableListView.OnGroupCollapseListener() &#123;</span><br><span class="line">            @Override</span><br><span class="line">            public void onGroupCollapse(int groupPosition) &#123;</span><br><span class="line">                Toast.makeText(MainActivity.this, &quot;the &quot; + groupPosition + &quot;nd group is collapsed&quot;, Toast.LENGTH_SHORT).show();</span><br><span class="line"></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br><span class="line"></span><br><span class="line">        expandableListView.setOnGroupExpandListener(new ExpandableListView.OnGroupExpandListener() &#123;</span><br><span class="line">            @Override</span><br><span class="line">            public void onGroupExpand(int groupPosition) &#123;</span><br><span class="line">                Toast.makeText(MainActivity.this, &quot;the &quot; + groupPosition + &quot;nd group is expanded&quot;, Toast.LENGTH_SHORT).show();</span><br><span class="line"></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


<h3 id="2-3-实际效果"><a href="#2-3-实际效果" class="headerlink" title="2.3 实际效果"></a><a href></a>2.3 实际效果</h3><p> <img src="https://img-blog.csdn.net/20170827112342875?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvcG9vcmtpY2s=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="这里写图片描述"></p>
<hr>
<h2 id="3-类结构"><a href="#3-类结构" class="headerlink" title="3. 类结构"></a><a href></a>3. 类结构</h2><h3 id="3-1-属性值"><a href="#3-1-属性值" class="headerlink" title="3.1 属性值"></a><a href></a>3.1 属性值</h3><pre><code>属性值                 | 含义                     
------------------- | ----------------------- 
groupIndicator      | 一级节点指示器                
indicatorLeft       | 一级节点指示器距离左边界距离         
indicatorRight      | 一级节点指示器距离右边界距离         
childIndicator      | 意义同group中相同            
childIndicatorLeft  | 意义同group中相同            
childIndicatorRight | 意义同group中相同            
childDivider        | 设置二级节点的分割想，颜色或者drawable
indicatorStart      | 同indicatorLeft         
indicatorEnd        | 同indicatorRight        
childIndiatorStart  | 同childIndicatorLeft    
childIndicatorEnd   | 同childIndicatorRight   </code></pre><p>主要看看分割线效果<br> 设置图片<br> divider.xml</p>
<figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;</span><br><span class="line">&lt;shape xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;</span><br><span class="line">    &lt;solid</span><br><span class="line">        android:color=&quot;@color/colorAccent&quot;/&gt;</span><br><span class="line">    &lt;corners</span><br><span class="line">        android:radius=&quot;3dp&quot;/&gt;</span><br><span class="line">&lt;/shape&gt;</span><br></pre></td></tr></table></figure>

<p> <img src="https://img-blog.csdn.net/20170827114440803?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvcG9vcmtpY2s=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="这里写图片描述"></p>
<p> 设置颜色<br> android:childDivider=”@color/colorPrimary”<br> <img src="https://img-blog.csdn.net/20170827114556034?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvcG9vcmtpY2s=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="这里写图片描述"></p>
<p> 那么一级节点如何设置分割线?<br> 看这个例子</p>
<figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">android:childDivider=&quot;@color/colorPrimary&quot;</span><br><span class="line">android:divider=&quot;@drawable/divider&quot;</span><br><span class="line">android:dividerHeight=&quot;2dp&quot;</span><br></pre></td></tr></table></figure>

<p> 给一级菜单和二级菜单设置不同的分割线，看下效果</p>
<p> <img src="https://img-blog.csdn.net/20170827115316428?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvcG9vcmtpY2s=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="这里写图片描述"></p>
<p> 二级节点依然显示的时我们设置的分割线，但是当一级节点展开时，展开的节点的一级分割线变成了二级节点的分割线样式，收起后恢复成一级节点的分割线样式。</p>
<h3 id="3-2-常用方法"><a href="#3-2-常用方法" class="headerlink" title="3.2 常用方法"></a><a href></a>3.2 常用方法</h3><p> <img src="https://img-blog.csdn.net/20170827125256438?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvcG9vcmtpY2s=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="这里写图片描述"></p>
<p> 具体内容请查阅源码。</p>
<hr>
<h2 id="4-设置上下文菜单"><a href="#4-设置上下文菜单" class="headerlink" title="4. 设置上下文菜单"></a><a href></a>4. 设置上下文菜单</h2><h3 id="4-1-expandable-menu-xml"><a href="#4-1-expandable-menu-xml" class="headerlink" title="4.1 expandable_menu.xml"></a><a href></a>4.1 expandable_menu.xml</h3><figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;</span><br><span class="line">&lt;menu xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot; &gt;</span><br><span class="line">    &lt;item</span><br><span class="line">        android:id=&quot;@+id/menu_item1&quot;</span><br><span class="line">        android:title=&quot;菜单项1&quot;&gt;</span><br><span class="line">    &lt;/item&gt;</span><br><span class="line">    &lt;item</span><br><span class="line">        android:id=&quot;@+id/menu_item2&quot;</span><br><span class="line">        android:title=&quot;菜单项2&quot;&gt;</span><br><span class="line">    &lt;/item&gt;</span><br><span class="line"></span><br><span class="line">&lt;/menu&gt;</span><br></pre></td></tr></table></figure>


<h3 id="4-2-onCreateContextMenu"><a href="#4-2-onCreateContextMenu" class="headerlink" title="4.2 onCreateContextMenu"></a><a href></a>4.2 onCreateContextMenu</h3><figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">@Override</span><br><span class="line">public void onCreateContextMenu(ContextMenu menu, View v, ContextMenu.ContextMenuInfo menuInfo) &#123;</span><br><span class="line">    super.onCreateContextMenu(menu, v, menuInfo);</span><br><span class="line">    menu.setHeaderTitle(&quot;expandable menu&quot;);</span><br><span class="line">    getMenuInflater().inflate(R.menu.expandable_menu, menu);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


<h3 id="4-3-onContextItemSelected"><a href="#4-3-onContextItemSelected" class="headerlink" title="4.3 onContextItemSelected"></a><a href></a>4.3 onContextItemSelected</h3><figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">@Override</span><br><span class="line">public boolean onContextItemSelected(MenuItem item) &#123;</span><br><span class="line">    // TODO Auto-generated method stub</span><br><span class="line">    super.onContextItemSelected(item);</span><br><span class="line">    switch (item.getItemId()) &#123;</span><br><span class="line">        case R.id.menu_item1:</span><br><span class="line">            Toast.makeText(this, &quot;this is first menu item&quot;, Toast.LENGTH_SHORT).show();</span><br><span class="line">            break;</span><br><span class="line">        case R.id.menu_item2:</span><br><span class="line">            Toast.makeText(this, &quot;this is second menu item&quot;, Toast.LENGTH_SHORT).show();</span><br><span class="line">            break;</span><br><span class="line">        default:</span><br><span class="line">            break;</span><br><span class="line">    &#125;</span><br><span class="line">    return super.onContextItemSelected(item);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


<h3 id="4-4-item长按事件显示菜单并注册上下文菜单"><a href="#4-4-item长按事件显示菜单并注册上下文菜单" class="headerlink" title="4.4 item长按事件显示菜单并注册上下文菜单"></a><a href></a>4.4 item长按事件显示菜单并注册上下文菜单</h3><figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">expandableListView.setOnItemLongClickListener(new AdapterView.OnItemLongClickListener() &#123;</span><br><span class="line">    @Override</span><br><span class="line">    public boolean onItemLongClick(AdapterView&lt;?&gt; parent, View view, int position, long id) &#123;</span><br><span class="line">        if (ExpandableListView.getPackedPositionType(id) == ExpandableListView.PACKED_POSITION_TYPE_CHILD)</span><br><span class="line">        &#123;</span><br><span class="line">            expandableListView.showContextMenu();</span><br><span class="line">            return true;</span><br><span class="line">        &#125;</span><br><span class="line">        return false;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;);</span><br><span class="line">registerForContextMenu(expandableListView);</span><br></pre></td></tr></table></figure>


<hr>
<h2 id="5-备注"><a href="#5-备注" class="headerlink" title="5. 备注"></a><a href></a>5. 备注</h2><p> <a href="https://github.com/onlyloveyd/ExpandableListViewDemo" target="_blank" rel="noopener">程序源码</a></p>

        </div>
        
        
        
    </div>
</div>








    <div class="card">
    
    <div class="card-content article ">
        
        <div class="level article-meta is-size-7 is-uppercase is-mobile is-overflow-x-auto">
            <div class="level-left">
                <time class="level-item has-text-grey" datetime="2017-08-19T09:03:46.000Z">2017-08-19</time>
                
                <div class="level-item">
                <a class="has-link-grey -link" href="/categories/Android基础/">Android基础</a>
                </div>
                
                
                <span class="level-item has-text-grey">
                    
                    
                    12 分钟 读完 (大约 1819 个字)
                </span>
                
                
            </div>
        </div>
        
        <h1 class="title is-size-3 is-size-4-mobile has-text-weight-normal">
            
                <a class="has-link-black-ter" href="/2017/08/19/《Android 基础（四十)》 FlexboxLayout/">《Android 基础（四十)》 FlexboxLayout</a>
            
        </h1>
        <div class="content">
            <h2 id="1-简介"><a href="#1-简介" class="headerlink" title="1. 简介"></a>1. 简介</h2><p> <a href="https://github.com/google/flexbox-layout" target="_blank" rel="noopener">Flexbox-layout</a>，是Google推出的流式布局。具体的基本介绍可以参考Github上的Wiki。看一下类的英文说明：</p>
<blockquote>
<p>`/** </p>
<ul>
<li>A layout that arranges its children in a way its attributes can be specified like the </li>
<li>CSS Flexible Box Layout Module. </li>
<li>This class extends the {@link ViewGroup} like other layout classes such as {@link LinearLayout} </li>
<li>or {@link RelativeLayout}, the attributes can be specified from a layout XML or from code. </li>
<li></li>
<li>The supported attributes that you can use are: </li>
<li><ul> </ul></li>
<li></li><li>{@code flexDirection}</li> 
<li></li><li>{@code flexWrap}</li> 
<li></li><li>{@code justifyContent}</li> 
<li></li><li>{@code alignItems}</li> 
<li></li><li>{@code alignContent}</li> 
<li></li><li>{@code showDivider}</li> 
<li></li><li>{@code showDividerHorizontal}</li> 
<li></li><li>{@code showDividerVertical}</li> 
<li></li><li>{@code dividerDrawable}</li> 
<li></li><li>{@code dividerDrawableHorizontal}</li> 
<li></li><li>{@code dividerDrawableVertical}</li> 
<li></li></ul> 
<li>for the FlexboxLayout. </li>
<li></li>
<li>And for the children of the FlexboxLayout, you can use: </li>
<li><ul> </ul></li>
<li></li><li>{@code layout_order}</li> 
<li></li><li>{@code layout_flexGrow}</li> 
<li></li><li>{@code layout_flexShrink}</li> 
<li></li><li>{@code layout_flexBasisPercent}</li> 
<li></li><li>{@code layout_alignSelf}</li> 
<li></li><li>{@code layout_minWidth}</li> 
<li></li><li>{@code layout_minHeight}</li> 
<li></li><li>{@code layout_maxWidth}</li> 
<li></li><li>{@code layout_maxHeight}</li> 
<li></li><li>{@code layout_wrapBefore}</li> 
<li> </li>
<li>/` </li>

<p> 应该很容易看懂，主要是提供类似于CSS中Flexible Box Layout的能力。</p>
</blockquote>
<hr>
<h2 id="2-属性值"><a href="#2-属性值" class="headerlink" title="2. 属性值"></a>2. 属性值</h2><p> 针对FlexboxLayout</p>
<pre><code>属性                       
------------------------- 
flexDirection            
flexWrap                 
justifyContent           
alignItems               
alignContent             
showDivider              
showDividerHorizontal    
showDividerVertical      
dividerDrawable          
dividerDrawableHorizontal
dividerDrawableVertical  </code></pre><p> 针对FlexboxLayout中的子元素</p>
<pre><code>属性                     
----------------------- 
layout_order           
layout_flexGrow        
layout_flexShrink      
layout_flexBasisPercent
layout_alignSelf       
layout_minWidth        
layout_minHeight       
layout_maxWidth        
layout_maxHeight       
layout_wrapBefore      </code></pre><h2 id="3-FlexboxLayout属性自测"><a href="#3-FlexboxLayout属性自测" class="headerlink" title="3. FlexboxLayout属性自测"></a>3. FlexboxLayout属性自测</h2><h3 id="3-1-flexDirection"><a href="#3-1-flexDirection" class="headerlink" title="3.1 flexDirection"></a>3.1 flexDirection</h3><p> flexDirection属性支持row , row_reverse , column , column_reverse 四个取值。分别代表左右，右左，上下，下上。</p>
<pre><code>flexDIrection  | 效果图
-------------- | --- 
row            |    
row_reverse    |    
column         |    
column_reverse |    </code></pre><h3 id="3-2-flexWrap"><a href="#3-2-flexWrap" class="headerlink" title="3.2 flexWrap"></a>3.2 flexWrap</h3><p> flexWrap, 表示换行与否，支持wrap , nowrap , wrap_reverse。默认为noWrap，表示不换行，wrap表示自动换行，还有一个wrap_reverse 表示副轴反转。<br> 以flexDirection为row时为例</p>
<pre><code>flexWrap     | 
------------ |  
wrap         | 
nowrap       | 
wrap_reverse | </code></pre><h3 id="3-3-justifyContent"><a href="#3-3-justifyContent" class="headerlink" title="3.3 justifyContent"></a>3.3 justifyContent</h3><p> justifyContent，表示控件沿主轴对齐方向。支持flex_start , flex_end , center , space_between , space_around五种取值。</p>
<p> 下面以flexDirection为row , flexWrap为wrap为例，注意比较效果之间的差异，就可以很直观的了解到每个属性值的作用。</p>
<pre><code>justifyContent | 效果图
-------------- | --- 
flex_start     |    
flex_end       |    
center         |    
space_between  |    
space_around   |    </code></pre><h3 id="3-4-alignItems"><a href="#3-4-alignItems" class="headerlink" title="3.4 alignItems"></a>3.4 alignItems</h3><p> alignItems , 描述元素在副轴上的对齐方向（针对单行) , 支持flex_start , flex_end , center , baseline , stretch五种取值。</p>
<p> 以flexDirection为row , flexWrap为nowrap为例，注意比较不同属性之间的效果差异。由于上面示例中我们针对flexboxlayout的高度使用的时wrap_content , 下面这个示例中我们给flexboxlayout一个合适的固定高度活着改成match_parent更容易看出效果</p>
<pre><code>alignItems | 效果图
---------- | --- 
flex_start |    
flex_end   |    
center     |    
baseline   |    
stretch    |    </code></pre><h3 id="3-5-alignContent"><a href="#3-5-alignContent" class="headerlink" title="3.5 alignContent"></a>3.5 alignContent</h3><p> alignContent , 表示控件在副轴上的对齐方向（针对多行元素）。支持flex_start , flex_end , center , space_between , space_around , stretch六种取值</p>
<p> flexboxlayout改成match_parent , 以flexDirection为row , flexWrap为wrap为例， 看看效果</p>
<pre><code>alignContent  | 效果图
------------- | --- 
flex_start    |    
flex_end      |    
center        |    
space_between |    
space_around  |    
stretch       |    </code></pre><h3 id="3-6-showDivider-and-dividerDrawable"><a href="#3-6-showDivider-and-dividerDrawable" class="headerlink" title="3.6 showDivider and dividerDrawable"></a>3.6 showDivider and dividerDrawable</h3><p> showDivider , 显示分割线。支持none , beginning , middle , end 四种取值</p>
<p> 绘制一条分割线，然后flexDirection为row , flexWrap为wrap，dividerDrawable为@drawable/divider为例，看看效果</p>
<figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;</span><br><span class="line">&lt;shape xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;</span><br><span class="line">    &lt;solid android:color=&quot;@color/colorAccent&quot;&gt;&lt;/solid&gt;</span><br><span class="line">    &lt;size android:width=&quot;2dp&quot;/&gt;</span><br><span class="line">&lt;/shape&gt;</span><br></pre></td></tr></table></figure>


<pre><code>showDivider | 效果图
----------- | --- 
none        |    
beginning   |    
middle      |    
end         |    </code></pre><h3 id="3-7-showDividerHorizontal-and-dividerDrawableHorizontal"><a href="#3-7-showDividerHorizontal-and-dividerDrawableHorizontal" class="headerlink" title="3.7 showDividerHorizontal and dividerDrawableHorizontal"></a>3.7 showDividerHorizontal and dividerDrawableHorizontal</h3><p> 横向分割线，支持none , beginning , middle , end 四种取值，四种取值和上面的使用差不多，我们只举一个例子</p>
<p> 分割线</p>
<figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;</span><br><span class="line">&lt;shape xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;</span><br><span class="line">    &lt;solid android:color=&quot;@color/colorAccent&quot;&gt;&lt;/solid&gt;</span><br><span class="line">    &lt;size  android:height=&quot;2dp&quot;/&gt;</span><br><span class="line">&lt;/shape&gt;</span><br></pre></td></tr></table></figure>

<p> 布局文件</p>
<figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br></pre></td><td class="code"><pre><span class="line">&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;</span><br><span class="line">&lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;</span><br><span class="line">    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;</span><br><span class="line">    android:layout_width=&quot;match_parent&quot;</span><br><span class="line">    android:layout_height=&quot;match_parent&quot;&gt;</span><br><span class="line"></span><br><span class="line">    &lt;com.google.android.flexbox.FlexboxLayout</span><br><span class="line">        android:layout_width=&quot;match_parent&quot;</span><br><span class="line">        android:layout_height=&quot;wrap_content&quot;</span><br><span class="line">        android:background=&quot;#EBEBEB&quot;</span><br><span class="line">        app:flexDirection=&quot;column&quot;</span><br><span class="line">        app:showDividerHorizontal=&quot;middle&quot;</span><br><span class="line">        app:dividerDrawableHorizontal=&quot;@drawable/divider&quot;</span><br><span class="line">        app:flexWrap=&quot;wrap&quot;&gt;</span><br><span class="line"></span><br><span class="line">        &lt;TextView</span><br><span class="line">            android:paddingLeft=&quot;10dp&quot;</span><br><span class="line">            android:paddingRight=&quot;10dp&quot;</span><br><span class="line">            android:paddingTop=&quot;4dp&quot;</span><br><span class="line">            android:paddingBottom=&quot;4dp&quot;</span><br><span class="line">            android:layout_width=&quot;wrap_content&quot;</span><br><span class="line">            android:layout_height=&quot;wrap_content&quot;</span><br><span class="line">            android:layout_margin=&quot;4dp&quot;</span><br><span class="line">            android:background=&quot;@drawable/item_bg&quot;</span><br><span class="line">            android:text=&quot;Android&quot; /&gt;</span><br><span class="line"></span><br><span class="line">        &lt;TextView</span><br><span class="line">            android:layout_width=&quot;wrap_content&quot;</span><br><span class="line">            android:layout_height=&quot;wrap_content&quot;</span><br><span class="line">            android:layout_margin=&quot;4dp&quot;</span><br><span class="line">            android:background=&quot;@drawable/item_bg&quot;</span><br><span class="line">            android:paddingLeft=&quot;10dp&quot;</span><br><span class="line">            android:paddingRight=&quot;10dp&quot;</span><br><span class="line">            android:paddingTop=&quot;4dp&quot;</span><br><span class="line">            android:paddingBottom=&quot;4dp&quot;</span><br><span class="line">            android:text=&quot;android studio&quot; /&gt;</span><br><span class="line"></span><br><span class="line">        &lt;TextView</span><br><span class="line">            android:layout_width=&quot;wrap_content&quot;</span><br><span class="line">            android:layout_height=&quot;wrap_content&quot;</span><br><span class="line">            android:layout_margin=&quot;4dp&quot;</span><br><span class="line">            android:background=&quot;@drawable/item_bg&quot;</span><br><span class="line">            android:paddingLeft=&quot;10dp&quot;</span><br><span class="line">            android:paddingRight=&quot;10dp&quot;</span><br><span class="line">            android:paddingTop=&quot;4dp&quot;</span><br><span class="line">            android:paddingBottom=&quot;4dp&quot;</span><br><span class="line">            android:text=&quot;Android安全&quot; /&gt;</span><br><span class="line"></span><br><span class="line">        &lt;TextView</span><br><span class="line">            android:layout_width=&quot;wrap_content&quot;</span><br><span class="line">            android:layout_height=&quot;wrap_content&quot;</span><br><span class="line">            android:layout_margin=&quot;4dp&quot;</span><br><span class="line">            android:background=&quot;@drawable/item_bg&quot;</span><br><span class="line">            android:paddingLeft=&quot;10dp&quot;</span><br><span class="line">            android:paddingRight=&quot;10dp&quot;</span><br><span class="line">            android:paddingTop=&quot;4dp&quot;</span><br><span class="line">            android:paddingBottom=&quot;4dp&quot;</span><br><span class="line">            android:text=&quot;Android框架&quot; /&gt;</span><br><span class="line">    &lt;/com.google.android.flexbox.FlexboxLayout&gt;</span><br><span class="line">&lt;/RelativeLayout&gt;</span><br></pre></td></tr></table></figure>

<p> <img src="https://img-blog.csdn.net/20170819165036681?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvcG9vcmtpY2s=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="这里写图片描述"></p>
<h3 id="3-8-showDividerVertical-and-dividerDrawableVertical"><a href="#3-8-showDividerVertical-and-dividerDrawableVertical" class="headerlink" title="3.8 showDividerVertical and dividerDrawableVertical"></a>3.8 showDividerVertical and dividerDrawableVertical</h3><p> 和上面的用法相似，看下效果把</p>
<p> 分割线</p>
<figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;</span><br><span class="line">&lt;shape xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;&gt;</span><br><span class="line">    &lt;solid android:color=&quot;@color/colorAccent&quot;&gt;&lt;/solid&gt;</span><br><span class="line">    &lt;size  android:width=&quot;2dp&quot;/&gt;</span><br><span class="line">&lt;/shape&gt;</span><br></pre></td></tr></table></figure>

<p> <img src="https://img-blog.csdn.net/20170819165237041?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvcG9vcmtpY2s=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="这里写图片描述"></p>
<hr>
<h2 id="4-FlexboxLayout子元素属性自测"><a href="#4-FlexboxLayout子元素属性自测" class="headerlink" title="4. FlexboxLayout子元素属性自测"></a>4. FlexboxLayout子元素属性自测</h2><h3 id="4-1-layout-order"><a href="#4-1-layout-order" class="headerlink" title="4.1 layout_order"></a>4.1 layout_order</h3><p> 默认情况</p>
<figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line">&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;</span><br><span class="line">&lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;</span><br><span class="line">    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;</span><br><span class="line">    android:layout_width=&quot;match_parent&quot;</span><br><span class="line">    android:layout_height=&quot;match_parent&quot;&gt;</span><br><span class="line"></span><br><span class="line">    &lt;com.google.android.flexbox.FlexboxLayout</span><br><span class="line">        android:layout_width=&quot;match_parent&quot;</span><br><span class="line">        android:layout_height=&quot;wrap_content&quot;</span><br><span class="line">        android:background=&quot;#EBEBEB&quot;</span><br><span class="line">        app:flexDirection=&quot;row&quot;</span><br><span class="line">        app:flexWrap=&quot;wrap&quot;&gt;</span><br><span class="line"></span><br><span class="line">        &lt;TextView</span><br><span class="line">            android:paddingLeft=&quot;10dp&quot;</span><br><span class="line">            android:paddingRight=&quot;10dp&quot;</span><br><span class="line">            android:paddingTop=&quot;4dp&quot;</span><br><span class="line">            android:paddingBottom=&quot;4dp&quot;</span><br><span class="line">            android:layout_width=&quot;wrap_content&quot;</span><br><span class="line">            android:layout_height=&quot;wrap_content&quot;</span><br><span class="line">            android:layout_margin=&quot;4dp&quot;</span><br><span class="line">            android:background=&quot;@drawable/item_bg&quot;</span><br><span class="line">            android:gravity=&quot;center&quot;</span><br><span class="line">            android:text=&quot;Android&quot; /&gt;</span><br><span class="line"></span><br><span class="line">        &lt;TextView</span><br><span class="line">            android:layout_width=&quot;wrap_content&quot;</span><br><span class="line">            android:layout_height=&quot;wrap_content&quot;</span><br><span class="line">            android:layout_margin=&quot;4dp&quot;</span><br><span class="line">            android:background=&quot;@drawable/item_bg&quot;</span><br><span class="line">            android:paddingLeft=&quot;10dp&quot;</span><br><span class="line">            android:paddingRight=&quot;10dp&quot;</span><br><span class="line">            android:paddingTop=&quot;4dp&quot;</span><br><span class="line">            android:paddingBottom=&quot;4dp&quot;</span><br><span class="line">            android:text=&quot;android studio&quot; /&gt;</span><br><span class="line"></span><br><span class="line">        &lt;TextView</span><br><span class="line">            android:layout_width=&quot;wrap_content&quot;</span><br><span class="line">            android:layout_height=&quot;wrap_content&quot;</span><br><span class="line">            android:layout_margin=&quot;4dp&quot;</span><br><span class="line">            android:background=&quot;@drawable/item_bg&quot;</span><br><span class="line">            android:paddingLeft=&quot;10dp&quot;</span><br><span class="line">            android:paddingRight=&quot;10dp&quot;</span><br><span class="line">            android:paddingTop=&quot;4dp&quot;</span><br><span class="line">            android:paddingBottom=&quot;4dp&quot;</span><br><span class="line">            android:text=&quot;Android安全&quot; /&gt;</span><br><span class="line">    &lt;/com.google.android.flexbox.FlexboxLayout&gt;</span><br><span class="line">&lt;/RelativeLayout&gt;</span><br></pre></td></tr></table></figure>

<p> <img src="https://img-blog.csdn.net/20170819104851565?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvcG9vcmtpY2s=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="这里写图片描述"></p>
<p> 顺序排一下 2，3，1</p>
<figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line">&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;</span><br><span class="line">&lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;</span><br><span class="line">    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;</span><br><span class="line">    android:layout_width=&quot;match_parent&quot;</span><br><span class="line">    android:layout_height=&quot;match_parent&quot;&gt;</span><br><span class="line"></span><br><span class="line">    &lt;com.google.android.flexbox.FlexboxLayout</span><br><span class="line">        android:layout_width=&quot;match_parent&quot;</span><br><span class="line">        android:layout_height=&quot;wrap_content&quot;</span><br><span class="line">        android:background=&quot;#EBEBEB&quot;</span><br><span class="line">        app:flexDirection=&quot;row&quot;</span><br><span class="line">        app:flexWrap=&quot;wrap&quot;&gt;</span><br><span class="line"></span><br><span class="line">        &lt;TextView</span><br><span class="line">            android:paddingLeft=&quot;10dp&quot;</span><br><span class="line">            android:paddingRight=&quot;10dp&quot;</span><br><span class="line">            android:paddingTop=&quot;4dp&quot;</span><br><span class="line">            android:paddingBottom=&quot;4dp&quot;</span><br><span class="line">            app:layout_order=&quot;2&quot;</span><br><span class="line">            android:layout_width=&quot;wrap_content&quot;</span><br><span class="line">            android:layout_height=&quot;wrap_content&quot;</span><br><span class="line">            android:layout_margin=&quot;4dp&quot;</span><br><span class="line">            android:background=&quot;@drawable/item_bg&quot;</span><br><span class="line">            android:gravity=&quot;center&quot;</span><br><span class="line">            android:text=&quot;Android&quot; /&gt;</span><br><span class="line"></span><br><span class="line">        &lt;TextView</span><br><span class="line">            android:layout_width=&quot;wrap_content&quot;</span><br><span class="line">            android:layout_height=&quot;wrap_content&quot;</span><br><span class="line">            android:layout_margin=&quot;4dp&quot;</span><br><span class="line">            app:layout_order=&quot;3&quot;</span><br><span class="line">            android:background=&quot;@drawable/item_bg&quot;</span><br><span class="line">            android:paddingLeft=&quot;10dp&quot;</span><br><span class="line">            android:paddingRight=&quot;10dp&quot;</span><br><span class="line">            android:paddingTop=&quot;4dp&quot;</span><br><span class="line">            android:paddingBottom=&quot;4dp&quot;</span><br><span class="line">            android:text=&quot;android studio&quot; /&gt;</span><br><span class="line"></span><br><span class="line">        &lt;TextView</span><br><span class="line">            android:layout_width=&quot;wrap_content&quot;</span><br><span class="line">            android:layout_height=&quot;wrap_content&quot;</span><br><span class="line">            android:layout_margin=&quot;4dp&quot;</span><br><span class="line">            android:background=&quot;@drawable/item_bg&quot;</span><br><span class="line">            android:paddingLeft=&quot;10dp&quot;</span><br><span class="line">            android:paddingRight=&quot;10dp&quot;</span><br><span class="line">            app:layout_order=&quot;1&quot;</span><br><span class="line">            android:paddingTop=&quot;4dp&quot;</span><br><span class="line">            android:paddingBottom=&quot;4dp&quot;</span><br><span class="line">            android:text=&quot;Android安全&quot; /&gt;</span><br><span class="line">     &lt;/com.google.android.flexbox.FlexboxLayout&gt;</span><br><span class="line">&lt;/RelativeLayout&gt;</span><br></pre></td></tr></table></figure>

<p> <img src="https://img-blog.csdn.net/20170819105011843?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvcG9vcmtpY2s=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="这里写图片描述"></p>
<h3 id="4-2-layout-flexGrow"><a href="#4-2-layout-flexGrow" class="headerlink" title="4.2 layout_flexGrow"></a>4.2 layout_flexGrow</h3><p> layout_flexGrow ,子元素的放大比例， 决定如何分配剩余空间（如果存在剩余空间的话），默认值为0,不会分配剩余空间，如果某一行中有一个item的 layout_flexGrow 是一个正值，那么会将这行全部剩余空间分配给这个Item , 如果这一行有多个Item这个属性都为正值，那么剩余空间的按照layout_flexGrow定义的比例（有点像LinearLayout的layout_weight属性）进行分配</p>
<figure class="highlight plain hljs"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line">&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;</span><br><span class="line">&lt;RelativeLayout xmlns:android=&quot;http://schemas.android.com/apk/res/android&quot;</span><br><span class="line">    xmlns:app=&quot;http://schemas.android.com/apk/res-auto&quot;</span><br><span class="line">    android:layout_width=&quot;match_parent&quot;</span><br><span class="line">    android:layout_height=&quot;match_parent&quot;&gt;</span><br><span class="line"></span><br><span class="line">    &lt;com.google.android.flexbox.FlexboxLayout</span><br><span class="line">        android:layout_width=&quot;match_parent&quot;</span><br><span class="line">        android:layout_height=&quot;wrap_content&quot;</span><br><span class="line">        android:background=&quot;#EBEBEB&quot;</span><br><span class="line">        app:flexDirection=&quot;row&quot;</span><br><span class="line">        app:flexWrap=&quot;wrap&quot;&gt;</span><br><span class="line"></span><br><span class="line">        &lt;TextView</span><br><span class="line">            android:paddingLeft=&quot;10dp&quot;</span><br><span class="line">            android:paddingRight=&quot;10dp&quot;</span><br><span class="line">            android:paddingTop=&quot;4dp&quot;</span><br><span class="line">            android:paddingBottom=&quot;4dp&quot;</span><br><span class="line">            android:layout_width=&quot;wrap_content&quot;</span><br><span class="line">            android:layout_height=&quot;wrap_content&quot;</span><br><span class="line">            android:layout_margin=&quot;4dp&quot;</span><br><span class="line">            android:background=&quot;@drawable/item_bg&quot;</span><br><span class="line">            app:layout_flexGrow=&quot;10.0&quot;</span><br><span class="line">            android:text=&quot;Android&quot; /&gt;</span><br><span class="line"></span><br><span class="line">        &lt;TextView</span><br><span class="line">            android:layout_width=&quot;wrap_content&quot;</span><br><span class="line">            android:layout_height=&quot;wrap_content&quot;</span><br><span class="line">            android:layout_margin=&quot;4dp&quot;</span><br><span class="line">            android:background=&quot;@drawable/item_bg&quot;</span><br><span class="line">            android:paddingLeft=&quot;10dp&quot;</span><br><span class="line">            android:paddingRight=&quot;10dp&quot;</span><br><span class="line">            android:paddingTop=&quot;4dp&quot;</span><br><span class="line">            android:paddingBottom=&quot;4dp&quot;</span><br><span class="line">            android:text=&quot;android studio&quot; /&gt;</span><br><span class="line"></span><br><span class="line">        &lt;TextView</span><br><span class="line">            android:layout_width=&quot;wrap_content&quot;</span><br><span class="line">            android:layout_height=&quot;wrap_content&quot;</span><br><span class="line">            android:layout_margin=&quot;4dp&quot;</span><br><span class="line">            android:background=&quot;@drawable/item_bg&quot;</span><br><span class="line">            android:paddingLeft=&quot;10dp&quot;</span><br><span class="line">            android:paddingRight=&quot;10dp&quot;</span><br><span class="line">            android:paddingTop=&quot;4dp&quot;</span><br><span class="line">            android:paddingBottom=&quot;4dp&quot;</span><br><span class="line">            app:layout_flexGrow=&quot;10.0&quot;</span><br><span class="line">            android:text=&quot;Android安全&quot; /&gt;</span><br><span class="line">     &lt;/com.google.android.flexbox.FlexboxLayout&gt;</span><br><span class="line">&lt;/RelativeLayout&gt;</span><br></pre></td></tr></table></figure>

<p> <img src="https://img-blog.csdn.net/20170819105801479?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvcG9vcmtpY2s=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="这里写图片描述"><br> 可以看到黄色框内的两个元素（也就是第一个子元素和第三个子元素）按照1：1 的比例分配了这一行中剩余的空间。</p>
<h3 id="4-3-layout-flexShrink"><a href="#4-3-layout-flexShrink" class="headerlink" title="4.3 layout_flexShrink"></a>4.3 layout_flexShrink</h3><p> layout_flexShrink , 子元素缩小比例 , 与上面的属性值有点对应关系，当空间不足时，子元素需要缩小（针对单行），默认值为1，如果所有子元素的layout_flexShrink 值为1,空间不足时，都等比缩小，如果有一个为0，其他为1，空间不足时，为0的不缩小，负值无效。</p>
<p> 这里引用Github上的一个图，看看效果<br> <img src="https://github.com/google/flexbox-layout/blob/master/assets/layout_flexShrink.gif?raw=true" alt="缩小比例"></p>
<h3 id="4-4-layout-alignSelf"><a href="#4-4-layout-alignSelf" class="headerlink" title="4.4 layout_alignSelf"></a>4.4 layout_alignSelf</h3><p> layout_alignSelf 属性可以给子元素设置对齐方式，上面讲的alignItems属性可以设置对齐，这个属性的功能和alignItems一样，只不过alignItems作用于所有子元素，而layout_alignSelf 作用于单个子元素。默认值为auto, 表示继承alignItems属性，如果为auto以外的值，则会覆盖alignItems属性。支持auto , flex_start , flex_end , center , baseline , stretch六种取值。除了auto以外，其他和alignItems属性一样，而auto表示继承alignItems的属性，所以基本上效果相同，这里不做过多解释。</p>
<h3 id="4-5-layout-flexBasisPercent"><a href="#4-5-layout-flexBasisPercent" class="headerlink" title="4.5 layout_flexBasisPercent"></a>4.5 layout_flexBasisPercent</h3><p> layout_flexBasisPercen , 表示设置子元素的长度为它父容器长度的百分比。这个值只有设置了父容器的长度时才有效（也就是MeasureSpec mode 是 MeasureSpec.EXACTLY）。默认值时-1。</p>
<p> 设置第一个元素<br> app:layout_flexBasisPercent=”50%”</p>
<p> <img src="https://img-blog.csdn.net/20170819110847741?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvcG9vcmtpY2s=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="这里写图片描述"></p>
<h3 id="4-6-layout-minWidth-layout-minHeight"><a href="#4-6-layout-minWidth-layout-minHeight" class="headerlink" title="4.6 layout_minWidth / layout_minHeight"></a>4.6 layout_minWidth / layout_minHeight</h3><p> 强制限制 FlexboxLayout的子元素（宽或高）不会小于最小值，不管layout_flexShrink这个属性的值为多少，子元素不会被缩小到小于设置的这个最小值。</p>
<h3 id="4-7-layout-maxWidth-layout-maxHeight"><a href="#4-7-layout-maxWidth-layout-maxHeight" class="headerlink" title="4.7 layout_maxWidth / layout_maxHeight"></a>4.7 layout_maxWidth / layout_maxHeight</h3><p> 这个和上面的刚好相反，强制限制FlexboxLayout子元素不会大于这个最大值, 不管layout_flexGrow的值为多少，子元素不会被放大到超过这个最大值。</p>
<h3 id="4-8-layout-wrapBefore"><a href="#4-8-layout-wrapBefore" class="headerlink" title="4.8 layout_wrapBefore"></a>4.8 layout_wrapBefore</h3><p> layout_wrapBefore 属性控制强制换行，默认值为false,如果将一个子元素的这个属性设置为true，那么这个子元素将会成为一行的第一个元素。这个属性将忽略flex_wrap 设置的 noWrap值。</p>
<p> 设置第三个元素<br> app:layout_wrapBefore=”true”</p>
<p> <img src="https://img-blog.csdn.net/20170819111329476?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQvcG9vcmtpY2s=/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/SouthEast" alt="这里写图片描述"></p>
<p> 可以看到第三个元素另起了一行</p>
<hr>

        </div>
        
        
        
    </div>
</div>









    
<div class="card card-transparent">
    <nav class="pagination is-centered" role="navigation" aria-label="pagination">
        <div class="pagination-previous is-invisible is-hidden-mobile">
            <a class="is-flex-grow has-text-black-ter" href="/tags/布局控件/page/0/">上一页</a>
        </div>
        <div class="pagination-next">
            <a class="is-flex-grow has-text-black-ter" href="/tags/布局控件/page/2/">下一页</a>
        </div>
        <ul class="pagination-list is-hidden-mobile">
            
            <li><a class="pagination-link is-current" href="/tags/布局控件/">1</a></li>
            
            <li><a class="pagination-link has-text-black-ter" href="/tags/布局控件/page/2/">2</a></li>
            
            <li><a class="pagination-link has-text-black-ter" href="/tags/布局控件/page/3/">3</a></li>
            
            <li><a class="pagination-link has-text-black-ter" href="/tags/布局控件/page/4/">4</a></li>
            
        </ul>
    </nav>
</div>
</div>
                




<div class="column is-4-tablet is-4-desktop is-3-widescreen  has-order-1 column-left ">
    
        
<div class="card widget">
    <div class="card-content">
        <nav class="level">
            <div class="level-item has-text-centered">
                <div>
                    
                        <img class="image is-128x128 has-mb-6" src="/images/avatar.png" alt="Onlyloveyd">
                    
                    
                    <p class="is-size-4 is-block">
                        Onlyloveyd
                    </p>
                    
                    
                    <p class="is-size-6 is-block">
                        小码过河
                    </p>
                    
                    
                    <p class="is-size-6 is-flex is-flex-center has-text-grey">
                        <i class="fas fa-map-marker-alt has-mr-7"></i>
                        <span>China，GuiYang</span>
                    </p>
                    
                </div>
            </div>
        </nav>
        <nav class="level is-mobile">
            <div class="level-item has-text-centered is-marginless">
                <div>
                    <p class="heading">
                        文章
                    </p>
                    <p class="title has-text-weight-normal">
                        163
                    </p>
                </div>
            </div>
            <div class="level-item has-text-centered is-marginless">
                <div>
                    <p class="heading">
                        分类
                    </p>
                    <p class="title has-text-weight-normal">
                        14
                    </p>
                </div>
            </div>
            <div class="level-item has-text-centered is-marginless">
                <div>
                    <p class="heading">
                        标签
                    </p>
                    <p class="title has-text-weight-normal">
                        81
                    </p>
                </div>
            </div>
        </nav>
        <div class="level">
            <a class="level-item button is-link is-rounded" href="https://github.com/onlyloveyd" target="_blank">
                关注我</a>
        </div>
        
        
        <div class="level is-mobile">
            
            <a class="level-item button is-white is-marginless" target="_blank" title="Github" href="https://github.com/onlyloveyd">
                
                <i class="fab fa-github"></i>
                
            </a>
            
            <a class="level-item button is-white is-marginless" target="_blank" title="CSDN" href="https://blog.csdn.net/poorkick">
                
                <i class="blog"></i>
                
            </a>
            
            <a class="level-item button is-white is-marginless" target="_blank" title="RSS" href="/">
                
                <i class="fas fa-rss"></i>
                
            </a>
            
        </div>
        
    </div>
</div>
    
        
    
        

<div class="card widget">
    <div class="card-content">
        <div class="menu">
        <h3 class="menu-label">
            链接
        </h3>
        <ul class="menu-list">
        
            <li>
                <a class="level is-mobile" href="https://hexo.io" target="_blank">
                    <span class="level-left">
                        <span class="level-item">Hexo</span>
                    </span>
                    <span class="level-right">
                        <span class="level-item tag">hexo.io</span>
                    </span>
                </a>
            </li>
        
            <li>
                <a class="level is-mobile" href="https://github.com/ppoffice" target="_blank">
                    <span class="level-left">
                        <span class="level-item">PPOffice</span>
                    </span>
                    <span class="level-right">
                        <span class="level-item tag">github.com</span>
                    </span>
                </a>
            </li>
        
        </ul>
        </div>
    </div>
</div>


    
        
<div class="card widget">
    <div class="card-content">
        <div class="menu">
            <h3 class="menu-label">
                分类
            </h3>
            <ul class="menu-list">
            <li>
        <a class="level is-marginless" href="/categories/Android基础/">
            <span class="level-start">
                <span class="level-item">Android基础</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">58</span>
            </span>
        </a><ul><li>
        <a class="level is-marginless" href="/categories/Android基础/Android-Studio/">
            <span class="level-start">
                <span class="level-item">Android Studio</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">1</span>
            </span>
        </a></li></ul></li><li>
        <a class="level is-marginless" href="/categories/Android安全/">
            <span class="level-start">
                <span class="level-item">Android安全</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">3</span>
            </span>
        </a></li><li>
        <a class="level is-marginless" href="/categories/Android应用/">
            <span class="level-start">
                <span class="level-item">Android应用</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">26</span>
            </span>
        </a></li><li>
        <a class="level is-marginless" href="/categories/Android开源库/">
            <span class="level-start">
                <span class="level-item">Android开源库</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">29</span>
            </span>
        </a></li><li>
        <a class="level is-marginless" href="/categories/Android源码/">
            <span class="level-start">
                <span class="level-item">Android源码</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">11</span>
            </span>
        </a></li><li>
        <a class="level is-marginless" href="/categories/Android系统/">
            <span class="level-start">
                <span class="level-item">Android系统</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">1</span>
            </span>
        </a></li><li>
        <a class="level is-marginless" href="/categories/Android进阶/">
            <span class="level-start">
                <span class="level-item">Android进阶</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">8</span>
            </span>
        </a></li><li>
        <a class="level is-marginless" href="/categories/Angular/">
            <span class="level-start">
                <span class="level-item">Angular</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">1</span>
            </span>
        </a></li><li>
        <a class="level is-marginless" href="/categories/Flutter/">
            <span class="level-start">
                <span class="level-item">Flutter</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">1</span>
            </span>
        </a></li><li>
        <a class="level is-marginless" href="/categories/Kotlin/">
            <span class="level-start">
                <span class="level-item">Kotlin</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">5</span>
            </span>
        </a></li><li>
        <a class="level is-marginless" href="/categories/LeetCode/">
            <span class="level-start">
                <span class="level-item">LeetCode</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">4</span>
            </span>
        </a></li><li>
        <a class="level is-marginless" href="/categories/微信小程序/">
            <span class="level-start">
                <span class="level-item">微信小程序</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">3</span>
            </span>
        </a></li><li>
        <a class="level is-marginless" href="/categories/运维/">
            <span class="level-start">
                <span class="level-item">运维</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">13</span>
            </span>
        </a></li>
            </ul>
        </div>
    </div>
</div>
    
        
<div class="card widget">
    <div class="card-content">
        <h3 class="menu-label">
            标签云
        </h3>
        <a href="/tags/Aandroid实战/" style="font-size: 10px;">Aandroid实战</a> <a href="/tags/Android-Studio/" style="font-size: 13.08px;">Android Studio</a> <a href="/tags/Android基础/" style="font-size: 10px;">Android基础</a> <a href="/tags/Android实战/" style="font-size: 18.46px;">Android实战</a> <a href="/tags/Android开源库/" style="font-size: 11.54px;">Android开源库</a> <a href="/tags/Android源码/" style="font-size: 10px;">Android源码</a> <a href="/tags/Angular/" style="font-size: 10px;">Angular</a> <a href="/tags/BroadcastReceiver/" style="font-size: 10px;">BroadcastReceiver</a> <a href="/tags/CentOS/" style="font-size: 11.54px;">CentOS</a> <a href="/tags/CodeStyle/" style="font-size: 10px;">CodeStyle</a> <a href="/tags/Docker/" style="font-size: 12.31px;">Docker</a> <a href="/tags/Drawable/" style="font-size: 10.77px;">Drawable</a> <a href="/tags/EditText/" style="font-size: 10px;">EditText</a> <a href="/tags/FileProvider/" style="font-size: 10px;">FileProvider</a> <a href="/tags/Flex/" style="font-size: 10px;">Flex</a> <a href="/tags/Flutter/" style="font-size: 10px;">Flutter</a> <a href="/tags/Fragment/" style="font-size: 12.31px;">Fragment</a> <a href="/tags/Framework/" style="font-size: 15.38px;">Framework</a> <a href="/tags/Gank-io/" style="font-size: 12.31px;">Gank.io</a> <a href="/tags/Gitlab/" style="font-size: 10px;">Gitlab</a> <a href="/tags/HAL/" style="font-size: 10px;">HAL</a> <a href="/tags/IDEA插件/" style="font-size: 10px;">IDEA插件</a> <a href="/tags/JetPack/" style="font-size: 10px;">JetPack</a> <a href="/tags/Kotlin/" style="font-size: 13.85px;">Kotlin</a> <a href="/tags/LeetCode/" style="font-size: 12.31px;">LeetCode</a> <a href="/tags/Linux/" style="font-size: 13.85px;">Linux</a> <a href="/tags/MPAndroidChart/" style="font-size: 16.15px;">MPAndroidChart</a> <a href="/tags/MacOS/" style="font-size: 10px;">MacOS</a> <a href="/tags/Markdown/" style="font-size: 10px;">Markdown</a> <a href="/tags/MultiDex/" style="font-size: 10px;">MultiDex</a> <a href="/tags/Mysql/" style="font-size: 10.77px;">Mysql</a> <a href="/tags/NDK/" style="font-size: 10px;">NDK</a> <a href="/tags/PMDReader/" style="font-size: 10px;">PMDReader</a> <a href="/tags/Picasso/" style="font-size: 10px;">Picasso</a> <a href="/tags/PowerDesign/" style="font-size: 10px;">PowerDesign</a> <a href="/tags/Realm/" style="font-size: 15.38px;">Realm</a> <a href="/tags/RecyclerView/" style="font-size: 11.54px;">RecyclerView</a> <a href="/tags/Retrofit/" style="font-size: 10px;">Retrofit</a> <a href="/tags/RxJava/" style="font-size: 11.54px;">RxJava</a> <a href="/tags/Service/" style="font-size: 10px;">Service</a> <a href="/tags/Smali/" style="font-size: 10.77px;">Smali</a> <a href="/tags/TabLayout/" style="font-size: 10px;">TabLayout</a> <a href="/tags/Tomcat/" style="font-size: 10px;">Tomcat</a> <a href="/tags/View/" style="font-size: 10px;">View</a> <a href="/tags/WanANdroid/" style="font-size: 10px;">WanANdroid</a> <a href="/tags/WebService/" style="font-size: 10px;">WebService</a> <a href="/tags/Xen/" style="font-size: 11.54px;">Xen</a> <a href="/tags/allowBackup/" style="font-size: 10px;">allowBackup</a> <a href="/tags/事件分发/" style="font-size: 10px;">事件分发</a> <a href="/tags/动画/" style="font-size: 11.54px;">动画</a> <a href="/tags/四大组件/" style="font-size: 10px;">四大组件</a> <a href="/tags/多线程/" style="font-size: 10px;">多线程</a> <a href="/tags/局域网/" style="font-size: 10px;">局域网</a> <a href="/tags/屏幕适配/" style="font-size: 10px;">屏幕适配</a> <a href="/tags/工具/" style="font-size: 10px;">工具</a> <a href="/tags/布局控件/" style="font-size: 20px;">布局控件</a> <a href="/tags/应用/" style="font-size: 17.69px;">应用</a> <a href="/tags/开发问题/" style="font-size: 10px;">开发问题</a> <a href="/tags/开机动画/" style="font-size: 10.77px;">开机动画</a> <a href="/tags/开源/" style="font-size: 11.54px;">开源</a> <a href="/tags/开源库/" style="font-size: 19.23px;">开源库</a> <a href="/tags/微信公众号/" style="font-size: 10px;">微信公众号</a> <a href="/tags/快捷键/" style="font-size: 10px;">快捷键</a> <a href="/tags/手电筒/" style="font-size: 10px;">手电筒</a> <a href="/tags/技术选型/" style="font-size: 10px;">技术选型</a> <a href="/tags/文本/" style="font-size: 10px;">文本</a> <a href="/tags/框架/" style="font-size: 10px;">框架</a> <a href="/tags/源码分析/" style="font-size: 11.54px;">源码分析</a> <a href="/tags/百度地图/" style="font-size: 12.31px;">百度地图</a> <a href="/tags/系统源码/" style="font-size: 10px;">系统源码</a> <a href="/tags/终端/" style="font-size: 10px;">终端</a> <a href="/tags/聚合数据/" style="font-size: 10px;">聚合数据</a> <a href="/tags/自定义View/" style="font-size: 14.62px;">自定义View</a> <a href="/tags/虚拟化/" style="font-size: 11.54px;">虚拟化</a> <a href="/tags/设计模式/" style="font-size: 10.77px;">设计模式</a> <a href="/tags/译文/" style="font-size: 16.92px;">译文</a> <a href="/tags/贪吃蛇/" style="font-size: 10px;">贪吃蛇</a> <a href="/tags/资源/" style="font-size: 10px;">资源</a> <a href="/tags/资源配置/" style="font-size: 10px;">资源配置</a> <a href="/tags/辅助工具/" style="font-size: 10px;">辅助工具</a> <a href="/tags/配置/" style="font-size: 12.31px;">配置</a>
    </div>
</div>

    
    
        <div class="column-right-shadow is-hidden-widescreen ">
        
            
<div class="card widget">
    <div class="card-content">
        <h3 class="menu-label">
            最新文章
        </h3>
        
        <article class="media">
            
            <a href="/2019/06/10/《LeetCode-0004》 寻找两个有序数组的中位数-Median of Two Sorted Arrays/" class="media-left">
                <p class="image is-64x64">
                    <img class="thumbnail" src="/images/thumbnail.svg" alt="《LeetCode-0004》 寻找两个有序数组的中位数-Median of Two Sorted Arrays">
                </p>
            </a>
            
            <div class="media-content">
                <div class="content">
                    <div><time class="has-text-grey is-size-7 is-uppercase" datetime="2019-06-10T12:51:43.000Z">2019-06-10</time></div>
                    <a href="/2019/06/10/《LeetCode-0004》 寻找两个有序数组的中位数-Median of Two Sorted Arrays/" class="has-link-black-ter is-size-6">《LeetCode-0004》 寻找两个有序数组的中位数-Median of Two Sorted Arrays</a>
                    <p class="is-size-7 is-uppercase">
                        <a class="has-link-grey -link" href="/categories/LeetCode/">LeetCode</a>
                    </p>
                </div>
            </div>
        </article>
        
        <article class="media">
            
            <a href="/2019/06/01/《LeetCode-0003》 无重复字符的最长子串-Longest Substring Without Repeating Characters/" class="media-left">
                <p class="image is-64x64">
                    <img class="thumbnail" src="/images/thumbnail.svg" alt="《LeetCode-0003》 无重复字符的最长子串-Longest Substring Without Repeating Characters">
                </p>
            </a>
            
            <div class="media-content">
                <div class="content">
                    <div><time class="has-text-grey is-size-7 is-uppercase" datetime="2019-06-01T00:53:29.000Z">2019-06-01</time></div>
                    <a href="/2019/06/01/《LeetCode-0003》 无重复字符的最长子串-Longest Substring Without Repeating Characters/" class="has-link-black-ter is-size-6">《LeetCode-0003》 无重复字符的最长子串-Longest Substring Without Repeating Characters</a>
                    <p class="is-size-7 is-uppercase">
                        <a class="has-link-grey -link" href="/categories/LeetCode/">LeetCode</a>
                    </p>
                </div>
            </div>
        </article>
        
        <article class="media">
            
            <a href="/2019/05/26/《LeetCode-0002》 两数相加-Add Two Numbers/" class="media-left">
                <p class="image is-64x64">
                    <img class="thumbnail" src="/images/thumbnail.svg" alt="《LeetCode-0002》 两数相加-Add Two Numbers">
                </p>
            </a>
            
            <div class="media-content">
                <div class="content">
                    <div><time class="has-text-grey is-size-7 is-uppercase" datetime="2019-05-26T07:01:33.000Z">2019-05-26</time></div>
                    <a href="/2019/05/26/《LeetCode-0002》 两数相加-Add Two Numbers/" class="has-link-black-ter is-size-6">《LeetCode-0002》 两数相加-Add Two Numbers</a>
                    <p class="is-size-7 is-uppercase">
                        <a class="has-link-grey -link" href="/categories/LeetCode/">LeetCode</a>
                    </p>
                </div>
            </div>
        </article>
        
        <article class="media">
            
            <a href="/2019/05/26/《LeetCode-0001》 两数之和-TwoSum/" class="media-left">
                <p class="image is-64x64">
                    <img class="thumbnail" src="/images/thumbnail.svg" alt="《LeetCode-0001》 两数之和-TwoSum">
                </p>
            </a>
            
            <div class="media-content">
                <div class="content">
                    <div><time class="has-text-grey is-size-7 is-uppercase" datetime="2019-05-26T01:53:45.000Z">2019-05-26</time></div>
                    <a href="/2019/05/26/《LeetCode-0001》 两数之和-TwoSum/" class="has-link-black-ter is-size-6">《LeetCode-0001》 两数之和-TwoSum</a>
                    <p class="is-size-7 is-uppercase">
                        <a class="has-link-grey -link" href="/categories/LeetCode/">LeetCode</a>
                    </p>
                </div>
            </div>
        </article>
        
        <article class="media">
            
            <a href="/2019/04/01/MacOS 10.11.6 Android源码编译并刷机/" class="media-left">
                <p class="image is-64x64">
                    <img class="thumbnail" src="/images/thumbnail.svg" alt="MacOS 10.11.6 Android源码编译并刷机">
                </p>
            </a>
            
            <div class="media-content">
                <div class="content">
                    <div><time class="has-text-grey is-size-7 is-uppercase" datetime="2019-04-01T11:57:08.000Z">2019-04-01</time></div>
                    <a href="/2019/04/01/MacOS 10.11.6 Android源码编译并刷机/" class="has-link-black-ter is-size-6">MacOS 10.11.6 Android源码编译并刷机</a>
                    <p class="is-size-7 is-uppercase">
                        <a class="has-link-grey -link" href="/categories/Android系统/">Android系统</a>
                    </p>
                </div>
            </div>
        </article>
        
    </div>
</div>

        
            <div class="card widget">
    <div class="card-content">
        <div class="menu">
        <h3 class="menu-label">
            归档
        </h3>
        <ul class="menu-list">
        
        <li>
            <a class="level is-marginless" href="/archives/2019/06/">
                <span class="level-start">
                    <span class="level-item">六月 2019</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">2</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2019/05/">
                <span class="level-start">
                    <span class="level-item">五月 2019</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">2</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2019/04/">
                <span class="level-start">
                    <span class="level-item">四月 2019</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">1</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2019/03/">
                <span class="level-start">
                    <span class="level-item">三月 2019</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">3</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2019/01/">
                <span class="level-start">
                    <span class="level-item">一月 2019</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">2</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2018/12/">
                <span class="level-start">
                    <span class="level-item">十二月 2018</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">1</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2018/10/">
                <span class="level-start">
                    <span class="level-item">十月 2018</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">4</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2018/08/">
                <span class="level-start">
                    <span class="level-item">八月 2018</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">2</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2018/06/">
                <span class="level-start">
                    <span class="level-item">六月 2018</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">4</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2018/05/">
                <span class="level-start">
                    <span class="level-item">五月 2018</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">1</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2018/04/">
                <span class="level-start">
                    <span class="level-item">四月 2018</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">4</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2018/03/">
                <span class="level-start">
                    <span class="level-item">三月 2018</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">1</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2018/02/">
                <span class="level-start">
                    <span class="level-item">二月 2018</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">1</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2018/01/">
                <span class="level-start">
                    <span class="level-item">一月 2018</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">5</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2017/11/">
                <span class="level-start">
                    <span class="level-item">十一月 2017</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">1</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2017/10/">
                <span class="level-start">
                    <span class="level-item">十月 2017</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">4</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2017/09/">
                <span class="level-start">
                    <span class="level-item">九月 2017</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">6</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2017/08/">
                <span class="level-start">
                    <span class="level-item">八月 2017</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">4</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2017/07/">
                <span class="level-start">
                    <span class="level-item">七月 2017</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">2</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2017/06/">
                <span class="level-start">
                    <span class="level-item">六月 2017</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">8</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2017/05/">
                <span class="level-start">
                    <span class="level-item">五月 2017</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">7</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2017/04/">
                <span class="level-start">
                    <span class="level-item">四月 2017</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">5</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2017/03/">
                <span class="level-start">
                    <span class="level-item">三月 2017</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">11</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2017/02/">
                <span class="level-start">
                    <span class="level-item">二月 2017</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">4</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2017/01/">
                <span class="level-start">
                    <span class="level-item">一月 2017</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">5</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2016/12/">
                <span class="level-start">
                    <span class="level-item">十二月 2016</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">5</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2016/11/">
                <span class="level-start">
                    <span class="level-item">十一月 2016</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">8</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2016/10/">
                <span class="level-start">
                    <span class="level-item">十月 2016</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">4</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2016/09/">
                <span class="level-start">
                    <span class="level-item">九月 2016</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">11</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2016/08/">
                <span class="level-start">
                    <span class="level-item">八月 2016</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">9</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2016/07/">
                <span class="level-start">
                    <span class="level-item">七月 2016</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">9</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2016/06/">
                <span class="level-start">
                    <span class="level-item">六月 2016</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">7</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2016/05/">
                <span class="level-start">
                    <span class="level-item">五月 2016</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">8</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2016/04/">
                <span class="level-start">
                    <span class="level-item">四月 2016</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">4</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2015/10/">
                <span class="level-start">
                    <span class="level-item">十月 2015</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">1</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2015/09/">
                <span class="level-start">
                    <span class="level-item">九月 2015</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">1</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2015/08/">
                <span class="level-start">
                    <span class="level-item">八月 2015</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">3</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2014/04/">
                <span class="level-start">
                    <span class="level-item">四月 2014</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">3</span>
                </span>
            </a>
        </li>
        
        </ul>
        </div>
    </div>
</div>
        
            <div class="card widget">
    <div class="card-content">
        <div class="menu">
            <h3 class="menu-label">
                标签
            </h3>
            <div class="field is-grouped is-grouped-multiline">
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Aandroid实战/">
                        <span class="tag">Aandroid实战</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Android-Studio/">
                        <span class="tag">Android Studio</span>
                        <span class="tag is-grey">5</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Android基础/">
                        <span class="tag">Android基础</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Android实战/">
                        <span class="tag">Android实战</span>
                        <span class="tag is-grey">27</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Android开源库/">
                        <span class="tag">Android开源库</span>
                        <span class="tag is-grey">3</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Android源码/">
                        <span class="tag">Android源码</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Angular/">
                        <span class="tag">Angular</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/BroadcastReceiver/">
                        <span class="tag">BroadcastReceiver</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/CentOS/">
                        <span class="tag">CentOS</span>
                        <span class="tag is-grey">3</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/CodeStyle/">
                        <span class="tag">CodeStyle</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Docker/">
                        <span class="tag">Docker</span>
                        <span class="tag is-grey">4</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Drawable/">
                        <span class="tag">Drawable</span>
                        <span class="tag is-grey">2</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/EditText/">
                        <span class="tag">EditText</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/FileProvider/">
                        <span class="tag">FileProvider</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Flex/">
                        <span class="tag">Flex</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Flutter/">
                        <span class="tag">Flutter</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Fragment/">
                        <span class="tag">Fragment</span>
                        <span class="tag is-grey">4</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Framework/">
                        <span class="tag">Framework</span>
                        <span class="tag is-grey">9</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Gank-io/">
                        <span class="tag">Gank.io</span>
                        <span class="tag is-grey">4</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Gitlab/">
                        <span class="tag">Gitlab</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/HAL/">
                        <span class="tag">HAL</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/IDEA插件/">
                        <span class="tag">IDEA插件</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/JetPack/">
                        <span class="tag">JetPack</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Kotlin/">
                        <span class="tag">Kotlin</span>
                        <span class="tag is-grey">6</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/LeetCode/">
                        <span class="tag">LeetCode</span>
                        <span class="tag is-grey">4</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Linux/">
                        <span class="tag">Linux</span>
                        <span class="tag is-grey">6</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/MPAndroidChart/">
                        <span class="tag">MPAndroidChart</span>
                        <span class="tag is-grey">11</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/MacOS/">
                        <span class="tag">MacOS</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Markdown/">
                        <span class="tag">Markdown</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/MultiDex/">
                        <span class="tag">MultiDex</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Mysql/">
                        <span class="tag">Mysql</span>
                        <span class="tag is-grey">2</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/NDK/">
                        <span class="tag">NDK</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/PMDReader/">
                        <span class="tag">PMDReader</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Picasso/">
                        <span class="tag">Picasso</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/PowerDesign/">
                        <span class="tag">PowerDesign</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Realm/">
                        <span class="tag">Realm</span>
                        <span class="tag is-grey">9</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/RecyclerView/">
                        <span class="tag">RecyclerView</span>
                        <span class="tag is-grey">3</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Retrofit/">
                        <span class="tag">Retrofit</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/RxJava/">
                        <span class="tag">RxJava</span>
                        <span class="tag is-grey">3</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Service/">
                        <span class="tag">Service</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Smali/">
                        <span class="tag">Smali</span>
                        <span class="tag is-grey">2</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/TabLayout/">
                        <span class="tag">TabLayout</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Tomcat/">
                        <span class="tag">Tomcat</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/View/">
                        <span class="tag">View</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/WanANdroid/">
                        <span class="tag">WanANdroid</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/WebService/">
                        <span class="tag">WebService</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Xen/">
                        <span class="tag">Xen</span>
                        <span class="tag is-grey">3</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/allowBackup/">
                        <span class="tag">allowBackup</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/事件分发/">
                        <span class="tag">事件分发</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/动画/">
                        <span class="tag">动画</span>
                        <span class="tag is-grey">3</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/四大组件/">
                        <span class="tag">四大组件</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/多线程/">
                        <span class="tag">多线程</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/局域网/">
                        <span class="tag">局域网</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/屏幕适配/">
                        <span class="tag">屏幕适配</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/工具/">
                        <span class="tag">工具</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/布局控件/">
                        <span class="tag">布局控件</span>
                        <span class="tag is-grey">31</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/应用/">
                        <span class="tag">应用</span>
                        <span class="tag is-grey">24</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/开发问题/">
                        <span class="tag">开发问题</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/开机动画/">
                        <span class="tag">开机动画</span>
                        <span class="tag is-grey">2</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/开源/">
                        <span class="tag">开源</span>
                        <span class="tag is-grey">3</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/开源库/">
                        <span class="tag">开源库</span>
                        <span class="tag is-grey">28</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/微信公众号/">
                        <span class="tag">微信公众号</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/快捷键/">
                        <span class="tag">快捷键</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/手电筒/">
                        <span class="tag">手电筒</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/技术选型/">
                        <span class="tag">技术选型</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/文本/">
                        <span class="tag">文本</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/框架/">
                        <span class="tag">框架</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/源码分析/">
                        <span class="tag">源码分析</span>
                        <span class="tag is-grey">3</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/百度地图/">
                        <span class="tag">百度地图</span>
                        <span class="tag is-grey">4</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/系统源码/">
                        <span class="tag">系统源码</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/终端/">
                        <span class="tag">终端</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/聚合数据/">
                        <span class="tag">聚合数据</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/自定义View/">
                        <span class="tag">自定义View</span>
                        <span class="tag is-grey">8</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/虚拟化/">
                        <span class="tag">虚拟化</span>
                        <span class="tag is-grey">3</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/设计模式/">
                        <span class="tag">设计模式</span>
                        <span class="tag is-grey">2</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/译文/">
                        <span class="tag">译文</span>
                        <span class="tag is-grey">20</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/贪吃蛇/">
                        <span class="tag">贪吃蛇</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/资源/">
                        <span class="tag">资源</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/资源配置/">
                        <span class="tag">资源配置</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/辅助工具/">
                        <span class="tag">辅助工具</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/配置/">
                        <span class="tag">配置</span>
                        <span class="tag is-grey">4</span>
                    </a>
                </div>
                
            </div>
        </div>
    </div>
</div>
        
        </div>
    
</div>

                




<div class="column is-4-tablet is-4-desktop is-3-widescreen is-hidden-touch is-hidden-desktop-only has-order-3 column-right ">
    
        
<div class="card widget">
    <div class="card-content">
        <h3 class="menu-label">
            最新文章
        </h3>
        
        <article class="media">
            
            <a href="/2019/06/10/《LeetCode-0004》 寻找两个有序数组的中位数-Median of Two Sorted Arrays/" class="media-left">
                <p class="image is-64x64">
                    <img class="thumbnail" src="/images/thumbnail.svg" alt="《LeetCode-0004》 寻找两个有序数组的中位数-Median of Two Sorted Arrays">
                </p>
            </a>
            
            <div class="media-content">
                <div class="content">
                    <div><time class="has-text-grey is-size-7 is-uppercase" datetime="2019-06-10T12:51:43.000Z">2019-06-10</time></div>
                    <a href="/2019/06/10/《LeetCode-0004》 寻找两个有序数组的中位数-Median of Two Sorted Arrays/" class="has-link-black-ter is-size-6">《LeetCode-0004》 寻找两个有序数组的中位数-Median of Two Sorted Arrays</a>
                    <p class="is-size-7 is-uppercase">
                        <a class="has-link-grey -link" href="/categories/LeetCode/">LeetCode</a>
                    </p>
                </div>
            </div>
        </article>
        
        <article class="media">
            
            <a href="/2019/06/01/《LeetCode-0003》 无重复字符的最长子串-Longest Substring Without Repeating Characters/" class="media-left">
                <p class="image is-64x64">
                    <img class="thumbnail" src="/images/thumbnail.svg" alt="《LeetCode-0003》 无重复字符的最长子串-Longest Substring Without Repeating Characters">
                </p>
            </a>
            
            <div class="media-content">
                <div class="content">
                    <div><time class="has-text-grey is-size-7 is-uppercase" datetime="2019-06-01T00:53:29.000Z">2019-06-01</time></div>
                    <a href="/2019/06/01/《LeetCode-0003》 无重复字符的最长子串-Longest Substring Without Repeating Characters/" class="has-link-black-ter is-size-6">《LeetCode-0003》 无重复字符的最长子串-Longest Substring Without Repeating Characters</a>
                    <p class="is-size-7 is-uppercase">
                        <a class="has-link-grey -link" href="/categories/LeetCode/">LeetCode</a>
                    </p>
                </div>
            </div>
        </article>
        
        <article class="media">
            
            <a href="/2019/05/26/《LeetCode-0002》 两数相加-Add Two Numbers/" class="media-left">
                <p class="image is-64x64">
                    <img class="thumbnail" src="/images/thumbnail.svg" alt="《LeetCode-0002》 两数相加-Add Two Numbers">
                </p>
            </a>
            
            <div class="media-content">
                <div class="content">
                    <div><time class="has-text-grey is-size-7 is-uppercase" datetime="2019-05-26T07:01:33.000Z">2019-05-26</time></div>
                    <a href="/2019/05/26/《LeetCode-0002》 两数相加-Add Two Numbers/" class="has-link-black-ter is-size-6">《LeetCode-0002》 两数相加-Add Two Numbers</a>
                    <p class="is-size-7 is-uppercase">
                        <a class="has-link-grey -link" href="/categories/LeetCode/">LeetCode</a>
                    </p>
                </div>
            </div>
        </article>
        
        <article class="media">
            
            <a href="/2019/05/26/《LeetCode-0001》 两数之和-TwoSum/" class="media-left">
                <p class="image is-64x64">
                    <img class="thumbnail" src="/images/thumbnail.svg" alt="《LeetCode-0001》 两数之和-TwoSum">
                </p>
            </a>
            
            <div class="media-content">
                <div class="content">
                    <div><time class="has-text-grey is-size-7 is-uppercase" datetime="2019-05-26T01:53:45.000Z">2019-05-26</time></div>
                    <a href="/2019/05/26/《LeetCode-0001》 两数之和-TwoSum/" class="has-link-black-ter is-size-6">《LeetCode-0001》 两数之和-TwoSum</a>
                    <p class="is-size-7 is-uppercase">
                        <a class="has-link-grey -link" href="/categories/LeetCode/">LeetCode</a>
                    </p>
                </div>
            </div>
        </article>
        
        <article class="media">
            
            <a href="/2019/04/01/MacOS 10.11.6 Android源码编译并刷机/" class="media-left">
                <p class="image is-64x64">
                    <img class="thumbnail" src="/images/thumbnail.svg" alt="MacOS 10.11.6 Android源码编译并刷机">
                </p>
            </a>
            
            <div class="media-content">
                <div class="content">
                    <div><time class="has-text-grey is-size-7 is-uppercase" datetime="2019-04-01T11:57:08.000Z">2019-04-01</time></div>
                    <a href="/2019/04/01/MacOS 10.11.6 Android源码编译并刷机/" class="has-link-black-ter is-size-6">MacOS 10.11.6 Android源码编译并刷机</a>
                    <p class="is-size-7 is-uppercase">
                        <a class="has-link-grey -link" href="/categories/Android系统/">Android系统</a>
                    </p>
                </div>
            </div>
        </article>
        
    </div>
</div>

    
        <div class="card widget">
    <div class="card-content">
        <div class="menu">
        <h3 class="menu-label">
            归档
        </h3>
        <ul class="menu-list">
        
        <li>
            <a class="level is-marginless" href="/archives/2019/06/">
                <span class="level-start">
                    <span class="level-item">六月 2019</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">2</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2019/05/">
                <span class="level-start">
                    <span class="level-item">五月 2019</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">2</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2019/04/">
                <span class="level-start">
                    <span class="level-item">四月 2019</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">1</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2019/03/">
                <span class="level-start">
                    <span class="level-item">三月 2019</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">3</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2019/01/">
                <span class="level-start">
                    <span class="level-item">一月 2019</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">2</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2018/12/">
                <span class="level-start">
                    <span class="level-item">十二月 2018</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">1</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2018/10/">
                <span class="level-start">
                    <span class="level-item">十月 2018</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">4</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2018/08/">
                <span class="level-start">
                    <span class="level-item">八月 2018</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">2</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2018/06/">
                <span class="level-start">
                    <span class="level-item">六月 2018</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">4</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2018/05/">
                <span class="level-start">
                    <span class="level-item">五月 2018</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">1</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2018/04/">
                <span class="level-start">
                    <span class="level-item">四月 2018</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">4</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2018/03/">
                <span class="level-start">
                    <span class="level-item">三月 2018</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">1</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2018/02/">
                <span class="level-start">
                    <span class="level-item">二月 2018</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">1</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2018/01/">
                <span class="level-start">
                    <span class="level-item">一月 2018</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">5</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2017/11/">
                <span class="level-start">
                    <span class="level-item">十一月 2017</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">1</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2017/10/">
                <span class="level-start">
                    <span class="level-item">十月 2017</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">4</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2017/09/">
                <span class="level-start">
                    <span class="level-item">九月 2017</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">6</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2017/08/">
                <span class="level-start">
                    <span class="level-item">八月 2017</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">4</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2017/07/">
                <span class="level-start">
                    <span class="level-item">七月 2017</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">2</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2017/06/">
                <span class="level-start">
                    <span class="level-item">六月 2017</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">8</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2017/05/">
                <span class="level-start">
                    <span class="level-item">五月 2017</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">7</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2017/04/">
                <span class="level-start">
                    <span class="level-item">四月 2017</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">5</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2017/03/">
                <span class="level-start">
                    <span class="level-item">三月 2017</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">11</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2017/02/">
                <span class="level-start">
                    <span class="level-item">二月 2017</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">4</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2017/01/">
                <span class="level-start">
                    <span class="level-item">一月 2017</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">5</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2016/12/">
                <span class="level-start">
                    <span class="level-item">十二月 2016</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">5</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2016/11/">
                <span class="level-start">
                    <span class="level-item">十一月 2016</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">8</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2016/10/">
                <span class="level-start">
                    <span class="level-item">十月 2016</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">4</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2016/09/">
                <span class="level-start">
                    <span class="level-item">九月 2016</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">11</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2016/08/">
                <span class="level-start">
                    <span class="level-item">八月 2016</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">9</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2016/07/">
                <span class="level-start">
                    <span class="level-item">七月 2016</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">9</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2016/06/">
                <span class="level-start">
                    <span class="level-item">六月 2016</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">7</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2016/05/">
                <span class="level-start">
                    <span class="level-item">五月 2016</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">8</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2016/04/">
                <span class="level-start">
                    <span class="level-item">四月 2016</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">4</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2015/10/">
                <span class="level-start">
                    <span class="level-item">十月 2015</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">1</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2015/09/">
                <span class="level-start">
                    <span class="level-item">九月 2015</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">1</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2015/08/">
                <span class="level-start">
                    <span class="level-item">八月 2015</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">3</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2014/04/">
                <span class="level-start">
                    <span class="level-item">四月 2014</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">3</span>
                </span>
            </a>
        </li>
        
        </ul>
        </div>
    </div>
</div>
    
        <div class="card widget">
    <div class="card-content">
        <div class="menu">
            <h3 class="menu-label">
                标签
            </h3>
            <div class="field is-grouped is-grouped-multiline">
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Aandroid实战/">
                        <span class="tag">Aandroid实战</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Android-Studio/">
                        <span class="tag">Android Studio</span>
                        <span class="tag is-grey">5</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Android基础/">
                        <span class="tag">Android基础</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Android实战/">
                        <span class="tag">Android实战</span>
                        <span class="tag is-grey">27</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Android开源库/">
                        <span class="tag">Android开源库</span>
                        <span class="tag is-grey">3</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Android源码/">
                        <span class="tag">Android源码</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Angular/">
                        <span class="tag">Angular</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/BroadcastReceiver/">
                        <span class="tag">BroadcastReceiver</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/CentOS/">
                        <span class="tag">CentOS</span>
                        <span class="tag is-grey">3</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/CodeStyle/">
                        <span class="tag">CodeStyle</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Docker/">
                        <span class="tag">Docker</span>
                        <span class="tag is-grey">4</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Drawable/">
                        <span class="tag">Drawable</span>
                        <span class="tag is-grey">2</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/EditText/">
                        <span class="tag">EditText</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/FileProvider/">
                        <span class="tag">FileProvider</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Flex/">
                        <span class="tag">Flex</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Flutter/">
                        <span class="tag">Flutter</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Fragment/">
                        <span class="tag">Fragment</span>
                        <span class="tag is-grey">4</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Framework/">
                        <span class="tag">Framework</span>
                        <span class="tag is-grey">9</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Gank-io/">
                        <span class="tag">Gank.io</span>
                        <span class="tag is-grey">4</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Gitlab/">
                        <span class="tag">Gitlab</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/HAL/">
                        <span class="tag">HAL</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/IDEA插件/">
                        <span class="tag">IDEA插件</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/JetPack/">
                        <span class="tag">JetPack</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Kotlin/">
                        <span class="tag">Kotlin</span>
                        <span class="tag is-grey">6</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/LeetCode/">
                        <span class="tag">LeetCode</span>
                        <span class="tag is-grey">4</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Linux/">
                        <span class="tag">Linux</span>
                        <span class="tag is-grey">6</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/MPAndroidChart/">
                        <span class="tag">MPAndroidChart</span>
                        <span class="tag is-grey">11</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/MacOS/">
                        <span class="tag">MacOS</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Markdown/">
                        <span class="tag">Markdown</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/MultiDex/">
                        <span class="tag">MultiDex</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Mysql/">
                        <span class="tag">Mysql</span>
                        <span class="tag is-grey">2</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/NDK/">
                        <span class="tag">NDK</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/PMDReader/">
                        <span class="tag">PMDReader</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Picasso/">
                        <span class="tag">Picasso</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/PowerDesign/">
                        <span class="tag">PowerDesign</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Realm/">
                        <span class="tag">Realm</span>
                        <span class="tag is-grey">9</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/RecyclerView/">
                        <span class="tag">RecyclerView</span>
                        <span class="tag is-grey">3</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Retrofit/">
                        <span class="tag">Retrofit</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/RxJava/">
                        <span class="tag">RxJava</span>
                        <span class="tag is-grey">3</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Service/">
                        <span class="tag">Service</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Smali/">
                        <span class="tag">Smali</span>
                        <span class="tag is-grey">2</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/TabLayout/">
                        <span class="tag">TabLayout</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Tomcat/">
                        <span class="tag">Tomcat</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/View/">
                        <span class="tag">View</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/WanANdroid/">
                        <span class="tag">WanANdroid</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/WebService/">
                        <span class="tag">WebService</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/Xen/">
                        <span class="tag">Xen</span>
                        <span class="tag is-grey">3</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/allowBackup/">
                        <span class="tag">allowBackup</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/事件分发/">
                        <span class="tag">事件分发</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/动画/">
                        <span class="tag">动画</span>
                        <span class="tag is-grey">3</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/四大组件/">
                        <span class="tag">四大组件</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/多线程/">
                        <span class="tag">多线程</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/局域网/">
                        <span class="tag">局域网</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/屏幕适配/">
                        <span class="tag">屏幕适配</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/工具/">
                        <span class="tag">工具</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/布局控件/">
                        <span class="tag">布局控件</span>
                        <span class="tag is-grey">31</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/应用/">
                        <span class="tag">应用</span>
                        <span class="tag is-grey">24</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/开发问题/">
                        <span class="tag">开发问题</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/开机动画/">
                        <span class="tag">开机动画</span>
                        <span class="tag is-grey">2</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/开源/">
                        <span class="tag">开源</span>
                        <span class="tag is-grey">3</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/开源库/">
                        <span class="tag">开源库</span>
                        <span class="tag is-grey">28</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/微信公众号/">
                        <span class="tag">微信公众号</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/快捷键/">
                        <span class="tag">快捷键</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/手电筒/">
                        <span class="tag">手电筒</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/技术选型/">
                        <span class="tag">技术选型</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/文本/">
                        <span class="tag">文本</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/框架/">
                        <span class="tag">框架</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/源码分析/">
                        <span class="tag">源码分析</span>
                        <span class="tag is-grey">3</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/百度地图/">
                        <span class="tag">百度地图</span>
                        <span class="tag is-grey">4</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/系统源码/">
                        <span class="tag">系统源码</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/终端/">
                        <span class="tag">终端</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/聚合数据/">
                        <span class="tag">聚合数据</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/自定义View/">
                        <span class="tag">自定义View</span>
                        <span class="tag is-grey">8</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/虚拟化/">
                        <span class="tag">虚拟化</span>
                        <span class="tag is-grey">3</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/设计模式/">
                        <span class="tag">设计模式</span>
                        <span class="tag is-grey">2</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/译文/">
                        <span class="tag">译文</span>
                        <span class="tag is-grey">20</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/贪吃蛇/">
                        <span class="tag">贪吃蛇</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/资源/">
                        <span class="tag">资源</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/资源配置/">
                        <span class="tag">资源配置</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/辅助工具/">
                        <span class="tag">辅助工具</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/配置/">
                        <span class="tag">配置</span>
                        <span class="tag is-grey">4</span>
                    </a>
                </div>
                
            </div>
        </div>
    </div>
</div>
    
    
</div>

            </div>
        </div>
    </section>
    <footer class="footer">
    <div class="container">
        <div class="level">
            <div class="level-start has-text-centered-mobile">
                <a class="footer-logo is-block has-mb-6" href="/">
                
                    <img src="/images/logo.svg" alt="onlyloveyd" height="28">
                
                </a>
                <p class="is-size-7">
                &copy; 2019 yidong&nbsp;
                Powered by <a href="https://hexo.io/" target="_blank">Hexo</a> & <a href="https://github.com/ppoffice/hexo-theme-icarus" target="_blank">Icarus</a>
                
                </p>
            </div>
            <div class="level-end">
            
                <div class="field has-addons is-flex-center-mobile has-mt-5-mobile is-flex-wrap is-flex-middle">
                
                
                <p class="control">
                    <a class="button is-white is-large" target="_blank" title="Creative Commons" href="https://creativecommons.org/">
                        
                        <i class="fab fa-creative-commons"></i>
                        
                    </a>
                </p>
                
                <p class="control">
                    <a class="button is-white is-large" target="_blank" title="Attribution 4.0 International" href="https://creativecommons.org/licenses/by/4.0/">
                        
                        <i class="fab fa-creative-commons-by"></i>
                        
                    </a>
                </p>
                
                <p class="control">
                    <a class="button is-white is-large" target="_blank" title="Download on GitHub" href="https://github.com/ppoffice/hexo-theme-icarus">
                        
                        <i class="fab fa-github"></i>
                        
                    </a>
                </p>
                
                </div>
            
            </div>
        </div>
    </div>
</footer>
    <script src="https://cdn.jsdelivr.net/npm/jquery@3.3.1/dist/jquery.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/moment@2.22.2/min/moment-with-locales.min.js"></script>
<script>moment.locale("zh-CN");</script>


    
    
    
    <script src="/js/animation.js"></script>
    

    
    
    
    <script src="https://cdn.jsdelivr.net/npm/lightgallery@1.6.8/dist/js/lightgallery.min.js" defer></script>
    <script src="https://cdn.jsdelivr.net/npm/justifiedGallery@3.7.0/dist/js/jquery.justifiedGallery.min.js" defer></script>
    <script src="/js/gallery.js" defer></script>
    

    
    

<div id="outdated">
    <h6>Your browser is out-of-date!</h6>
    <p>Update your browser to view this website correctly. <a id="btnUpdateBrowser" href="http://outdatedbrowser.com/">Update
            my browser now </a></p>
    <p class="last"><a href="#" id="btnCloseUpdateBrowser" title="Close">&times;</a></p>
</div>
<script src="https://cdn.jsdelivr.net/npm/outdatedbrowser@1.1.5/outdatedbrowser/outdatedbrowser.min.js" defer></script>
<script>
    document.addEventListener("DOMContentLoaded", function () {
        outdatedBrowser({
            bgColor: '#f25648',
            color: '#ffffff',
            lowerThan: 'flex'
        });
    });
</script>


    
    
<script src="https://cdn.jsdelivr.net/npm/mathjax@2.7.5/unpacked/MathJax.js?config=TeX-MML-AM_CHTML" defer></script>
<script>
document.addEventListener('DOMContentLoaded', function () {
    MathJax.Hub.Config({
        'HTML-CSS': {
            matchFontHeight: false
        },
        SVG: {
            matchFontHeight: false
        },
        CommonHTML: {
            matchFontHeight: false
        },
        tex2jax: {
            inlineMath: [
                ['$','$'],
                ['\\(','\\)']
            ]
        }
    });
});
</script>

    
    

<a id="back-to-top" title="回到顶端" href="javascript:;">
    <i class="fas fa-chevron-up"></i>
</a>
<script src="/js/back-to-top.js" defer></script>


    
    

    
    
    
    

    
    
    
    
    
    <script src="https://cdn.jsdelivr.net/npm/clipboard@2.0.4/dist/clipboard.min.js" defer></script>
    <script src="/js/clipboard.js" defer></script>
    

    
    
    


<script src="/js/main.js" defer></script>

    
    <div class="searchbox ins-search">
    <div class="searchbox-container ins-search-container">
        <div class="searchbox-input-wrapper">
            <input type="text" class="searchbox-input ins-search-input" placeholder="想要查找什么...">
            <span class="searchbox-close ins-close ins-selectable"><i class="fa fa-times-circle"></i></span>
        </div>
        <div class="searchbox-result-wrapper ins-section-wrapper">
            <div class="ins-section-container"></div>
        </div>
    </div>
</div>
<script>
    (function (window) {
        var INSIGHT_CONFIG = {
            TRANSLATION: {
                POSTS: '文章',
                PAGES: '页面',
                CATEGORIES: '分类',
                TAGS: '标签',
                UNTITLED: '(无标题)',
            },
            CONTENT_URL: '/content.json',
        };
        window.INSIGHT_CONFIG = INSIGHT_CONFIG;
    })(window);
</script>
<script src="/js/insight.js" defer></script>
<link rel="stylesheet" href="/css/search.css">
<link rel="stylesheet" href="/css/insight.css">
    
</body>
</html>